var ES=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var kO=ES((Ef,Al)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const y of c.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&s(y)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */(function(i,t){typeof Al=="object"&&typeof Al.exports=="object"?Al.exports=i.document?t(i,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(i)})(typeof window<"u"?window:void 0,function(i,t){var n=[],s=n.slice,o=n.concat,c=n.push,y=n.indexOf,E={},S=E.toString,R=E.hasOwnProperty,O={},M="1.11.1",d=function(u,g){return new d.fn.init(u,g)},q=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nt=/^-ms-/,dt=/-([\da-z])/gi,_t=function(u,g){return g.toUpperCase()};d.fn=d.prototype={jquery:M,constructor:d,selector:"",length:0,toArray:function(){return s.call(this)},get:function(u){return u!=null?0>u?this[u+this.length]:this[u]:s.call(this)},pushStack:function(u){var g=d.merge(this.constructor(),u);return g.prevObject=this,g.context=this.context,g},each:function(u,g){return d.each(this,u,g)},map:function(u){return this.pushStack(d.map(this,function(g,v){return u.call(g,v,g)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(u){var g=this.length,v=+u+(0>u?g:0);return this.pushStack(v>=0&&g>v?[this[v]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:c,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var u,g,v,T,x,I,V=arguments[0]||{},z=1,st=arguments.length,at=!1;for(typeof V=="boolean"&&(at=V,V=arguments[z]||{},z++),typeof V=="object"||d.isFunction(V)||(V={}),z===st&&(V=this,z--);st>z;z++)if((x=arguments[z])!=null)for(T in x)u=V[T],v=x[T],V!==v&&(at&&v&&(d.isPlainObject(v)||(g=d.isArray(v)))?(g?(g=!1,I=u&&d.isArray(u)?u:[]):I=u&&d.isPlainObject(u)?u:{},V[T]=d.extend(at,I,v)):v!==void 0&&(V[T]=v));return V},d.extend({expando:"jQuery"+(M+Math.random()).replace(/\D/g,""),isReady:!0,error:function(u){throw new Error(u)},noop:function(){},isFunction:function(u){return d.type(u)==="function"},isArray:Array.isArray||function(u){return d.type(u)==="array"},isWindow:function(u){return u!=null&&u==u.window},isNumeric:function(u){return!d.isArray(u)&&u-parseFloat(u)>=0},isEmptyObject:function(u){var g;for(g in u)return!1;return!0},isPlainObject:function(u){var g;if(!u||d.type(u)!=="object"||u.nodeType||d.isWindow(u))return!1;try{if(u.constructor&&!R.call(u,"constructor")&&!R.call(u.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}if(O.ownLast)for(g in u)return R.call(u,g);for(g in u);return g===void 0||R.call(u,g)},type:function(u){return u==null?u+"":typeof u=="object"||typeof u=="function"?E[S.call(u)]||"object":typeof u},globalEval:function(u){u&&d.trim(u)&&(i.execScript||function(g){i.eval.call(i,g)})(u)},camelCase:function(u){return u.replace(nt,"ms-").replace(dt,_t)},nodeName:function(u,g){return u.nodeName&&u.nodeName.toLowerCase()===g.toLowerCase()},each:function(u,g,v){var T,x=0,I=u.length,V=Ut(u);if(v){if(V)for(;I>x&&(T=g.apply(u[x],v),T!==!1);x++);else for(x in u)if(T=g.apply(u[x],v),T===!1)break}else if(V)for(;I>x&&(T=g.call(u[x],x,u[x]),T!==!1);x++);else for(x in u)if(T=g.call(u[x],x,u[x]),T===!1)break;return u},trim:function(u){return u==null?"":(u+"").replace(q,"")},makeArray:function(u,g){var v=g||[];return u!=null&&(Ut(Object(u))?d.merge(v,typeof u=="string"?[u]:u):c.call(v,u)),v},inArray:function(u,g,v){var T;if(g){if(y)return y.call(g,u,v);for(T=g.length,v=v?0>v?Math.max(0,T+v):v:0;T>v;v++)if(v in g&&g[v]===u)return v}return-1},merge:function(u,g){for(var v=+g.length,T=0,x=u.length;v>T;)u[x++]=g[T++];if(v!==v)for(;g[T]!==void 0;)u[x++]=g[T++];return u.length=x,u},grep:function(u,g,v){for(var T,x=[],I=0,V=u.length,z=!v;V>I;I++)T=!g(u[I],I),T!==z&&x.push(u[I]);return x},map:function(u,g,v){var T,x=0,I=u.length,V=Ut(u),z=[];if(V)for(;I>x;x++)T=g(u[x],x,v),T!=null&&z.push(T);else for(x in u)T=g(u[x],x,v),T!=null&&z.push(T);return o.apply([],z)},guid:1,proxy:function(u,g){var v,T,x;return typeof g=="string"&&(x=u[g],g=u,u=x),d.isFunction(u)?(v=s.call(arguments,2),T=function(){return u.apply(g||this,v.concat(s.call(arguments)))},T.guid=u.guid=u.guid||d.guid++,T):void 0},now:function(){return+new Date},support:O}),d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(u,g){E["[object "+g+"]"]=g.toLowerCase()});function Ut(u){var g=u.length,v=d.type(u);return v==="function"||d.isWindow(u)?!1:u.nodeType===1&&g?!0:v==="array"||g===0||typeof g=="number"&&g>0&&g-1 in u}var Tt=(function(u){var g,v,T,x,I,V,z,st,at,ut,Vt,St,Pt,me,$t,fe,mr,Un,Hi,Yt="sizzle"+-new Date,ae=u.document,Ee=0,Se=0,ir=Go(),Gs=Go(),gr=Go(),Mn=function(U,X){return U===X&&(Vt=!0),0},yr="undefined",_r=1<<31,wn={}.hasOwnProperty,h=[],A=h.pop,C=h.push,L=h.push,ot=h.slice,gt=h.indexOf||function(U){for(var X=0,Q=this.length;Q>X;X++)if(this[X]===U)return X;return-1},Bt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",gn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Pe=gn.replace("w","w#"),Hn="\\["+te+"*("+gn+")(?:"+te+"*([*^$|!~]?=)"+te+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Pe+"))|)"+te+"*\\]",Vn=":("+gn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Hn+")*)|.*)\\)|)",ii=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),Xn=new RegExp("^"+te+"*,"+te+"*"),Ti=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),_a=new RegExp("="+te+`*([^\\]'"]*?)`+te+"*\\]","g"),za=new RegExp(Vn),ql=new RegExp("^"+Pe+"$"),Ha={ID:new RegExp("^#("+gn+")"),CLASS:new RegExp("^\\.("+gn+")"),TAG:new RegExp("^("+gn.replace("w","w*")+")"),ATTR:new RegExp("^"+Hn),PSEUDO:new RegExp("^"+Vn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+Bt+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},Fo=/^(?:input|select|textarea|button)$/i,$o=/^h\d$/i,Qs=/^[^{]+\{\s*\[native \w/,Fn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Hr=/[+~]/,Iu=/'|\\/g,ss=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),fn=function(U,X,Q){var vt="0x"+X-65536;return vt!==vt||Q?X:0>vt?String.fromCharCode(vt+65536):String.fromCharCode(vt>>10|55296,1023&vt|56320)};try{L.apply(h=ot.call(ae.childNodes),ae.childNodes),h[ae.childNodes.length].nodeType}catch{L={apply:h.length?function(X,Q){C.apply(X,ot.call(Q))}:function(X,Q){for(var vt=X.length,ft=0;X[vt++]=Q[ft++];);X.length=vt-1}}}function Me(U,X,Q,vt){var ft,xt,bt,Ht,Kt,ge,ee,ne,Ve,he;if((X?X.ownerDocument||X:ae)!==Pt&&St(X),X=X||Pt,Q=Q||[],!U||typeof U!="string")return Q;if((Ht=X.nodeType)!==1&&Ht!==9)return[];if($t&&!vt){if(ft=Fn.exec(U))if(bt=ft[1]){if(Ht===9){if(xt=X.getElementById(bt),!xt||!xt.parentNode)return Q;if(xt.id===bt)return Q.push(xt),Q}else if(X.ownerDocument&&(xt=X.ownerDocument.getElementById(bt))&&Hi(X,xt)&&xt.id===bt)return Q.push(xt),Q}else{if(ft[2])return L.apply(Q,X.getElementsByTagName(U)),Q;if((bt=ft[3])&&v.getElementsByClassName&&X.getElementsByClassName)return L.apply(Q,X.getElementsByClassName(bt)),Q}if(v.qsa&&(!fe||!fe.test(U))){if(ne=ee=Yt,Ve=X,he=Ht===9&&U,Ht===1&&X.nodeName.toLowerCase()!=="object"){for(ge=V(U),(ee=X.getAttribute("id"))?ne=ee.replace(Iu,"\\$&"):X.setAttribute("id",ne),ne="[id='"+ne+"'] ",Kt=ge.length;Kt--;)ge[Kt]=ne+va(ge[Kt]);Ve=Hr.test(U)&&Yo(X.parentNode)||X,he=ge.join(",")}if(he)try{return L.apply(Q,Ve.querySelectorAll(he)),Q}catch{}finally{ee||X.removeAttribute("id")}}}return st(U.replace(ii,"$1"),X,Q,vt)}function Go(){var U=[];function X(Q,vt){return U.push(Q+" ")>T.cacheLength&&delete X[U.shift()],X[Q+" "]=vt}return X}function En(U){return U[Yt]=!0,U}function tr(U){var X=Pt.createElement("div");try{return!!U(X)}catch{return!1}finally{X.parentNode&&X.parentNode.removeChild(X),X=null}}function bs(U,X){for(var Q=U.split("|"),vt=U.length;vt--;)T.attrHandle[Q[vt]]=X}function Qo(U,X){var Q=X&&U,vt=Q&&U.nodeType===1&&X.nodeType===1&&(~X.sourceIndex||_r)-(~U.sourceIndex||_r);if(vt)return vt;if(Q){for(;Q=Q.nextSibling;)if(Q===X)return-1}return U?1:-1}function Xo(U){return function(X){var Q=X.nodeName.toLowerCase();return Q==="input"&&X.type===U}}function Ss(U){return function(X){var Q=X.nodeName.toLowerCase();return(Q==="input"||Q==="button")&&X.type===U}}function Ai(U){return En(function(X){return X=+X,En(function(Q,vt){for(var ft,xt=U([],Q.length,X),bt=xt.length;bt--;)Q[ft=xt[bt]]&&(Q[ft]=!(vt[ft]=Q[ft]))})})}function Yo(U){return U&&typeof U.getElementsByTagName!==yr&&U}v=Me.support={},I=Me.isXML=function(U){var X=U&&(U.ownerDocument||U).documentElement;return X?X.nodeName!=="HTML":!1},St=Me.setDocument=function(U){var X,Q=U?U.ownerDocument||U:ae,vt=Q.defaultView;return Q!==Pt&&Q.nodeType===9&&Q.documentElement?(Pt=Q,me=Q.documentElement,$t=!I(Q),vt&&vt!==vt.top&&(vt.addEventListener?vt.addEventListener("unload",function(){St()},!1):vt.attachEvent&&vt.attachEvent("onunload",function(){St()})),v.attributes=tr(function(ft){return ft.className="i",!ft.getAttribute("className")}),v.getElementsByTagName=tr(function(ft){return ft.appendChild(Q.createComment("")),!ft.getElementsByTagName("*").length}),v.getElementsByClassName=Qs.test(Q.getElementsByClassName)&&tr(function(ft){return ft.innerHTML="<div class='a'></div><div class='a i'></div>",ft.firstChild.className="i",ft.getElementsByClassName("i").length===2}),v.getById=tr(function(ft){return me.appendChild(ft).id=Yt,!Q.getElementsByName||!Q.getElementsByName(Yt).length}),v.getById?(T.find.ID=function(ft,xt){if(typeof xt.getElementById!==yr&&$t){var bt=xt.getElementById(ft);return bt&&bt.parentNode?[bt]:[]}},T.filter.ID=function(ft){var xt=ft.replace(ss,fn);return function(bt){return bt.getAttribute("id")===xt}}):(delete T.find.ID,T.filter.ID=function(ft){var xt=ft.replace(ss,fn);return function(bt){var Ht=typeof bt.getAttributeNode!==yr&&bt.getAttributeNode("id");return Ht&&Ht.value===xt}}),T.find.TAG=v.getElementsByTagName?function(ft,xt){return typeof xt.getElementsByTagName!==yr?xt.getElementsByTagName(ft):void 0}:function(ft,xt){var bt,Ht=[],Kt=0,ge=xt.getElementsByTagName(ft);if(ft==="*"){for(;bt=ge[Kt++];)bt.nodeType===1&&Ht.push(bt);return Ht}return ge},T.find.CLASS=v.getElementsByClassName&&function(ft,xt){return typeof xt.getElementsByClassName!==yr&&$t?xt.getElementsByClassName(ft):void 0},mr=[],fe=[],(v.qsa=Qs.test(Q.querySelectorAll))&&(tr(function(ft){ft.innerHTML="<select msallowclip=''><option selected=''></option></select>",ft.querySelectorAll("[msallowclip^='']").length&&fe.push("[*^$]="+te+`*(?:''|"")`),ft.querySelectorAll("[selected]").length||fe.push("\\["+te+"*(?:value|"+Bt+")"),ft.querySelectorAll(":checked").length||fe.push(":checked")}),tr(function(ft){var xt=Q.createElement("input");xt.setAttribute("type","hidden"),ft.appendChild(xt).setAttribute("name","D"),ft.querySelectorAll("[name=d]").length&&fe.push("name"+te+"*[*^$|!~]?="),ft.querySelectorAll(":enabled").length||fe.push(":enabled",":disabled"),ft.querySelectorAll("*,:x"),fe.push(",.*:")})),(v.matchesSelector=Qs.test(Un=me.matches||me.webkitMatchesSelector||me.mozMatchesSelector||me.oMatchesSelector||me.msMatchesSelector))&&tr(function(ft){v.disconnectedMatch=Un.call(ft,"div"),Un.call(ft,"[s!='']:x"),mr.push("!=",Vn)}),fe=fe.length&&new RegExp(fe.join("|")),mr=mr.length&&new RegExp(mr.join("|")),X=Qs.test(me.compareDocumentPosition),Hi=X||Qs.test(me.contains)?function(ft,xt){var bt=ft.nodeType===9?ft.documentElement:ft,Ht=xt&&xt.parentNode;return ft===Ht||!(!Ht||Ht.nodeType!==1||!(bt.contains?bt.contains(Ht):ft.compareDocumentPosition&&16&ft.compareDocumentPosition(Ht)))}:function(ft,xt){if(xt){for(;xt=xt.parentNode;)if(xt===ft)return!0}return!1},Mn=X?function(ft,xt){if(ft===xt)return Vt=!0,0;var bt=!ft.compareDocumentPosition-!xt.compareDocumentPosition;return bt||(bt=(ft.ownerDocument||ft)===(xt.ownerDocument||xt)?ft.compareDocumentPosition(xt):1,1&bt||!v.sortDetached&&xt.compareDocumentPosition(ft)===bt?ft===Q||ft.ownerDocument===ae&&Hi(ae,ft)?-1:xt===Q||xt.ownerDocument===ae&&Hi(ae,xt)?1:ut?gt.call(ut,ft)-gt.call(ut,xt):0:4&bt?-1:1)}:function(ft,xt){if(ft===xt)return Vt=!0,0;var bt,Ht=0,Kt=ft.parentNode,ge=xt.parentNode,ee=[ft],ne=[xt];if(!Kt||!ge)return ft===Q?-1:xt===Q?1:Kt?-1:ge?1:ut?gt.call(ut,ft)-gt.call(ut,xt):0;if(Kt===ge)return Qo(ft,xt);for(bt=ft;bt=bt.parentNode;)ee.unshift(bt);for(bt=xt;bt=bt.parentNode;)ne.unshift(bt);for(;ee[Ht]===ne[Ht];)Ht++;return Ht?Qo(ee[Ht],ne[Ht]):ee[Ht]===ae?-1:ne[Ht]===ae?1:0},Q):Pt},Me.matches=function(U,X){return Me(U,null,null,X)},Me.matchesSelector=function(U,X){if((U.ownerDocument||U)!==Pt&&St(U),X=X.replace(_a,"='$1']"),!(!v.matchesSelector||!$t||mr&&mr.test(X)||fe&&fe.test(X)))try{var Q=Un.call(U,X);if(Q||v.disconnectedMatch||U.document&&U.document.nodeType!==11)return Q}catch{}return Me(X,Pt,null,[U]).length>0},Me.contains=function(U,X){return(U.ownerDocument||U)!==Pt&&St(U),Hi(U,X)},Me.attr=function(U,X){(U.ownerDocument||U)!==Pt&&St(U);var Q=T.attrHandle[X.toLowerCase()],vt=Q&&wn.call(T.attrHandle,X.toLowerCase())?Q(U,X,!$t):void 0;return vt!==void 0?vt:v.attributes||!$t?U.getAttribute(X):(vt=U.getAttributeNode(X))&&vt.specified?vt.value:null},Me.error=function(U){throw new Error("Syntax error, unrecognized expression: "+U)},Me.uniqueSort=function(U){var X,Q=[],vt=0,ft=0;if(Vt=!v.detectDuplicates,ut=!v.sortStable&&U.slice(0),U.sort(Mn),Vt){for(;X=U[ft++];)X===U[ft]&&(vt=Q.push(ft));for(;vt--;)U.splice(Q[vt],1)}return ut=null,U},x=Me.getText=function(U){var X,Q="",vt=0,ft=U.nodeType;if(ft){if(ft===1||ft===9||ft===11){if(typeof U.textContent=="string")return U.textContent;for(U=U.firstChild;U;U=U.nextSibling)Q+=x(U)}else if(ft===3||ft===4)return U.nodeValue}else for(;X=U[vt++];)Q+=x(X);return Q},T=Me.selectors={cacheLength:50,createPseudo:En,match:Ha,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(U){return U[1]=U[1].replace(ss,fn),U[3]=(U[3]||U[4]||U[5]||"").replace(ss,fn),U[2]==="~="&&(U[3]=" "+U[3]+" "),U.slice(0,4)},CHILD:function(U){return U[1]=U[1].toLowerCase(),U[1].slice(0,3)==="nth"?(U[3]||Me.error(U[0]),U[4]=+(U[4]?U[5]+(U[6]||1):2*(U[3]==="even"||U[3]==="odd")),U[5]=+(U[7]+U[8]||U[3]==="odd")):U[3]&&Me.error(U[0]),U},PSEUDO:function(U){var X,Q=!U[6]&&U[2];return Ha.CHILD.test(U[0])?null:(U[3]?U[2]=U[4]||U[5]||"":Q&&za.test(Q)&&(X=V(Q,!0))&&(X=Q.indexOf(")",Q.length-X)-Q.length)&&(U[0]=U[0].slice(0,X),U[2]=Q.slice(0,X)),U.slice(0,3))}},filter:{TAG:function(U){var X=U.replace(ss,fn).toLowerCase();return U==="*"?function(){return!0}:function(Q){return Q.nodeName&&Q.nodeName.toLowerCase()===X}},CLASS:function(U){var X=ir[U+" "];return X||(X=new RegExp("(^|"+te+")"+U+"("+te+"|$)"))&&ir(U,function(Q){return X.test(typeof Q.className=="string"&&Q.className||typeof Q.getAttribute!==yr&&Q.getAttribute("class")||"")})},ATTR:function(U,X,Q){return function(vt){var ft=Me.attr(vt,U);return ft==null?X==="!=":X?(ft+="",X==="="?ft===Q:X==="!="?ft!==Q:X==="^="?Q&&ft.indexOf(Q)===0:X==="*="?Q&&ft.indexOf(Q)>-1:X==="$="?Q&&ft.slice(-Q.length)===Q:X==="~="?(" "+ft+" ").indexOf(Q)>-1:X==="|="?ft===Q||ft.slice(0,Q.length+1)===Q+"-":!1):!0}},CHILD:function(U,X,Q,vt,ft){var xt=U.slice(0,3)!=="nth",bt=U.slice(-4)!=="last",Ht=X==="of-type";return vt===1&&ft===0?function(Kt){return!!Kt.parentNode}:function(Kt,ge,ee){var ne,Ve,he,Qe,$n,Yn,vr=xt!==bt?"nextSibling":"previousSibling",Ie=Kt.parentNode,as=Ht&&Kt.nodeName.toLowerCase(),Cn=!ee&&!Ht;if(Ie){if(xt){for(;vr;){for(he=Kt;he=he[vr];)if(Ht?he.nodeName.toLowerCase()===as:he.nodeType===1)return!1;Yn=vr=U==="only"&&!Yn&&"nextSibling"}return!0}if(Yn=[bt?Ie.firstChild:Ie.lastChild],bt&&Cn){for(Ve=Ie[Yt]||(Ie[Yt]={}),ne=Ve[U]||[],$n=ne[0]===Ee&&ne[1],Qe=ne[0]===Ee&&ne[2],he=$n&&Ie.childNodes[$n];he=++$n&&he&&he[vr]||(Qe=$n=0)||Yn.pop();)if(he.nodeType===1&&++Qe&&he===Kt){Ve[U]=[Ee,$n,Qe];break}}else if(Cn&&(ne=(Kt[Yt]||(Kt[Yt]={}))[U])&&ne[0]===Ee)Qe=ne[1];else for(;(he=++$n&&he&&he[vr]||(Qe=$n=0)||Yn.pop())&&!((Ht?he.nodeName.toLowerCase()===as:he.nodeType===1)&&++Qe&&(Cn&&((he[Yt]||(he[Yt]={}))[U]=[Ee,Qe]),he===Kt)););return Qe-=ft,Qe===vt||Qe%vt===0&&Qe/vt>=0}}},PSEUDO:function(U,X){var Q,vt=T.pseudos[U]||T.setFilters[U.toLowerCase()]||Me.error("unsupported pseudo: "+U);return vt[Yt]?vt(X):vt.length>1?(Q=[U,U,"",X],T.setFilters.hasOwnProperty(U.toLowerCase())?En(function(ft,xt){for(var bt,Ht=vt(ft,X),Kt=Ht.length;Kt--;)bt=gt.call(ft,Ht[Kt]),ft[bt]=!(xt[bt]=Ht[Kt])}):function(ft){return vt(ft,0,Q)}):vt}},pseudos:{not:En(function(U){var X=[],Q=[],vt=z(U.replace(ii,"$1"));return vt[Yt]?En(function(ft,xt,bt,Ht){for(var Kt,ge=vt(ft,null,Ht,[]),ee=ft.length;ee--;)(Kt=ge[ee])&&(ft[ee]=!(xt[ee]=Kt))}):function(ft,xt,bt){return X[0]=ft,vt(X,null,bt,Q),!Q.pop()}}),has:En(function(U){return function(X){return Me(U,X).length>0}}),contains:En(function(U){return function(X){return(X.textContent||X.innerText||x(X)).indexOf(U)>-1}}),lang:En(function(U){return ql.test(U||"")||Me.error("unsupported lang: "+U),U=U.replace(ss,fn).toLowerCase(),function(X){var Q;do if(Q=$t?X.lang:X.getAttribute("xml:lang")||X.getAttribute("lang"))return Q=Q.toLowerCase(),Q===U||Q.indexOf(U+"-")===0;while((X=X.parentNode)&&X.nodeType===1);return!1}}),target:function(U){var X=u.location&&u.location.hash;return X&&X.slice(1)===U.id},root:function(U){return U===me},focus:function(U){return U===Pt.activeElement&&(!Pt.hasFocus||Pt.hasFocus())&&!!(U.type||U.href||~U.tabIndex)},enabled:function(U){return U.disabled===!1},disabled:function(U){return U.disabled===!0},checked:function(U){var X=U.nodeName.toLowerCase();return X==="input"&&!!U.checked||X==="option"&&!!U.selected},selected:function(U){return U.parentNode&&U.parentNode.selectedIndex,U.selected===!0},empty:function(U){for(U=U.firstChild;U;U=U.nextSibling)if(U.nodeType<6)return!1;return!0},parent:function(U){return!T.pseudos.empty(U)},header:function(U){return $o.test(U.nodeName)},input:function(U){return Fo.test(U.nodeName)},button:function(U){var X=U.nodeName.toLowerCase();return X==="input"&&U.type==="button"||X==="button"},text:function(U){var X;return U.nodeName.toLowerCase()==="input"&&U.type==="text"&&((X=U.getAttribute("type"))==null||X.toLowerCase()==="text")},first:Ai(function(){return[0]}),last:Ai(function(U,X){return[X-1]}),eq:Ai(function(U,X,Q){return[0>Q?Q+X:Q]}),even:Ai(function(U,X){for(var Q=0;X>Q;Q+=2)U.push(Q);return U}),odd:Ai(function(U,X){for(var Q=1;X>Q;Q+=2)U.push(Q);return U}),lt:Ai(function(U,X,Q){for(var vt=0>Q?Q+X:Q;--vt>=0;)U.push(vt);return U}),gt:Ai(function(U,X,Q){for(var vt=0>Q?Q+X:Q;++vt<X;)U.push(vt);return U})}},T.pseudos.nth=T.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[g]=Xo(g);for(g in{submit:!0,reset:!0})T.pseudos[g]=Ss(g);function Xs(){}Xs.prototype=T.filters=T.pseudos,T.setFilters=new Xs,V=Me.tokenize=function(U,X){var Q,vt,ft,xt,bt,Ht,Kt,ge=Gs[U+" "];if(ge)return X?0:ge.slice(0);for(bt=U,Ht=[],Kt=T.preFilter;bt;){(!Q||(vt=Xn.exec(bt)))&&(vt&&(bt=bt.slice(vt[0].length)||bt),Ht.push(ft=[])),Q=!1,(vt=Ti.exec(bt))&&(Q=vt.shift(),ft.push({value:Q,type:vt[0].replace(ii," ")}),bt=bt.slice(Q.length));for(xt in T.filter)!(vt=Ha[xt].exec(bt))||Kt[xt]&&!(vt=Kt[xt](vt))||(Q=vt.shift(),ft.push({value:Q,type:xt,matches:vt}),bt=bt.slice(Q.length));if(!Q)break}return X?bt.length:bt?Me.error(U):Gs(U,Ht).slice(0)};function va(U){for(var X=0,Q=U.length,vt="";Q>X;X++)vt+=U[X].value;return vt}function Ys(U,X,Q){var vt=X.dir,ft=Q&&vt==="parentNode",xt=Se++;return X.first?function(bt,Ht,Kt){for(;bt=bt[vt];)if(bt.nodeType===1||ft)return U(bt,Ht,Kt)}:function(bt,Ht,Kt){var ge,ee,ne=[Ee,xt];if(Kt){for(;bt=bt[vt];)if((bt.nodeType===1||ft)&&U(bt,Ht,Kt))return!0}else for(;bt=bt[vt];)if(bt.nodeType===1||ft){if(ee=bt[Yt]||(bt[Yt]={}),(ge=ee[vt])&&ge[0]===Ee&&ge[1]===xt)return ne[2]=ge[2];if(ee[vt]=ne,ne[2]=U(bt,Ht,Kt))return!0}}}function Fa(U){return U.length>1?function(X,Q,vt){for(var ft=U.length;ft--;)if(!U[ft](X,Q,vt))return!1;return!0}:U[0]}function zl(U,X,Q){for(var vt=0,ft=X.length;ft>vt;vt++)Me(U,X[vt],Q);return Q}function si(U,X,Q,vt,ft){for(var xt,bt=[],Ht=0,Kt=U.length,ge=X!=null;Kt>Ht;Ht++)(xt=U[Ht])&&(!Q||Q(xt,vt,ft))&&(bt.push(xt),ge&&X.push(Ht));return bt}function ai(U,X,Q,vt,ft,xt){return vt&&!vt[Yt]&&(vt=ai(vt)),ft&&!ft[Yt]&&(ft=ai(ft,xt)),En(function(bt,Ht,Kt,ge){var ee,ne,Ve,he=[],Qe=[],$n=Ht.length,Yn=bt||zl(X||"*",Kt.nodeType?[Kt]:Kt,[]),vr=!U||!bt&&X?Yn:si(Yn,he,U,Kt,ge),Ie=Q?ft||(bt?U:$n||vt)?[]:Ht:vr;if(Q&&Q(vr,Ie,Kt,ge),vt)for(ee=si(Ie,Qe),vt(ee,[],Kt,ge),ne=ee.length;ne--;)(Ve=ee[ne])&&(Ie[Qe[ne]]=!(vr[Qe[ne]]=Ve));if(bt){if(ft||U){if(ft){for(ee=[],ne=Ie.length;ne--;)(Ve=Ie[ne])&&ee.push(vr[ne]=Ve);ft(null,Ie=[],ee,ge)}for(ne=Ie.length;ne--;)(Ve=Ie[ne])&&(ee=ft?gt.call(bt,Ve):he[ne])>-1&&(bt[ee]=!(Ht[ee]=Ve))}}else Ie=si(Ie===Ht?Ie.splice($n,Ie.length):Ie),ft?ft(null,Ht,Ie,ge):L.apply(Ht,Ie)})}function Fi(U){for(var X,Q,vt,ft=U.length,xt=T.relative[U[0].type],bt=xt||T.relative[" "],Ht=xt?1:0,Kt=Ys(function(ne){return ne===X},bt,!0),ge=Ys(function(ne){return gt.call(X,ne)>-1},bt,!0),ee=[function(ne,Ve,he){return!xt&&(he||Ve!==at)||((X=Ve).nodeType?Kt(ne,Ve,he):ge(ne,Ve,he))}];ft>Ht;Ht++)if(Q=T.relative[U[Ht].type])ee=[Ys(Fa(ee),Q)];else{if(Q=T.filter[U[Ht].type].apply(null,U[Ht].matches),Q[Yt]){for(vt=++Ht;ft>vt&&!T.relative[U[vt].type];vt++);return ai(Ht>1&&Fa(ee),Ht>1&&va(U.slice(0,Ht-1).concat({value:U[Ht-2].type===" "?"*":""})).replace(ii,"$1"),Q,vt>Ht&&Fi(U.slice(Ht,vt)),ft>vt&&Fi(U=U.slice(vt)),ft>vt&&va(U))}ee.push(Q)}return Fa(ee)}function Hl(U,X){var Q=X.length>0,vt=U.length>0,ft=function(xt,bt,Ht,Kt,ge){var ee,ne,Ve,he=0,Qe="0",$n=xt&&[],Yn=[],vr=at,Ie=xt||vt&&T.find.TAG("*",ge),as=Ee+=vr==null?1:Math.random()||.1,Cn=Ie.length;for(ge&&(at=bt!==Pt&&bt);Qe!==Cn&&(ee=Ie[Qe])!=null;Qe++){if(vt&&ee){for(ne=0;Ve=U[ne++];)if(Ve(ee,bt,Ht)){Kt.push(ee);break}ge&&(Ee=as)}Q&&((ee=!Ve&&ee)&&he--,xt&&$n.push(ee))}if(he+=Qe,Q&&Qe!==he){for(ne=0;Ve=X[ne++];)Ve($n,Yn,bt,Ht);if(xt){if(he>0)for(;Qe--;)$n[Qe]||Yn[Qe]||(Yn[Qe]=A.call(Kt));Yn=si(Yn)}L.apply(Kt,Yn),ge&&!xt&&Yn.length>0&&he+X.length>1&&Me.uniqueSort(Kt)}return ge&&(Ee=as,at=vr),$n};return Q?En(ft):ft}return z=Me.compile=function(U,X){var Q,vt=[],ft=[],xt=gr[U+" "];if(!xt){for(X||(X=V(U)),Q=X.length;Q--;)xt=Fi(X[Q]),xt[Yt]?vt.push(xt):ft.push(xt);xt=gr(U,Hl(ft,vt)),xt.selector=U}return xt},st=Me.select=function(U,X,Q,vt){var ft,xt,bt,Ht,Kt,ge=typeof U=="function"&&U,ee=!vt&&V(U=ge.selector||U);if(Q=Q||[],ee.length===1){if(xt=ee[0]=ee[0].slice(0),xt.length>2&&(bt=xt[0]).type==="ID"&&v.getById&&X.nodeType===9&&$t&&T.relative[xt[1].type]){if(X=(T.find.ID(bt.matches[0].replace(ss,fn),X)||[])[0],!X)return Q;ge&&(X=X.parentNode),U=U.slice(xt.shift().value.length)}for(ft=Ha.needsContext.test(U)?0:xt.length;ft--&&(bt=xt[ft],!T.relative[Ht=bt.type]);)if((Kt=T.find[Ht])&&(vt=Kt(bt.matches[0].replace(ss,fn),Hr.test(xt[0].type)&&Yo(X.parentNode)||X))){if(xt.splice(ft,1),U=vt.length&&va(xt),!U)return L.apply(Q,vt),Q;break}}return(ge||z(U,ee))(vt,X,!$t,Q,Hr.test(U)&&Yo(X.parentNode)||X),Q},v.sortStable=Yt.split("").sort(Mn).join("")===Yt,v.detectDuplicates=!!Vt,St(),v.sortDetached=tr(function(U){return 1&U.compareDocumentPosition(Pt.createElement("div"))}),tr(function(U){return U.innerHTML="<a href='#'></a>",U.firstChild.getAttribute("href")==="#"})||bs("type|href|height|width",function(U,X,Q){return Q?void 0:U.getAttribute(X,X.toLowerCase()==="type"?1:2)}),v.attributes&&tr(function(U){return U.innerHTML="<input/>",U.firstChild.setAttribute("value",""),U.firstChild.getAttribute("value")===""})||bs("value",function(U,X,Q){return Q||U.nodeName.toLowerCase()!=="input"?void 0:U.defaultValue}),tr(function(U){return U.getAttribute("disabled")==null})||bs(Bt,function(U,X,Q){var vt;return Q?void 0:U[X]===!0?X.toLowerCase():(vt=U.getAttributeNode(X))&&vt.specified?vt.value:null}),Me})(i);d.find=Tt,d.expr=Tt.selectors,d.expr[":"]=d.expr.pseudos,d.unique=Tt.uniqueSort,d.text=Tt.getText,d.isXMLDoc=Tt.isXML,d.contains=Tt.contains;var Ft=d.expr.match.needsContext,jt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Qt=/^.[^:#\[\.,]*$/;function se(u,g,v){if(d.isFunction(g))return d.grep(u,function(T,x){return!!g.call(T,x,T)!==v});if(g.nodeType)return d.grep(u,function(T){return T===g!==v});if(typeof g=="string"){if(Qt.test(g))return d.filter(g,u,v);g=d.filter(g,u)}return d.grep(u,function(T){return d.inArray(T,g)>=0!==v})}d.filter=function(u,g,v){var T=g[0];return v&&(u=":not("+u+")"),g.length===1&&T.nodeType===1?d.find.matchesSelector(T,u)?[T]:[]:d.find.matches(u,d.grep(g,function(x){return x.nodeType===1}))},d.fn.extend({find:function(u){var g,v=[],T=this,x=T.length;if(typeof u!="string")return this.pushStack(d(u).filter(function(){for(g=0;x>g;g++)if(d.contains(T[g],this))return!0}));for(g=0;x>g;g++)d.find(u,T[g],v);return v=this.pushStack(x>1?d.unique(v):v),v.selector=this.selector?this.selector+" "+u:u,v},filter:function(u){return this.pushStack(se(this,u||[],!1))},not:function(u){return this.pushStack(se(this,u||[],!0))},is:function(u){return!!se(this,typeof u=="string"&&Ft.test(u)?d(u):u||[],!1).length}});var K,P=i.document,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Z=d.fn.init=function(u,g){var v,T;if(!u)return this;if(typeof u=="string"){if(v=u.charAt(0)==="<"&&u.charAt(u.length-1)===">"&&u.length>=3?[null,u,null]:H.exec(u),!v||!v[1]&&g)return!g||g.jquery?(g||K).find(u):this.constructor(g).find(u);if(v[1]){if(g=g instanceof d?g[0]:g,d.merge(this,d.parseHTML(v[1],g&&g.nodeType?g.ownerDocument||g:P,!0)),jt.test(v[1])&&d.isPlainObject(g))for(v in g)d.isFunction(this[v])?this[v](g[v]):this.attr(v,g[v]);return this}if(T=P.getElementById(v[2]),T&&T.parentNode){if(T.id!==v[2])return K.find(u);this.length=1,this[0]=T}return this.context=P,this.selector=u,this}return u.nodeType?(this.context=this[0]=u,this.length=1,this):d.isFunction(u)?typeof K.ready<"u"?K.ready(u):u(d):(u.selector!==void 0&&(this.selector=u.selector,this.context=u.context),d.makeArray(u,this))};Z.prototype=d.fn,K=d(P);var W=/^(?:parents|prev(?:Until|All))/,rt={children:!0,contents:!0,next:!0,prev:!0};d.extend({dir:function(u,g,v){for(var T=[],x=u[g];x&&x.nodeType!==9&&(v===void 0||x.nodeType!==1||!d(x).is(v));)x.nodeType===1&&T.push(x),x=x[g];return T},sibling:function(u,g){for(var v=[];u;u=u.nextSibling)u.nodeType===1&&u!==g&&v.push(u);return v}}),d.fn.extend({has:function(u){var g,v=d(u,this),T=v.length;return this.filter(function(){for(g=0;T>g;g++)if(d.contains(this,v[g]))return!0})},closest:function(u,g){for(var v,T=0,x=this.length,I=[],V=Ft.test(u)||typeof u!="string"?d(u,g||this.context):0;x>T;T++)for(v=this[T];v&&v!==g;v=v.parentNode)if(v.nodeType<11&&(V?V.index(v)>-1:v.nodeType===1&&d.find.matchesSelector(v,u))){I.push(v);break}return this.pushStack(I.length>1?d.unique(I):I)},index:function(u){return u?typeof u=="string"?d.inArray(this[0],d(u)):d.inArray(u.jquery?u[0]:u,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(u,g){return this.pushStack(d.unique(d.merge(this.get(),d(u,g))))},addBack:function(u){return this.add(u==null?this.prevObject:this.prevObject.filter(u))}});function F(u,g){do u=u[g];while(u&&u.nodeType!==1);return u}d.each({parent:function(u){var g=u.parentNode;return g&&g.nodeType!==11?g:null},parents:function(u){return d.dir(u,"parentNode")},parentsUntil:function(u,g,v){return d.dir(u,"parentNode",v)},next:function(u){return F(u,"nextSibling")},prev:function(u){return F(u,"previousSibling")},nextAll:function(u){return d.dir(u,"nextSibling")},prevAll:function(u){return d.dir(u,"previousSibling")},nextUntil:function(u,g,v){return d.dir(u,"nextSibling",v)},prevUntil:function(u,g,v){return d.dir(u,"previousSibling",v)},siblings:function(u){return d.sibling((u.parentNode||{}).firstChild,u)},children:function(u){return d.sibling(u.firstChild)},contents:function(u){return d.nodeName(u,"iframe")?u.contentDocument||u.contentWindow.document:d.merge([],u.childNodes)}},function(u,g){d.fn[u]=function(v,T){var x=d.map(this,g,v);return u.slice(-5)!=="Until"&&(T=v),T&&typeof T=="string"&&(x=d.filter(T,x)),this.length>1&&(rt[u]||(x=d.unique(x)),W.test(u)&&(x=x.reverse())),this.pushStack(x)}});var rn=/\S+/g,un={};function wt(u){var g=un[u]={};return d.each(u.match(rn)||[],function(v,T){g[T]=!0}),g}d.Callbacks=function(u){u=typeof u=="string"?un[u]||wt(u):d.extend({},u);var g,v,T,x,I,V,z=[],st=!u.once&&[],at=function(Vt){for(v=u.memory&&Vt,T=!0,I=V||0,V=0,x=z.length,g=!0;z&&x>I;I++)if(z[I].apply(Vt[0],Vt[1])===!1&&u.stopOnFalse){v=!1;break}g=!1,z&&(st?st.length&&at(st.shift()):v?z=[]:ut.disable())},ut={add:function(){if(z){var Vt=z.length;(function St(Pt){d.each(Pt,function(me,$t){var fe=d.type($t);fe==="function"?u.unique&&ut.has($t)||z.push($t):$t&&$t.length&&fe!=="string"&&St($t)})})(arguments),g?x=z.length:v&&(V=Vt,at(v))}return this},remove:function(){return z&&d.each(arguments,function(Vt,St){for(var Pt;(Pt=d.inArray(St,z,Pt))>-1;)z.splice(Pt,1),g&&(x>=Pt&&x--,I>=Pt&&I--)}),this},has:function(Vt){return Vt?d.inArray(Vt,z)>-1:!(!z||!z.length)},empty:function(){return z=[],x=0,this},disable:function(){return z=st=v=void 0,this},disabled:function(){return!z},lock:function(){return st=void 0,v||ut.disable(),this},locked:function(){return!st},fireWith:function(Vt,St){return!z||T&&!st||(St=St||[],St=[Vt,St.slice?St.slice():St],g?st.push(St):at(St)),this},fire:function(){return ut.fireWith(this,arguments),this},fired:function(){return!!T}};return ut},d.extend({Deferred:function(u){var g=[["resolve","done",d.Callbacks("once memory"),"resolved"],["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],v="pending",T={state:function(){return v},always:function(){return x.done(arguments).fail(arguments),this},then:function(){var I=arguments;return d.Deferred(function(V){d.each(g,function(z,st){var at=d.isFunction(I[z])&&I[z];x[st[1]](function(){var ut=at&&at.apply(this,arguments);ut&&d.isFunction(ut.promise)?ut.promise().done(V.resolve).fail(V.reject).progress(V.notify):V[st[0]+"With"](this===T?V.promise():this,at?[ut]:arguments)})}),I=null}).promise()},promise:function(I){return I!=null?d.extend(I,T):T}},x={};return T.pipe=T.then,d.each(g,function(I,V){var z=V[2],st=V[3];T[V[1]]=z.add,st&&z.add(function(){v=st},g[1^I][2].disable,g[2][2].lock),x[V[0]]=function(){return x[V[0]+"With"](this===x?T:this,arguments),this},x[V[0]+"With"]=z.fireWith}),T.promise(x),u&&u.call(x,x),x},when:function(u){var g=0,v=s.call(arguments),T=v.length,x=T!==1||u&&d.isFunction(u.promise)?T:0,I=x===1?u:d.Deferred(),V=function(ut,Vt,St){return function(Pt){Vt[ut]=this,St[ut]=arguments.length>1?s.call(arguments):Pt,St===z?I.notifyWith(Vt,St):--x||I.resolveWith(Vt,St)}},z,st,at;if(T>1)for(z=new Array(T),st=new Array(T),at=new Array(T);T>g;g++)v[g]&&d.isFunction(v[g].promise)?v[g].promise().done(V(g,at,v)).fail(I.reject).progress(V(g,st,z)):--x;return x||I.resolveWith(at,v),I.promise()}});var zt;d.fn.ready=function(u){return d.ready.promise().done(u),this},d.extend({isReady:!1,readyWait:1,holdReady:function(u){u?d.readyWait++:d.ready(!0)},ready:function(u){if(u===!0?!--d.readyWait:!d.isReady){if(!P.body)return setTimeout(d.ready);d.isReady=!0,u!==!0&&--d.readyWait>0||(zt.resolveWith(P,[d]),d.fn.triggerHandler&&(d(P).triggerHandler("ready"),d(P).off("ready")))}}});function oe(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",Oe,!1),i.removeEventListener("load",Oe,!1)):(P.detachEvent("onreadystatechange",Oe),i.detachEvent("onload",Oe))}function Oe(){(P.addEventListener||event.type==="load"||P.readyState==="complete")&&(oe(),d.ready())}d.ready.promise=function(u){if(!zt)if(zt=d.Deferred(),P.readyState==="complete")setTimeout(d.ready);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",Oe,!1),i.addEventListener("load",Oe,!1);else{P.attachEvent("onreadystatechange",Oe),i.attachEvent("onload",Oe);var g=!1;try{g=i.frameElement==null&&P.documentElement}catch{}g&&g.doScroll&&(function v(){if(!d.isReady){try{g.doScroll("left")}catch{return setTimeout(v,50)}oe(),d.ready()}})()}return zt.promise(u)};var Y="undefined",Mt;for(Mt in d(O))break;O.ownLast=Mt!=="0",O.inlineBlockNeedsLayout=!1,d(function(){var u,g,v,T;v=P.getElementsByTagName("body")[0],v&&v.style&&(g=P.createElement("div"),T=P.createElement("div"),T.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",v.appendChild(T).appendChild(g),typeof g.style.zoom!==Y&&(g.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",O.inlineBlockNeedsLayout=u=g.offsetWidth===3,u&&(v.style.zoom=1)),v.removeChild(T))}),(function(){var u=P.createElement("div");if(O.deleteExpando==null){O.deleteExpando=!0;try{delete u.test}catch{O.deleteExpando=!1}}u=null})(),d.acceptData=function(u){var g=d.noData[(u.nodeName+" ").toLowerCase()],v=+u.nodeType||1;return v!==1&&v!==9?!1:!g||g!==!0&&u.getAttribute("classid")===g};var qt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Lt=/([A-Z])/g;function ie(u,g,v){if(v===void 0&&u.nodeType===1){var T="data-"+g.replace(Lt,"-$1").toLowerCase();if(v=u.getAttribute(T),typeof v=="string"){try{v=v==="true"?!0:v==="false"?!1:v==="null"?null:+v+""===v?+v:qt.test(v)?d.parseJSON(v):v}catch{}d.data(u,g,v)}else v=void 0}return v}function be(u){var g;for(g in u)if((g!=="data"||!d.isEmptyObject(u[g]))&&g!=="toJSON")return!1;return!0}function ue(u,g,v,T){if(d.acceptData(u)){var x,I,V=d.expando,z=u.nodeType,st=z?d.cache:u,at=z?u[V]:u[V]&&V;if(at&&st[at]&&(T||st[at].data)||v!==void 0||typeof g!="string")return at||(at=z?u[V]=n.pop()||d.guid++:V),st[at]||(st[at]=z?{}:{toJSON:d.noop}),(typeof g=="object"||typeof g=="function")&&(T?st[at]=d.extend(st[at],g):st[at].data=d.extend(st[at].data,g)),I=st[at],T||(I.data||(I.data={}),I=I.data),v!==void 0&&(I[d.camelCase(g)]=v),typeof g=="string"?(x=I[g],x==null&&(x=I[d.camelCase(g)])):x=I,x}}function bn(u,g,v){if(d.acceptData(u)){var T,x,I=u.nodeType,V=I?d.cache:u,z=I?u[d.expando]:d.expando;if(V[z]){if(g&&(T=v?V[z]:V[z].data)){for(d.isArray(g)?g=g.concat(d.map(g,d.camelCase)):(g in T)?g=[g]:(g=d.camelCase(g),g=g in T?[g]:g.split(" ")),x=g.length;x--;)delete T[g[x]];if(v?!be(T):!d.isEmptyObject(T))return}(v||(delete V[z].data,be(V[z])))&&(I?d.cleanData([u],!0):O.deleteExpando||V!=V.window?delete V[z]:V[z]=null)}}}d.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(u){return u=u.nodeType?d.cache[u[d.expando]]:u[d.expando],!!u&&!be(u)},data:function(u,g,v){return ue(u,g,v)},removeData:function(u,g){return bn(u,g)},_data:function(u,g,v){return ue(u,g,v,!0)},_removeData:function(u,g){return bn(u,g,!0)}}),d.fn.extend({data:function(u,g){var v,T,x,I=this[0],V=I&&I.attributes;if(u===void 0){if(this.length&&(x=d.data(I),I.nodeType===1&&!d._data(I,"parsedAttrs"))){for(v=V.length;v--;)V[v]&&(T=V[v].name,T.indexOf("data-")===0&&(T=d.camelCase(T.slice(5)),ie(I,T,x[T])));d._data(I,"parsedAttrs",!0)}return x}return typeof u=="object"?this.each(function(){d.data(this,u)}):arguments.length>1?this.each(function(){d.data(this,u,g)}):I?ie(I,u,d.data(I,u)):void 0},removeData:function(u){return this.each(function(){d.removeData(this,u)})}}),d.extend({queue:function(u,g,v){var T;return u?(g=(g||"fx")+"queue",T=d._data(u,g),v&&(!T||d.isArray(v)?T=d._data(u,g,d.makeArray(v)):T.push(v)),T||[]):void 0},dequeue:function(u,g){g=g||"fx";var v=d.queue(u,g),T=v.length,x=v.shift(),I=d._queueHooks(u,g),V=function(){d.dequeue(u,g)};x==="inprogress"&&(x=v.shift(),T--),x&&(g==="fx"&&v.unshift("inprogress"),delete I.stop,x.call(u,V,I)),!T&&I&&I.empty.fire()},_queueHooks:function(u,g){var v=g+"queueHooks";return d._data(u,v)||d._data(u,v,{empty:d.Callbacks("once memory").add(function(){d._removeData(u,g+"queue"),d._removeData(u,v)})})}}),d.fn.extend({queue:function(u,g){var v=2;return typeof u!="string"&&(g=u,u="fx",v--),arguments.length<v?d.queue(this[0],u):g===void 0?this:this.each(function(){var T=d.queue(this,u,g);d._queueHooks(this,u),u==="fx"&&T[0]!=="inprogress"&&d.dequeue(this,u)})},dequeue:function(u){return this.each(function(){d.dequeue(this,u)})},clearQueue:function(u){return this.queue(u||"fx",[])},promise:function(u,g){var v,T=1,x=d.Deferred(),I=this,V=this.length,z=function(){--T||x.resolveWith(I,[I])};for(typeof u!="string"&&(g=u,u=void 0),u=u||"fx";V--;)v=d._data(I[V],u+"queueHooks"),v&&v.empty&&(T++,v.empty.add(z));return z(),x.promise(g)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nn=["Top","Right","Bottom","Left"],cr=function(u,g){return u=g||u,d.css(u,"display")==="none"||!d.contains(u.ownerDocument,u)},pn=d.access=function(u,g,v,T,x,I,V){var z=0,st=u.length,at=v==null;if(d.type(v)==="object"){x=!0;for(z in v)d.access(u,g,z,v[z],!0,I,V)}else if(T!==void 0&&(x=!0,d.isFunction(T)||(V=!0),at&&(V?(g.call(u,T),g=null):(at=g,g=function(ut,Vt,St){return at.call(d(ut),St)})),g))for(;st>z;z++)g(u[z],v,V?T:T.call(u[z],z,g(u[z],v)));return x?u:at?g.call(u):st?g(u[0],v):I},Jr=/^(?:checkbox|radio)$/i;(function(){var u=P.createElement("input"),g=P.createElement("div"),v=P.createDocumentFragment();if(g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",O.leadingWhitespace=g.firstChild.nodeType===3,O.tbody=!g.getElementsByTagName("tbody").length,O.htmlSerialize=!!g.getElementsByTagName("link").length,O.html5Clone=P.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",u.type="checkbox",u.checked=!0,v.appendChild(u),O.appendChecked=u.checked,g.innerHTML="<textarea>x</textarea>",O.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,v.appendChild(g),g.innerHTML="<input type='radio' checked='checked' name='t'/>",O.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,O.noCloneEvent=!0,g.attachEvent&&(g.attachEvent("onclick",function(){O.noCloneEvent=!1}),g.cloneNode(!0).click()),O.deleteExpando==null){O.deleteExpando=!0;try{delete g.test}catch{O.deleteExpando=!1}}})(),(function(){var u,g,v=P.createElement("div");for(u in{submit:!0,change:!0,focusin:!0})g="on"+u,(O[u+"Bubbles"]=g in i)||(v.setAttribute(g,"t"),O[u+"Bubbles"]=v.attributes[g].expando===!1);v=null})();var Zr=/^(?:input|select|textarea)$/i,ps=/^key/,la=/^(?:mouse|pointer|contextmenu)|click/,ua=/^(?:focusinfocus|focusoutblur)$/,Rr=/^([^.]*)(?:\.(.+)|)$/;function Ls(){return!0}function yi(){return!1}function ms(){try{return P.activeElement}catch{}}d.event={global:{},add:function(u,g,v,T,x){var I,V,z,st,at,ut,Vt,St,Pt,me,$t,fe=d._data(u);if(fe){for(v.handler&&(st=v,v=st.handler,x=st.selector),v.guid||(v.guid=d.guid++),(V=fe.events)||(V=fe.events={}),(ut=fe.handle)||(ut=fe.handle=function(mr){return typeof d===Y||mr&&d.event.triggered===mr.type?void 0:d.event.dispatch.apply(ut.elem,arguments)},ut.elem=u),g=(g||"").match(rn)||[""],z=g.length;z--;)I=Rr.exec(g[z])||[],Pt=$t=I[1],me=(I[2]||"").split(".").sort(),Pt&&(at=d.event.special[Pt]||{},Pt=(x?at.delegateType:at.bindType)||Pt,at=d.event.special[Pt]||{},Vt=d.extend({type:Pt,origType:$t,data:T,handler:v,guid:v.guid,selector:x,needsContext:x&&d.expr.match.needsContext.test(x),namespace:me.join(".")},st),(St=V[Pt])||(St=V[Pt]=[],St.delegateCount=0,at.setup&&at.setup.call(u,T,me,ut)!==!1||(u.addEventListener?u.addEventListener(Pt,ut,!1):u.attachEvent&&u.attachEvent("on"+Pt,ut))),at.add&&(at.add.call(u,Vt),Vt.handler.guid||(Vt.handler.guid=v.guid)),x?St.splice(St.delegateCount++,0,Vt):St.push(Vt),d.event.global[Pt]=!0);u=null}},remove:function(u,g,v,T,x){var I,V,z,st,at,ut,Vt,St,Pt,me,$t,fe=d.hasData(u)&&d._data(u);if(fe&&(ut=fe.events)){for(g=(g||"").match(rn)||[""],at=g.length;at--;)if(z=Rr.exec(g[at])||[],Pt=$t=z[1],me=(z[2]||"").split(".").sort(),Pt){for(Vt=d.event.special[Pt]||{},Pt=(T?Vt.delegateType:Vt.bindType)||Pt,St=ut[Pt]||[],z=z[2]&&new RegExp("(^|\\.)"+me.join("\\.(?:.*\\.|)")+"(\\.|$)"),st=I=St.length;I--;)V=St[I],!x&&$t!==V.origType||v&&v.guid!==V.guid||z&&!z.test(V.namespace)||T&&T!==V.selector&&(T!=="**"||!V.selector)||(St.splice(I,1),V.selector&&St.delegateCount--,Vt.remove&&Vt.remove.call(u,V));st&&!St.length&&(Vt.teardown&&Vt.teardown.call(u,me,fe.handle)!==!1||d.removeEvent(u,Pt,fe.handle),delete ut[Pt])}else for(Pt in ut)d.event.remove(u,Pt+g[at],v,T,!0);d.isEmptyObject(ut)&&(delete fe.handle,d._removeData(u,"events"))}},trigger:function(u,g,v,T){var x,I,V,z,st,at,ut,Vt=[v||P],St=R.call(u,"type")?u.type:u,Pt=R.call(u,"namespace")?u.namespace.split("."):[];if(V=at=v=v||P,v.nodeType!==3&&v.nodeType!==8&&!ua.test(St+d.event.triggered)&&(St.indexOf(".")>=0&&(Pt=St.split("."),St=Pt.shift(),Pt.sort()),I=St.indexOf(":")<0&&"on"+St,u=u[d.expando]?u:new d.Event(St,typeof u=="object"&&u),u.isTrigger=T?2:3,u.namespace=Pt.join("."),u.namespace_re=u.namespace?new RegExp("(^|\\.)"+Pt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=void 0,u.target||(u.target=v),g=g==null?[u]:d.makeArray(g,[u]),st=d.event.special[St]||{},T||!st.trigger||st.trigger.apply(v,g)!==!1)){if(!T&&!st.noBubble&&!d.isWindow(v)){for(z=st.delegateType||St,ua.test(z+St)||(V=V.parentNode);V;V=V.parentNode)Vt.push(V),at=V;at===(v.ownerDocument||P)&&Vt.push(at.defaultView||at.parentWindow||i)}for(ut=0;(V=Vt[ut++])&&!u.isPropagationStopped();)u.type=ut>1?z:st.bindType||St,x=(d._data(V,"events")||{})[u.type]&&d._data(V,"handle"),x&&x.apply(V,g),x=I&&V[I],x&&x.apply&&d.acceptData(V)&&(u.result=x.apply(V,g),u.result===!1&&u.preventDefault());if(u.type=St,!T&&!u.isDefaultPrevented()&&(!st._default||st._default.apply(Vt.pop(),g)===!1)&&d.acceptData(v)&&I&&v[St]&&!d.isWindow(v)){at=v[I],at&&(v[I]=null),d.event.triggered=St;try{v[St]()}catch{}d.event.triggered=void 0,at&&(v[I]=at)}return u.result}},dispatch:function(u){u=d.event.fix(u);var g,v,T,x,I,V=[],z=s.call(arguments),st=(d._data(this,"events")||{})[u.type]||[],at=d.event.special[u.type]||{};if(z[0]=u,u.delegateTarget=this,!at.preDispatch||at.preDispatch.call(this,u)!==!1){for(V=d.event.handlers.call(this,u,st),g=0;(x=V[g++])&&!u.isPropagationStopped();)for(u.currentTarget=x.elem,I=0;(T=x.handlers[I++])&&!u.isImmediatePropagationStopped();)(!u.namespace_re||u.namespace_re.test(T.namespace))&&(u.handleObj=T,u.data=T.data,v=((d.event.special[T.origType]||{}).handle||T.handler).apply(x.elem,z),v!==void 0&&(u.result=v)===!1&&(u.preventDefault(),u.stopPropagation()));return at.postDispatch&&at.postDispatch.call(this,u),u.result}},handlers:function(u,g){var v,T,x,I,V=[],z=g.delegateCount,st=u.target;if(z&&st.nodeType&&(!u.button||u.type!=="click")){for(;st!=this;st=st.parentNode||this)if(st.nodeType===1&&(st.disabled!==!0||u.type!=="click")){for(x=[],I=0;z>I;I++)T=g[I],v=T.selector+" ",x[v]===void 0&&(x[v]=T.needsContext?d(v,this).index(st)>=0:d.find(v,this,null,[st]).length),x[v]&&x.push(T);x.length&&V.push({elem:st,handlers:x})}}return z<g.length&&V.push({elem:this,handlers:g.slice(z)}),V},fix:function(u){if(u[d.expando])return u;var g,v,T,x=u.type,I=u,V=this.fixHooks[x];for(V||(this.fixHooks[x]=V=la.test(x)?this.mouseHooks:ps.test(x)?this.keyHooks:{}),T=V.props?this.props.concat(V.props):this.props,u=new d.Event(I),g=T.length;g--;)v=T[g],u[v]=I[v];return u.target||(u.target=I.srcElement||P),u.target.nodeType===3&&(u.target=u.target.parentNode),u.metaKey=!!u.metaKey,V.filter?V.filter(u,I):u},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(u,g){return u.which==null&&(u.which=g.charCode!=null?g.charCode:g.keyCode),u}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(u,g){var v,T,x,I=g.button,V=g.fromElement;return u.pageX==null&&g.clientX!=null&&(T=u.target.ownerDocument||P,x=T.documentElement,v=T.body,u.pageX=g.clientX+(x&&x.scrollLeft||v&&v.scrollLeft||0)-(x&&x.clientLeft||v&&v.clientLeft||0),u.pageY=g.clientY+(x&&x.scrollTop||v&&v.scrollTop||0)-(x&&x.clientTop||v&&v.clientTop||0)),!u.relatedTarget&&V&&(u.relatedTarget=V===u.target?g.toElement:V),u.which||I===void 0||(u.which=1&I?1:2&I?3:4&I?2:0),u}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ms()&&this.focus)try{return this.focus(),!1}catch{}},delegateType:"focusin"},blur:{trigger:function(){return this===ms()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return d.nodeName(this,"input")&&this.type==="checkbox"&&this.click?(this.click(),!1):void 0},_default:function(u){return d.nodeName(u.target,"a")}},beforeunload:{postDispatch:function(u){u.result!==void 0&&u.originalEvent&&(u.originalEvent.returnValue=u.result)}}},simulate:function(u,g,v,T){var x=d.extend(new d.Event,v,{type:u,isSimulated:!0,originalEvent:{}});T?d.event.trigger(x,null,g):d.event.dispatch.call(g,x),x.isDefaultPrevented()&&v.preventDefault()}},d.removeEvent=P.removeEventListener?function(u,g,v){u.removeEventListener&&u.removeEventListener(g,v,!1)}:function(u,g,v){var T="on"+g;u.detachEvent&&(typeof u[T]===Y&&(u[T]=null),u.detachEvent(T,v))},d.Event=function(u,g){return this instanceof d.Event?(u&&u.type?(this.originalEvent=u,this.type=u.type,this.isDefaultPrevented=u.defaultPrevented||u.defaultPrevented===void 0&&u.returnValue===!1?Ls:yi):this.type=u,g&&d.extend(this,g),this.timeStamp=u&&u.timeStamp||d.now(),void(this[d.expando]=!0)):new d.Event(u,g)},d.Event.prototype={isDefaultPrevented:yi,isPropagationStopped:yi,isImmediatePropagationStopped:yi,preventDefault:function(){var u=this.originalEvent;this.isDefaultPrevented=Ls,u&&(u.preventDefault?u.preventDefault():u.returnValue=!1)},stopPropagation:function(){var u=this.originalEvent;this.isPropagationStopped=Ls,u&&(u.stopPropagation&&u.stopPropagation(),u.cancelBubble=!0)},stopImmediatePropagation:function(){var u=this.originalEvent;this.isImmediatePropagationStopped=Ls,u&&u.stopImmediatePropagation&&u.stopImmediatePropagation(),this.stopPropagation()}},d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(u,g){d.event.special[u]={delegateType:g,bindType:g,handle:function(v){var T,x=this,I=v.relatedTarget,V=v.handleObj;return(!I||I!==x&&!d.contains(x,I))&&(v.type=V.origType,T=V.handler.apply(this,arguments),v.type=g),T}}}),O.submitBubbles||(d.event.special.submit={setup:function(){return d.nodeName(this,"form")?!1:void d.event.add(this,"click._submit keypress._submit",function(u){var g=u.target,v=d.nodeName(g,"input")||d.nodeName(g,"button")?g.form:void 0;v&&!d._data(v,"submitBubbles")&&(d.event.add(v,"submit._submit",function(T){T._submit_bubble=!0}),d._data(v,"submitBubbles",!0))})},postDispatch:function(u){u._submit_bubble&&(delete u._submit_bubble,this.parentNode&&!u.isTrigger&&d.event.simulate("submit",this.parentNode,u,!0))},teardown:function(){return d.nodeName(this,"form")?!1:void d.event.remove(this,"._submit")}}),O.changeBubbles||(d.event.special.change={setup:function(){return Zr.test(this.nodeName)?((this.type==="checkbox"||this.type==="radio")&&(d.event.add(this,"propertychange._change",function(u){u.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),d.event.add(this,"click._change",function(u){this._just_changed&&!u.isTrigger&&(this._just_changed=!1),d.event.simulate("change",this,u,!0)})),!1):void d.event.add(this,"beforeactivate._change",function(u){var g=u.target;Zr.test(g.nodeName)&&!d._data(g,"changeBubbles")&&(d.event.add(g,"change._change",function(v){!this.parentNode||v.isSimulated||v.isTrigger||d.event.simulate("change",this.parentNode,v,!0)}),d._data(g,"changeBubbles",!0))})},handle:function(u){var g=u.target;return this!==g||u.isSimulated||u.isTrigger||g.type!=="radio"&&g.type!=="checkbox"?u.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return d.event.remove(this,"._change"),!Zr.test(this.nodeName)}}),O.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(u,g){var v=function(T){d.event.simulate(g,T.target,d.event.fix(T),!0)};d.event.special[g]={setup:function(){var T=this.ownerDocument||this,x=d._data(T,g);x||T.addEventListener(u,v,!0),d._data(T,g,(x||0)+1)},teardown:function(){var T=this.ownerDocument||this,x=d._data(T,g)-1;x?d._data(T,g,x):(T.removeEventListener(u,v,!0),d._removeData(T,g))}}}),d.fn.extend({on:function(u,g,v,T,x){var I,V;if(typeof u=="object"){typeof g!="string"&&(v=v||g,g=void 0);for(I in u)this.on(I,g,v,u[I],x);return this}if(v==null&&T==null?(T=g,v=g=void 0):T==null&&(typeof g=="string"?(T=v,v=void 0):(T=v,v=g,g=void 0)),T===!1)T=yi;else if(!T)return this;return x===1&&(V=T,T=function(z){return d().off(z),V.apply(this,arguments)},T.guid=V.guid||(V.guid=d.guid++)),this.each(function(){d.event.add(this,u,T,v,g)})},one:function(u,g,v,T){return this.on(u,g,v,T,1)},off:function(u,g,v){var T,x;if(u&&u.preventDefault&&u.handleObj)return T=u.handleObj,d(u.delegateTarget).off(T.namespace?T.origType+"."+T.namespace:T.origType,T.selector,T.handler),this;if(typeof u=="object"){for(x in u)this.off(x,g,u[x]);return this}return(g===!1||typeof g=="function")&&(v=g,g=void 0),v===!1&&(v=yi),this.each(function(){d.event.remove(this,u,v,g)})},trigger:function(u,g){return this.each(function(){d.event.trigger(u,g,this)})},triggerHandler:function(u,g){var v=this[0];return v?d.event.trigger(u,g,v,!0):void 0}});function Yi(u){var g=Va.split("|"),v=u.createDocumentFragment();if(v.createElement)for(;g.length;)v.createElement(g.pop());return v}var Va="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ps=/ jQuery\d+="(?:null|\d+)"/g,ka=new RegExp("<(?:"+Va+")[\\s/>]","i"),La=/^\s+/,Sn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ke=/<([\w:]+)/,xr=/<tbody/i,fr=/<|&#?\w+;/,zo=/<(?:script|style|link)/i,jl=/checked\s*(?:[^=]|=\s*.checked.)/i,Us=/^$|\/(?:java|ecma)script/i,js=/^true\/(.*)/,ca=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Dn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:O.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},fa=Yi(P),gs=fa.appendChild(P.createElement("div"));Dn.optgroup=Dn.option,Dn.tbody=Dn.tfoot=Dn.colgroup=Dn.caption=Dn.thead,Dn.th=Dn.td;function qn(u,g){var v,T,x=0,I=typeof u.getElementsByTagName!==Y?u.getElementsByTagName(g||"*"):typeof u.querySelectorAll!==Y?u.querySelectorAll(g||"*"):void 0;if(!I)for(I=[],v=u.childNodes||u;(T=v[x])!=null;x++)!g||d.nodeName(T,g)?I.push(T):d.merge(I,qn(T,g));return g===void 0||g&&d.nodeName(u,g)?d.merge([u],I):I}function po(u){Jr.test(u.type)&&(u.defaultChecked=u.checked)}function ys(u,g){return d.nodeName(u,"table")&&d.nodeName(g.nodeType!==11?g:g.firstChild,"tr")?u.getElementsByTagName("tbody")[0]||u.appendChild(u.ownerDocument.createElement("tbody")):u}function Oi(u){return u.type=(d.find.attr(u,"type")!==null)+"/"+u.type,u}function Ki(u){var g=js.exec(u.type);return g?u.type=g[1]:u.removeAttribute("type"),u}function ha(u,g){for(var v,T=0;(v=u[T])!=null;T++)d._data(v,"globalEval",!g||d._data(g[T],"globalEval"))}function Mi(u,g){if(g.nodeType===1&&d.hasData(u)){var v,T,x,I=d._data(u),V=d._data(g,I),z=I.events;if(z){delete V.handle,V.events={};for(v in z)for(T=0,x=z[v].length;x>T;T++)d.event.add(g,v,z[v][T])}V.data&&(V.data=d.extend({},V.data))}}function mo(u,g){var v,T,x;if(g.nodeType===1){if(v=g.nodeName.toLowerCase(),!O.noCloneEvent&&g[d.expando]){x=d._data(g);for(T in x.events)d.removeEvent(g,T,x.handle);g.removeAttribute(d.expando)}v==="script"&&g.text!==u.text?(Oi(g).text=u.text,Ki(g)):v==="object"?(g.parentNode&&(g.outerHTML=u.outerHTML),O.html5Clone&&u.innerHTML&&!d.trim(g.innerHTML)&&(g.innerHTML=u.innerHTML)):v==="input"&&Jr.test(u.type)?(g.defaultChecked=g.checked=u.checked,g.value!==u.value&&(g.value=u.value)):v==="option"?g.defaultSelected=g.selected=u.defaultSelected:(v==="input"||v==="textarea")&&(g.defaultValue=u.defaultValue)}}d.extend({clone:function(u,g,v){var T,x,I,V,z,st=d.contains(u.ownerDocument,u);if(O.html5Clone||d.isXMLDoc(u)||!ka.test("<"+u.nodeName+">")?I=u.cloneNode(!0):(gs.innerHTML=u.outerHTML,gs.removeChild(I=gs.firstChild)),!(O.noCloneEvent&&O.noCloneChecked||u.nodeType!==1&&u.nodeType!==11||d.isXMLDoc(u)))for(T=qn(I),z=qn(u),V=0;(x=z[V])!=null;++V)T[V]&&mo(x,T[V]);if(g)if(v)for(z=z||qn(u),T=T||qn(I),V=0;(x=z[V])!=null;V++)Mi(x,T[V]);else Mi(u,I);return T=qn(I,"script"),T.length>0&&ha(T,!st&&qn(u,"script")),T=z=x=null,I},buildFragment:function(u,g,v,T){for(var x,I,V,z,st,at,ut,Vt=u.length,St=Yi(g),Pt=[],me=0;Vt>me;me++)if(I=u[me],I||I===0)if(d.type(I)==="object")d.merge(Pt,I.nodeType?[I]:I);else if(fr.test(I)){for(z=z||St.appendChild(g.createElement("div")),st=(Ke.exec(I)||["",""])[1].toLowerCase(),ut=Dn[st]||Dn._default,z.innerHTML=ut[1]+I.replace(Sn,"<$1></$2>")+ut[2],x=ut[0];x--;)z=z.lastChild;if(!O.leadingWhitespace&&La.test(I)&&Pt.push(g.createTextNode(La.exec(I)[0])),!O.tbody)for(I=st!=="table"||xr.test(I)?ut[1]!=="<table>"||xr.test(I)?0:z:z.firstChild,x=I&&I.childNodes.length;x--;)d.nodeName(at=I.childNodes[x],"tbody")&&!at.childNodes.length&&I.removeChild(at);for(d.merge(Pt,z.childNodes),z.textContent="";z.firstChild;)z.removeChild(z.firstChild);z=St.lastChild}else Pt.push(g.createTextNode(I));for(z&&St.removeChild(z),O.appendChecked||d.grep(qn(Pt,"input"),po),me=0;I=Pt[me++];)if((!T||d.inArray(I,T)===-1)&&(V=d.contains(I.ownerDocument,I),z=qn(St.appendChild(I),"script"),V&&ha(z),v))for(x=0;I=z[x++];)Us.test(I.type||"")&&v.push(I);return z=null,St},cleanData:function(u,g){for(var v,T,x,I,V=0,z=d.expando,st=d.cache,at=O.deleteExpando,ut=d.event.special;(v=u[V])!=null;V++)if((g||d.acceptData(v))&&(x=v[z],I=x&&st[x])){if(I.events)for(T in I.events)ut[T]?d.event.remove(v,T):d.removeEvent(v,T,I.handle);st[x]&&(delete st[x],at?delete v[z]:typeof v.removeAttribute!==Y?v.removeAttribute(z):v[z]=null,n.push(x))}}}),d.fn.extend({text:function(u){return pn(this,function(g){return g===void 0?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(g))},null,u,arguments.length)},append:function(){return this.domManip(arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=ys(this,u);g.appendChild(u)}})},prepend:function(){return this.domManip(arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=ys(this,u);g.insertBefore(u,g.firstChild)}})},before:function(){return this.domManip(arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this)})},after:function(){return this.domManip(arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling)})},remove:function(u,g){for(var v,T=u?d.filter(u,this):this,x=0;(v=T[x])!=null;x++)g||v.nodeType!==1||d.cleanData(qn(v)),v.parentNode&&(g&&d.contains(v.ownerDocument,v)&&ha(qn(v,"script")),v.parentNode.removeChild(v));return this},empty:function(){for(var u,g=0;(u=this[g])!=null;g++){for(u.nodeType===1&&d.cleanData(qn(u,!1));u.firstChild;)u.removeChild(u.firstChild);u.options&&d.nodeName(u,"select")&&(u.options.length=0)}return this},clone:function(u,g){return u=u??!1,g=g??u,this.map(function(){return d.clone(this,u,g)})},html:function(u){return pn(this,function(g){var v=this[0]||{},T=0,x=this.length;if(g===void 0)return v.nodeType===1?v.innerHTML.replace(Ps,""):void 0;if(!(typeof g!="string"||zo.test(g)||!O.htmlSerialize&&ka.test(g)||!O.leadingWhitespace&&La.test(g)||Dn[(Ke.exec(g)||["",""])[1].toLowerCase()])){g=g.replace(Sn,"<$1></$2>");try{for(;x>T;T++)v=this[T]||{},v.nodeType===1&&(d.cleanData(qn(v,!1)),v.innerHTML=g);v=0}catch{}}v&&this.empty().append(g)},null,u,arguments.length)},replaceWith:function(){var u=arguments[0];return this.domManip(arguments,function(g){u=this.parentNode,d.cleanData(qn(this)),u&&u.replaceChild(g,this)}),u&&(u.length||u.nodeType)?this:this.remove()},detach:function(u){return this.remove(u,!0)},domManip:function(u,g){u=o.apply([],u);var v,T,x,I,V,z,st=0,at=this.length,ut=this,Vt=at-1,St=u[0],Pt=d.isFunction(St);if(Pt||at>1&&typeof St=="string"&&!O.checkClone&&jl.test(St))return this.each(function(me){var $t=ut.eq(me);Pt&&(u[0]=St.call(this,me,$t.html())),$t.domManip(u,g)});if(at&&(z=d.buildFragment(u,this[0].ownerDocument,!1,this),v=z.firstChild,z.childNodes.length===1&&(z=v),v)){for(I=d.map(qn(z,"script"),Oi),x=I.length;at>st;st++)T=z,st!==Vt&&(T=d.clone(T,!0,!0),x&&d.merge(I,qn(T,"script"))),g.call(this[st],T,st);if(x)for(V=I[I.length-1].ownerDocument,d.map(I,Ki),st=0;x>st;st++)T=I[st],Us.test(T.type||"")&&!d._data(T,"globalEval")&&d.contains(V,T)&&(T.src?d._evalUrl&&d._evalUrl(T.src):d.globalEval((T.text||T.textContent||T.innerHTML||"").replace(ca,"")));z=v=null}return this}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(u,g){d.fn[u]=function(v){for(var T,x=0,I=[],V=d(v),z=V.length-1;z>=x;x++)T=x===z?this:this.clone(!0),d(V[x])[g](T),c.apply(I,T.get());return this.pushStack(I)}});var _i,Je={};function Ge(u,g){var v,T=d(g.createElement(u)).appendTo(g.body),x=i.getDefaultComputedStyle&&(v=i.getDefaultComputedStyle(T[0]))?v.display:d.css(T[0],"display");return T.detach(),x}function Wi(u){var g=P,v=Je[u];return v||(v=Ge(u,g),v!=="none"&&v||(_i=(_i||d("<iframe frameborder='0' width='0' height='0'/>")).appendTo(g.documentElement),g=(_i[0].contentWindow||_i[0].contentDocument).document,g.write(),g.close(),v=Ge(u,g),_i.detach()),Je[u]=v),v}(function(){var u;O.shrinkWrapBlocks=function(){if(u!=null)return u;u=!1;var g,v,T;return v=P.getElementsByTagName("body")[0],v&&v.style?(g=P.createElement("div"),T=P.createElement("div"),T.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",v.appendChild(T).appendChild(g),typeof g.style.zoom!==Y&&(g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",g.appendChild(P.createElement("div")).style.width="5px",u=g.offsetWidth!==3),v.removeChild(T),u):void 0}})();var mn=/^margin/,On=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),cn,Zn,_s=/^(top|right|bottom|left)$/;i.getComputedStyle?(cn=function(u){return u.ownerDocument.defaultView.getComputedStyle(u,null)},Zn=function(u,g,v){var T,x,I,V,z=u.style;return v=v||cn(u),V=v?v.getPropertyValue(g)||v[g]:void 0,v&&(V!==""||d.contains(u.ownerDocument,u)||(V=d.style(u,g)),On.test(V)&&mn.test(g)&&(T=z.width,x=z.minWidth,I=z.maxWidth,z.minWidth=z.maxWidth=z.width=V,V=v.width,z.width=T,z.minWidth=x,z.maxWidth=I)),V===void 0?V:V+""}):P.documentElement.currentStyle&&(cn=function(u){return u.currentStyle},Zn=function(u,g,v){var T,x,I,V,z=u.style;return v=v||cn(u),V=v?v[g]:void 0,V==null&&z&&z[g]&&(V=z[g]),On.test(V)&&!_s.test(g)&&(T=z.left,x=u.runtimeStyle,I=x&&x.left,I&&(x.left=u.currentStyle.left),z.left=g==="fontSize"?"1em":V,V=z.pixelLeft+"px",z.left=T,I&&(x.left=I)),V===void 0?V:V+""||"auto"});function Bs(u,g){return{get:function(){var v=u();if(v!=null)return v?void delete this.get:(this.get=g).apply(this,arguments)}}}(function(){var u,g,v,T,x,I,V;if(u=P.createElement("div"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",v=u.getElementsByTagName("a")[0],g=v&&v.style){let st=function(){var at,ut,Vt,St;ut=P.getElementsByTagName("body")[0],ut&&ut.style&&(at=P.createElement("div"),Vt=P.createElement("div"),Vt.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",ut.appendChild(Vt).appendChild(at),at.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",T=x=!1,V=!0,i.getComputedStyle&&(T=(i.getComputedStyle(at,null)||{}).top!=="1%",x=(i.getComputedStyle(at,null)||{width:"4px"}).width==="4px",St=at.appendChild(P.createElement("div")),St.style.cssText=at.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",St.style.marginRight=St.style.width="0",at.style.width="1px",V=!parseFloat((i.getComputedStyle(St,null)||{}).marginRight)),at.innerHTML="<table><tr><td></td><td>t</td></tr></table>",St=at.getElementsByTagName("td"),St[0].style.cssText="margin:0;border:0;padding:0;display:none",I=St[0].offsetHeight===0,I&&(St[0].style.display="",St[1].style.display="none",I=St[0].offsetHeight===0),ut.removeChild(Vt))};var z=st;g.cssText="float:left;opacity:.5",O.opacity=g.opacity==="0.5",O.cssFloat=!!g.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",O.clearCloneStyle=u.style.backgroundClip==="content-box",O.boxSizing=g.boxSizing===""||g.MozBoxSizing===""||g.WebkitBoxSizing==="",d.extend(O,{reliableHiddenOffsets:function(){return I==null&&st(),I},boxSizingReliable:function(){return x==null&&st(),x},pixelPosition:function(){return T==null&&st(),T},reliableMarginRight:function(){return V==null&&st(),V}})}})(),d.swap=function(u,g,v,T){var x,I,V={};for(I in g)V[I]=u.style[I],u.style[I]=g[I];x=v.apply(u,T||[]);for(I in g)u.style[I]=V[I];return x};var Ji=/alpha\([^)]*\)/i,Zi=/opacity\s*=\s*([^)]*)/,da=/^(none|table(?!-c[ea]).+)/,Cr=new RegExp("^("+$e+")(.*)$","i"),hr=new RegExp("^([+-])=("+$e+")","i"),Ct={position:"absolute",visibility:"hidden",display:"block"},B={letterSpacing:"0",fontWeight:"400"},pe=["Webkit","O","Moz","ms"];function we(u,g){if(g in u)return g;for(var v=g.charAt(0).toUpperCase()+g.slice(1),T=g,x=pe.length;x--;)if(g=pe[x]+v,g in u)return g;return T}function _e(u,g){for(var v,T,x,I=[],V=0,z=u.length;z>V;V++)T=u[V],T.style&&(I[V]=d._data(T,"olddisplay"),v=T.style.display,g?(I[V]||v!=="none"||(T.style.display=""),T.style.display===""&&cr(T)&&(I[V]=d._data(T,"olddisplay",Wi(T.nodeName)))):(x=cr(T),(v&&v!=="none"||!x)&&d._data(T,"olddisplay",x?v:d.css(T,"display"))));for(V=0;z>V;V++)T=u[V],T.style&&(g&&T.style.display!=="none"&&T.style.display!==""||(T.style.display=g?I[V]||"":"none"));return u}function Ur(u,g,v){var T=Cr.exec(g);return T?Math.max(0,T[1]-(v||0))+(T[2]||"px"):g}function ti(u,g,v,T,x){for(var I=v===(T?"border":"content")?4:g==="width"?1:0,V=0;4>I;I+=2)v==="margin"&&(V+=d.css(u,v+Nn[I],!0,x)),T?(v==="content"&&(V-=d.css(u,"padding"+Nn[I],!0,x)),v!=="margin"&&(V-=d.css(u,"border"+Nn[I]+"Width",!0,x))):(V+=d.css(u,"padding"+Nn[I],!0,x),v!=="padding"&&(V+=d.css(u,"border"+Nn[I]+"Width",!0,x)));return V}function ei(u,g,v){var T=!0,x=g==="width"?u.offsetWidth:u.offsetHeight,I=cn(u),V=O.boxSizing&&d.css(u,"boxSizing",!1,I)==="border-box";if(0>=x||x==null){if(x=Zn(u,g,I),(0>x||x==null)&&(x=u.style[g]),On.test(x))return x;T=V&&(O.boxSizingReliable()||x===u.style[g]),x=parseFloat(x)||0}return x+ti(u,g,v||(V?"border":"content"),T,I)+"px"}d.extend({cssHooks:{opacity:{get:function(u,g){if(g){var v=Zn(u,"opacity");return v===""?"1":v}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:O.cssFloat?"cssFloat":"styleFloat"},style:function(u,g,v,T){if(u&&u.nodeType!==3&&u.nodeType!==8&&u.style){var x,I,V,z=d.camelCase(g),st=u.style;if(g=d.cssProps[z]||(d.cssProps[z]=we(st,z)),V=d.cssHooks[g]||d.cssHooks[z],v===void 0)return V&&"get"in V&&(x=V.get(u,!1,T))!==void 0?x:st[g];if(I=typeof v,I==="string"&&(x=hr.exec(v))&&(v=(x[1]+1)*x[2]+parseFloat(d.css(u,g)),I="number"),v!=null&&v===v&&(I!=="number"||d.cssNumber[z]||(v+="px"),O.clearCloneStyle||v!==""||g.indexOf("background")!==0||(st[g]="inherit"),!(V&&"set"in V&&(v=V.set(u,v,T))===void 0)))try{st[g]=v}catch{}}},css:function(u,g,v,T){var x,I,V,z=d.camelCase(g);return g=d.cssProps[z]||(d.cssProps[z]=we(u.style,z)),V=d.cssHooks[g]||d.cssHooks[z],V&&"get"in V&&(I=V.get(u,!0,v)),I===void 0&&(I=Zn(u,g,T)),I==="normal"&&g in B&&(I=B[g]),v===""||v?(x=parseFloat(I),v===!0||d.isNumeric(x)?x||0:I):I}}),d.each(["height","width"],function(u,g){d.cssHooks[g]={get:function(v,T,x){return T?da.test(d.css(v,"display"))&&v.offsetWidth===0?d.swap(v,Ct,function(){return ei(v,g,x)}):ei(v,g,x):void 0},set:function(v,T,x){var I=x&&cn(v);return Ur(v,T,x?ti(v,g,x,O.boxSizing&&d.css(v,"boxSizing",!1,I)==="border-box",I):0)}}}),O.opacity||(d.cssHooks.opacity={get:function(u,g){return Zi.test((g&&u.currentStyle?u.currentStyle.filter:u.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":g?"1":""},set:function(u,g){var v=u.style,T=u.currentStyle,x=d.isNumeric(g)?"alpha(opacity="+100*g+")":"",I=T&&T.filter||v.filter||"";v.zoom=1,(g>=1||g==="")&&d.trim(I.replace(Ji,""))===""&&v.removeAttribute&&(v.removeAttribute("filter"),g===""||T&&!T.filter)||(v.filter=Ji.test(I)?I.replace(Ji,x):I+" "+x)}}),d.cssHooks.marginRight=Bs(O.reliableMarginRight,function(u,g){return g?d.swap(u,{display:"inline-block"},Zn,[u,"marginRight"]):void 0}),d.each({margin:"",padding:"",border:"Width"},function(u,g){d.cssHooks[u+g]={expand:function(v){for(var T=0,x={},I=typeof v=="string"?v.split(" "):[v];4>T;T++)x[u+Nn[T]+g]=I[T]||I[T-2]||I[0];return x}},mn.test(u)||(d.cssHooks[u+g].set=Ur)}),d.fn.extend({css:function(u,g){return pn(this,function(v,T,x){var I,V,z={},st=0;if(d.isArray(T)){for(I=cn(v),V=T.length;V>st;st++)z[T[st]]=d.css(v,T[st],!1,I);return z}return x!==void 0?d.style(v,T,x):d.css(v,T)},u,g,arguments.length>1)},show:function(){return _e(this,!0)},hide:function(){return _e(this)},toggle:function(u){return typeof u=="boolean"?u?this.show():this.hide():this.each(function(){cr(this)?d(this).show():d(this).hide()})}});function We(u,g,v,T,x){return new We.prototype.init(u,g,v,T,x)}d.Tween=We,We.prototype={constructor:We,init:function(u,g,v,T,x,I){this.elem=u,this.prop=v,this.easing=x||"swing",this.options=g,this.start=this.now=this.cur(),this.end=T,this.unit=I||(d.cssNumber[v]?"":"px")},cur:function(){var u=We.propHooks[this.prop];return u&&u.get?u.get(this):We.propHooks._default.get(this)},run:function(u){var g,v=We.propHooks[this.prop];return this.pos=g=this.options.duration?d.easing[this.easing](u,this.options.duration*u,0,1,this.options.duration):u,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),v&&v.set?v.set(this):We.propHooks._default.set(this),this}},We.prototype.init.prototype=We.prototype,We.propHooks={_default:{get:function(u){var g;return u.elem[u.prop]==null||u.elem.style&&u.elem.style[u.prop]!=null?(g=d.css(u.elem,u.prop,""),g&&g!=="auto"?g:0):u.elem[u.prop]},set:function(u){d.fx.step[u.prop]?d.fx.step[u.prop](u):u.elem.style&&(u.elem.style[d.cssProps[u.prop]]!=null||d.cssHooks[u.prop])?d.style(u.elem,u.prop,u.now+u.unit):u.elem[u.prop]=u.now}}},We.propHooks.scrollTop=We.propHooks.scrollLeft={set:function(u){u.elem.nodeType&&u.elem.parentNode&&(u.elem[u.prop]=u.now)}},d.easing={linear:function(u){return u},swing:function(u){return .5-Math.cos(u*Math.PI)/2}},d.fx=We.prototype.init,d.fx.step={};var Qn,ts,go=/^(?:toggle|show|hide)$/,vi=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),Vi=/queueHooks$/,zn=[vs],ki={"*":[function(u,g){var v=this.createTween(u,g),T=v.cur(),x=vi.exec(g),I=x&&x[3]||(d.cssNumber[u]?"":"px"),V=(d.cssNumber[u]||I!=="px"&&+T)&&vi.exec(d.css(v.elem,u)),z=1,st=20;if(V&&V[3]!==I){I=I||V[3],x=x||[],V=+T||1;do z=z||".5",V/=z,d.style(v.elem,u,V+I);while(z!==(z=v.cur()/T)&&z!==1&&--st)}return x&&(V=v.start=+V||+T||0,v.unit=I,v.end=x[1]?V+(x[1]+1)*x[2]:+x[2]),v}]};function Pa(){return setTimeout(function(){Qn=void 0}),Qn=d.now()}function dr(u,g){var v,T={height:u},x=0;for(g=g?1:0;4>x;x+=2-g)v=Nn[x],T["margin"+v]=T["padding"+v]=u;return g&&(T.opacity=T.width=u),T}function qs(u,g,v){for(var T,x=(ki[g]||[]).concat(ki["*"]),I=0,V=x.length;V>I;I++)if(T=x[I].call(v,g,u))return T}function vs(u,g,v){var T,x,I,V,z,st,at,ut,Vt=this,St={},Pt=u.style,me=u.nodeType&&cr(u),$t=d._data(u,"fxshow");v.queue||(z=d._queueHooks(u,"fx"),z.unqueued==null&&(z.unqueued=0,st=z.empty.fire,z.empty.fire=function(){z.unqueued||st()}),z.unqueued++,Vt.always(function(){Vt.always(function(){z.unqueued--,d.queue(u,"fx").length||z.empty.fire()})})),u.nodeType===1&&("height"in g||"width"in g)&&(v.overflow=[Pt.overflow,Pt.overflowX,Pt.overflowY],at=d.css(u,"display"),ut=at==="none"?d._data(u,"olddisplay")||Wi(u.nodeName):at,ut==="inline"&&d.css(u,"float")==="none"&&(O.inlineBlockNeedsLayout&&Wi(u.nodeName)!=="inline"?Pt.zoom=1:Pt.display="inline-block")),v.overflow&&(Pt.overflow="hidden",O.shrinkWrapBlocks()||Vt.always(function(){Pt.overflow=v.overflow[0],Pt.overflowX=v.overflow[1],Pt.overflowY=v.overflow[2]}));for(T in g)if(x=g[T],go.exec(x)){if(delete g[T],I=I||x==="toggle",x===(me?"hide":"show")){if(x!=="show"||!$t||$t[T]===void 0)continue;me=!0}St[T]=$t&&$t[T]||d.style(u,T)}else at=void 0;if(d.isEmptyObject(St))(at==="none"?Wi(u.nodeName):at)==="inline"&&(Pt.display=at);else{$t?"hidden"in $t&&(me=$t.hidden):$t=d._data(u,"fxshow",{}),I&&($t.hidden=!me),me?d(u).show():Vt.done(function(){d(u).hide()}),Vt.done(function(){var fe;d._removeData(u,"fxshow");for(fe in St)d.style(u,fe,St[fe])});for(T in St)V=qs(me?$t[T]:0,T,Vt),T in $t||($t[T]=V.start,me&&(V.end=V.start,V.start=T==="width"||T==="height"?1:0))}}function es(u,g){var v,T,x,I,V;for(v in u)if(T=d.camelCase(v),x=g[T],I=u[v],d.isArray(I)&&(x=I[1],I=u[v]=I[0]),v!==T&&(u[T]=I,delete u[v]),V=d.cssHooks[T],V&&"expand"in V){I=V.expand(I),delete u[T];for(v in I)v in u||(u[v]=I[v],g[v]=x)}else g[T]=x}function Li(u,g,v){var T,x,I=0,V=zn.length,z=d.Deferred().always(function(){delete st.elem}),st=function(){if(x)return!1;for(var Vt=Qn||Pa(),St=Math.max(0,at.startTime+at.duration-Vt),Pt=St/at.duration||0,me=1-Pt,$t=0,fe=at.tweens.length;fe>$t;$t++)at.tweens[$t].run(me);return z.notifyWith(u,[at,me,St]),1>me&&fe?St:(z.resolveWith(u,[at]),!1)},at=z.promise({elem:u,props:d.extend({},g),opts:d.extend(!0,{specialEasing:{}},v),originalProperties:g,originalOptions:v,startTime:Qn||Pa(),duration:v.duration,tweens:[],createTween:function(Vt,St){var Pt=d.Tween(u,at.opts,Vt,St,at.opts.specialEasing[Vt]||at.opts.easing);return at.tweens.push(Pt),Pt},stop:function(Vt){var St=0,Pt=Vt?at.tweens.length:0;if(x)return this;for(x=!0;Pt>St;St++)at.tweens[St].run(1);return Vt?z.resolveWith(u,[at,Vt]):z.rejectWith(u,[at,Vt]),this}}),ut=at.props;for(es(ut,at.opts.specialEasing);V>I;I++)if(T=zn[I].call(at,u,ut,at.opts))return T;return d.map(ut,qs,at),d.isFunction(at.opts.start)&&at.opts.start.call(u,at),d.fx.timer(d.extend(st,{elem:u,anim:at,queue:at.opts.queue})),at.progress(at.opts.progress).done(at.opts.done,at.opts.complete).fail(at.opts.fail).always(at.opts.always)}d.Animation=d.extend(Li,{tweener:function(u,g){d.isFunction(u)?(g=u,u=["*"]):u=u.split(" ");for(var v,T=0,x=u.length;x>T;T++)v=u[T],ki[v]=ki[v]||[],ki[v].unshift(g)},prefilter:function(u,g){g?zn.unshift(u):zn.push(u)}}),d.speed=function(u,g,v){var T=u&&typeof u=="object"?d.extend({},u):{complete:v||!v&&g||d.isFunction(u)&&u,duration:u,easing:v&&g||g&&!d.isFunction(g)&&g};return T.duration=d.fx.off?0:typeof T.duration=="number"?T.duration:T.duration in d.fx.speeds?d.fx.speeds[T.duration]:d.fx.speeds._default,(T.queue==null||T.queue===!0)&&(T.queue="fx"),T.old=T.complete,T.complete=function(){d.isFunction(T.old)&&T.old.call(this),T.queue&&d.dequeue(this,T.queue)},T},d.fn.extend({fadeTo:function(u,g,v,T){return this.filter(cr).css("opacity",0).show().end().animate({opacity:g},u,v,T)},animate:function(u,g,v,T){var x=d.isEmptyObject(u),I=d.speed(g,v,T),V=function(){var z=Li(this,d.extend({},u),I);(x||d._data(this,"finish"))&&z.stop(!0)};return V.finish=V,x||I.queue===!1?this.each(V):this.queue(I.queue,V)},stop:function(u,g,v){var T=function(x){var I=x.stop;delete x.stop,I(v)};return typeof u!="string"&&(v=g,g=u,u=void 0),g&&u!==!1&&this.queue(u||"fx",[]),this.each(function(){var x=!0,I=u!=null&&u+"queueHooks",V=d.timers,z=d._data(this);if(I)z[I]&&z[I].stop&&T(z[I]);else for(I in z)z[I]&&z[I].stop&&Vi.test(I)&&T(z[I]);for(I=V.length;I--;)V[I].elem!==this||u!=null&&V[I].queue!==u||(V[I].anim.stop(v),x=!1,V.splice(I,1));(x||!v)&&d.dequeue(this,u)})},finish:function(u){return u!==!1&&(u=u||"fx"),this.each(function(){var g,v=d._data(this),T=v[u+"queue"],x=v[u+"queueHooks"],I=d.timers,V=T?T.length:0;for(v.finish=!0,d.queue(this,u,[]),x&&x.stop&&x.stop.call(this,!0),g=I.length;g--;)I[g].elem===this&&I[g].queue===u&&(I[g].anim.stop(!0),I.splice(g,1));for(g=0;V>g;g++)T[g]&&T[g].finish&&T[g].finish.call(this);delete v.finish})}}),d.each(["toggle","show","hide"],function(u,g){var v=d.fn[g];d.fn[g]=function(T,x,I){return T==null||typeof T=="boolean"?v.apply(this,arguments):this.animate(dr(g,!0),T,x,I)}}),d.each({slideDown:dr("show"),slideUp:dr("hide"),slideToggle:dr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(u,g){d.fn[u]=function(v,T,x){return this.animate(g,v,T,x)}}),d.timers=[],d.fx.tick=function(){var u,g=d.timers,v=0;for(Qn=d.now();v<g.length;v++)u=g[v],u()||g[v]!==u||g.splice(v--,1);g.length||d.fx.stop(),Qn=void 0},d.fx.timer=function(u){d.timers.push(u),u()?d.fx.start():d.timers.pop()},d.fx.interval=13,d.fx.start=function(){ts||(ts=setInterval(d.fx.tick,d.fx.interval))},d.fx.stop=function(){clearInterval(ts),ts=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(u,g){return u=d.fx&&d.fx.speeds[u]||u,g=g||"fx",this.queue(g,function(v,T){var x=setTimeout(v,u);T.stop=function(){clearTimeout(x)}})},(function(){var u,g,v,T,x;g=P.createElement("div"),g.setAttribute("className","t"),g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",T=g.getElementsByTagName("a")[0],v=P.createElement("select"),x=v.appendChild(P.createElement("option")),u=g.getElementsByTagName("input")[0],T.style.cssText="top:1px",O.getSetAttribute=g.className!=="t",O.style=/top/.test(T.getAttribute("style")),O.hrefNormalized=T.getAttribute("href")==="/a",O.checkOn=!!u.value,O.optSelected=x.selected,O.enctype=!!P.createElement("form").enctype,v.disabled=!0,O.optDisabled=!x.disabled,u=P.createElement("input"),u.setAttribute("value",""),O.input=u.getAttribute("value")==="",u.value="t",u.setAttribute("type","radio"),O.radioValue=u.value==="t"})();var pr=/\r/g;d.fn.extend({val:function(u){var g,v,T,x=this[0];{if(arguments.length)return T=d.isFunction(u),this.each(function(I){var V;this.nodeType===1&&(V=T?u.call(this,I,d(this).val()):u,V==null?V="":typeof V=="number"?V+="":d.isArray(V)&&(V=d.map(V,function(z){return z==null?"":z+""})),g=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],g&&"set"in g&&g.set(this,V,"value")!==void 0||(this.value=V))});if(x)return g=d.valHooks[x.type]||d.valHooks[x.nodeName.toLowerCase()],g&&"get"in g&&(v=g.get(x,"value"))!==void 0?v:(v=x.value,typeof v=="string"?v.replace(pr,""):v??"")}}}),d.extend({valHooks:{option:{get:function(u){var g=d.find.attr(u,"value");return g??d.trim(d.text(u))}},select:{get:function(u){for(var g,v,T=u.options,x=u.selectedIndex,I=u.type==="select-one"||0>x,V=I?null:[],z=I?x+1:T.length,st=0>x?z:I?x:0;z>st;st++)if(v=T[st],!(!v.selected&&st!==x||(O.optDisabled?v.disabled:v.getAttribute("disabled")!==null)||v.parentNode.disabled&&d.nodeName(v.parentNode,"optgroup"))){if(g=d(v).val(),I)return g;V.push(g)}return V},set:function(u,g){for(var v,T,x=u.options,I=d.makeArray(g),V=x.length;V--;)if(T=x[V],d.inArray(d.valHooks.option.get(T),I)>=0)try{T.selected=v=!0}catch{T.scrollHeight}else T.selected=!1;return v||(u.selectedIndex=-1),x}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(u,g){return d.isArray(g)?u.checked=d.inArray(d(u).val(),g)>=0:void 0}},O.checkOn||(d.valHooks[this].get=function(u){return u.getAttribute("value")===null?"on":u.value})});var jr,Ho,Br=d.expr.attrHandle,zs=/^(?:checked|selected)$/i,vn=O.getSetAttribute,pa=O.input;d.fn.extend({attr:function(u,g){return pn(this,d.attr,u,g,arguments.length>1)},removeAttr:function(u){return this.each(function(){d.removeAttr(this,u)})}}),d.extend({attr:function(u,g,v){var T,x,I=u.nodeType;if(u&&I!==3&&I!==8&&I!==2)return typeof u.getAttribute===Y?d.prop(u,g,v):(I===1&&d.isXMLDoc(u)||(g=g.toLowerCase(),T=d.attrHooks[g]||(d.expr.match.bool.test(g)?Ho:jr)),v===void 0?T&&"get"in T&&(x=T.get(u,g))!==null?x:(x=d.find.attr(u,g),x??void 0):v!==null?T&&"set"in T&&(x=T.set(u,v,g))!==void 0?x:(u.setAttribute(g,v+""),v):void d.removeAttr(u,g))},removeAttr:function(u,g){var v,T,x=0,I=g&&g.match(rn);if(I&&u.nodeType===1)for(;v=I[x++];)T=d.propFix[v]||v,d.expr.match.bool.test(v)?pa&&vn||!zs.test(v)?u[T]=!1:u[d.camelCase("default-"+v)]=u[T]=!1:d.attr(u,v,""),u.removeAttribute(vn?v:T)},attrHooks:{type:{set:function(u,g){if(!O.radioValue&&g==="radio"&&d.nodeName(u,"input")){var v=u.value;return u.setAttribute("type",g),v&&(u.value=v),g}}}}}),Ho={set:function(u,g,v){return g===!1?d.removeAttr(u,v):pa&&vn||!zs.test(v)?u.setAttribute(!vn&&d.propFix[v]||v,v):u[d.camelCase("default-"+v)]=u[v]=!0,v}},d.each(d.expr.match.bool.source.match(/\w+/g),function(u,g){var v=Br[g]||d.find.attr;Br[g]=pa&&vn||!zs.test(g)?function(T,x,I){var V,z;return I||(z=Br[x],Br[x]=V,V=v(T,x,I)!=null?x.toLowerCase():null,Br[x]=z),V}:function(T,x,I){return I?void 0:T[d.camelCase("default-"+x)]?x.toLowerCase():null}}),pa&&vn||(d.attrHooks.value={set:function(u,g,v){return d.nodeName(u,"input")?void(u.defaultValue=g):jr&&jr.set(u,g,v)}}),vn||(jr={set:function(u,g,v){var T=u.getAttributeNode(v);return T||u.setAttributeNode(T=u.ownerDocument.createAttribute(v)),T.value=g+="",v==="value"||g===u.getAttribute(v)?g:void 0}},Br.id=Br.name=Br.coords=function(u,g,v){var T;return v?void 0:(T=u.getAttributeNode(g))&&T.value!==""?T.value:null},d.valHooks.button={get:function(u,g){var v=u.getAttributeNode(g);return v&&v.specified?v.value:void 0},set:jr.set},d.attrHooks.contenteditable={set:function(u,g,v){jr.set(u,g===""?!1:g,v)}},d.each(["width","height"],function(u,g){d.attrHooks[g]={set:function(v,T){return T===""?(v.setAttribute(g,"auto"),T):void 0}}})),O.style||(d.attrHooks.style={get:function(u){return u.style.cssText||void 0},set:function(u,g){return u.style.cssText=g+""}});var sn=/^(?:input|select|textarea|button|object)$/i,Ir=/^(?:a|area)$/i;d.fn.extend({prop:function(u,g){return pn(this,d.prop,u,g,arguments.length>1)},removeProp:function(u){return u=d.propFix[u]||u,this.each(function(){try{this[u]=void 0,delete this[u]}catch{}})}}),d.extend({propFix:{for:"htmlFor",class:"className"},prop:function(u,g,v){var T,x,I,V=u.nodeType;if(u&&V!==3&&V!==8&&V!==2)return I=V!==1||!d.isXMLDoc(u),I&&(g=d.propFix[g]||g,x=d.propHooks[g]),v!==void 0?x&&"set"in x&&(T=x.set(u,v,g))!==void 0?T:u[g]=v:x&&"get"in x&&(T=x.get(u,g))!==null?T:u[g]},propHooks:{tabIndex:{get:function(u){var g=d.find.attr(u,"tabindex");return g?parseInt(g,10):sn.test(u.nodeName)||Ir.test(u.nodeName)&&u.href?0:-1}}}}),O.hrefNormalized||d.each(["href","src"],function(u,g){d.propHooks[g]={get:function(v){return v.getAttribute(g,4)}}}),O.optSelected||(d.propHooks.selected={get:function(u){var g=u.parentNode;return g&&(g.selectedIndex,g.parentNode&&g.parentNode.selectedIndex),null}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this}),O.enctype||(d.propFix.enctype="encoding");var Pi=/[\t\r\n\f]/g;d.fn.extend({addClass:function(u){var g,v,T,x,I,V,z=0,st=this.length,at=typeof u=="string"&&u;if(d.isFunction(u))return this.each(function(ut){d(this).addClass(u.call(this,ut,this.className))});if(at){for(g=(u||"").match(rn)||[];st>z;z++)if(v=this[z],T=v.nodeType===1&&(v.className?(" "+v.className+" ").replace(Pi," "):" ")){for(I=0;x=g[I++];)T.indexOf(" "+x+" ")<0&&(T+=x+" ");V=d.trim(T),v.className!==V&&(v.className=V)}}return this},removeClass:function(u){var g,v,T,x,I,V,z=0,st=this.length,at=arguments.length===0||typeof u=="string"&&u;if(d.isFunction(u))return this.each(function(ut){d(this).removeClass(u.call(this,ut,this.className))});if(at){for(g=(u||"").match(rn)||[];st>z;z++)if(v=this[z],T=v.nodeType===1&&(v.className?(" "+v.className+" ").replace(Pi," "):"")){for(I=0;x=g[I++];)for(;T.indexOf(" "+x+" ")>=0;)T=T.replace(" "+x+" "," ");V=u?d.trim(T):"",v.className!==V&&(v.className=V)}}return this},toggleClass:function(u,g){var v=typeof u;return typeof g=="boolean"&&v==="string"?g?this.addClass(u):this.removeClass(u):this.each(d.isFunction(u)?function(T){d(this).toggleClass(u.call(this,T,this.className,g),g)}:function(){if(v==="string")for(var T,x=0,I=d(this),V=u.match(rn)||[];T=V[x++];)I.hasClass(T)?I.removeClass(T):I.addClass(T);else(v===Y||v==="boolean")&&(this.className&&d._data(this,"__className__",this.className),this.className=this.className||u===!1?"":d._data(this,"__className__")||"")})},hasClass:function(u){for(var g=" "+u+" ",v=0,T=this.length;T>v;v++)if(this[v].nodeType===1&&(" "+this[v].className+" ").replace(Pi," ").indexOf(g)>=0)return!0;return!1}}),d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(u,g){d.fn[g]=function(v,T){return arguments.length>0?this.on(g,null,v,T):this.trigger(g)}}),d.fn.extend({hover:function(u,g){return this.mouseenter(u).mouseleave(g||u)},bind:function(u,g,v){return this.on(u,null,g,v)},unbind:function(u,g){return this.off(u,null,g)},delegate:function(u,g,v,T){return this.on(g,u,v,T)},undelegate:function(u,g,v){return arguments.length===1?this.off(u,"**"):this.off(g,u||"**",v)}});var ni=d.now(),Ui=/\?/,an=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;d.parseJSON=function(u){if(i.JSON&&i.JSON.parse)return i.JSON.parse(u+"");var g,v=null,T=d.trim(u+"");return T&&!d.trim(T.replace(an,function(x,I,V,z){return g&&I&&(v=0),v===0?x:(g=V||I,v+=!z-!V,"")}))?Function("return "+T)():d.error("Invalid JSON: "+u)},d.parseXML=function(u){var g,v;if(!u||typeof u!="string")return null;try{i.DOMParser?(v=new DOMParser,g=v.parseFromString(u,"text/xml")):(g=new ActiveXObject("Microsoft.XMLDOM"),g.async="false",g.loadXML(u))}catch{g=void 0}return g&&g.documentElement&&!g.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+u),g};var ri,Rn,Hs=/#.*$/,Ua=/([?&])_=[^&]*/,ji=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ma=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bl=/^(?:GET|HEAD)$/,ns=/^\/\//,ga=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bi={},Nr={},rs="*/".concat("*");try{Rn=location.href}catch{Rn=P.createElement("a"),Rn.href="",Rn=Rn.href}ri=ga.exec(Rn.toLowerCase())||[];function wi(u){return function(g,v){typeof g!="string"&&(v=g,g="*");var T,x=0,I=g.toLowerCase().match(rn)||[];if(d.isFunction(v))for(;T=I[x++];)T.charAt(0)==="+"?(T=T.slice(1)||"*",(u[T]=u[T]||[]).unshift(v)):(u[T]=u[T]||[]).push(v)}}function Fs(u,g,v,T){var x={},I=u===Nr;function V(z){var st;return x[z]=!0,d.each(u[z]||[],function(at,ut){var Vt=ut(g,v,T);return typeof Vt!="string"||I||x[Vt]?I?!(st=Vt):void 0:(g.dataTypes.unshift(Vt),V(Vt),!1)}),st}return V(g.dataTypes[0])||!x["*"]&&V("*")}function Dr(u,g){var v,T,x=d.ajaxSettings.flatOptions||{};for(T in g)g[T]!==void 0&&((x[T]?u:v||(v={}))[T]=g[T]);return v&&d.extend(!0,u,v),u}function yo(u,g,v){for(var T,x,I,V,z=u.contents,st=u.dataTypes;st[0]==="*";)st.shift(),x===void 0&&(x=u.mimeType||g.getResponseHeader("Content-Type"));if(x){for(V in z)if(z[V]&&z[V].test(x)){st.unshift(V);break}}if(st[0]in v)I=st[0];else{for(V in v){if(!st[0]||u.converters[V+" "+st[0]]){I=V;break}T||(T=V)}I=I||T}return I?(I!==st[0]&&st.unshift(I),v[I]):void 0}function ws(u,g,v,T){var x,I,V,z,st,at={},ut=u.dataTypes.slice();if(ut[1])for(V in u.converters)at[V.toLowerCase()]=u.converters[V];for(I=ut.shift();I;)if(u.responseFields[I]&&(v[u.responseFields[I]]=g),!st&&T&&u.dataFilter&&(g=u.dataFilter(g,u.dataType)),st=I,I=ut.shift()){if(I==="*")I=st;else if(st!=="*"&&st!==I){if(V=at[st+" "+I]||at["* "+I],!V){for(x in at)if(z=x.split(" "),z[1]===I&&(V=at[st+" "+z[0]]||at["* "+z[0]])){V===!0?V=at[x]:at[x]!==!0&&(I=z[0],ut.unshift(z[1]));break}}if(V!==!0)if(V&&u.throws)g=V(g);else try{g=V(g)}catch(Vt){return{state:"parsererror",error:V?Vt:"No conversion from "+st+" to "+I}}}}return{state:"success",data:g}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rn,type:"GET",isLocal:ma.test(ri[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":rs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(u,g){return g?Dr(Dr(u,d.ajaxSettings),g):Dr(d.ajaxSettings,u)},ajaxPrefilter:wi(Bi),ajaxTransport:wi(Nr),ajax:function(u,g){typeof u=="object"&&(g=u,u=void 0),g=g||{};var v,T,x,I,V,z,st,at,ut=d.ajaxSetup({},g),Vt=ut.context||ut,St=ut.context&&(Vt.nodeType||Vt.jquery)?d(Vt):d.event,Pt=d.Deferred(),me=d.Callbacks("once memory"),$t=ut.statusCode||{},fe={},mr={},Un=0,Hi="canceled",Yt={readyState:0,getResponseHeader:function(Ee){var Se;if(Un===2){if(!at)for(at={};Se=ji.exec(I);)at[Se[1].toLowerCase()]=Se[2];Se=at[Ee.toLowerCase()]}return Se??null},getAllResponseHeaders:function(){return Un===2?I:null},setRequestHeader:function(Ee,Se){var ir=Ee.toLowerCase();return Un||(Ee=mr[ir]=mr[ir]||Ee,fe[Ee]=Se),this},overrideMimeType:function(Ee){return Un||(ut.mimeType=Ee),this},statusCode:function(Ee){var Se;if(Ee)if(2>Un)for(Se in Ee)$t[Se]=[$t[Se],Ee[Se]];else Yt.always(Ee[Yt.status]);return this},abort:function(Ee){var Se=Ee||Hi;return st&&st.abort(Se),ae(0,Se),this}};if(Pt.promise(Yt).complete=me.add,Yt.success=Yt.done,Yt.error=Yt.fail,ut.url=((u||ut.url||Rn)+"").replace(Hs,"").replace(ns,ri[1]+"//"),ut.type=g.method||g.type||ut.method||ut.type,ut.dataTypes=d.trim(ut.dataType||"*").toLowerCase().match(rn)||[""],ut.crossDomain==null&&(v=ga.exec(ut.url.toLowerCase()),ut.crossDomain=!(!v||v[1]===ri[1]&&v[2]===ri[2]&&(v[3]||(v[1]==="http:"?"80":"443"))===(ri[3]||(ri[1]==="http:"?"80":"443")))),ut.data&&ut.processData&&typeof ut.data!="string"&&(ut.data=d.param(ut.data,ut.traditional)),Fs(Bi,ut,g,Yt),Un===2)return Yt;z=ut.global,z&&d.active++===0&&d.event.trigger("ajaxStart"),ut.type=ut.type.toUpperCase(),ut.hasContent=!Bl.test(ut.type),x=ut.url,ut.hasContent||(ut.data&&(x=ut.url+=(Ui.test(x)?"&":"?")+ut.data,delete ut.data),ut.cache===!1&&(ut.url=Ua.test(x)?x.replace(Ua,"$1_="+ni++):x+(Ui.test(x)?"&":"?")+"_="+ni++)),ut.ifModified&&(d.lastModified[x]&&Yt.setRequestHeader("If-Modified-Since",d.lastModified[x]),d.etag[x]&&Yt.setRequestHeader("If-None-Match",d.etag[x])),(ut.data&&ut.hasContent&&ut.contentType!==!1||g.contentType)&&Yt.setRequestHeader("Content-Type",ut.contentType),Yt.setRequestHeader("Accept",ut.dataTypes[0]&&ut.accepts[ut.dataTypes[0]]?ut.accepts[ut.dataTypes[0]]+(ut.dataTypes[0]!=="*"?", "+rs+"; q=0.01":""):ut.accepts["*"]);for(T in ut.headers)Yt.setRequestHeader(T,ut.headers[T]);if(ut.beforeSend&&(ut.beforeSend.call(Vt,Yt,ut)===!1||Un===2))return Yt.abort();Hi="abort";for(T in{success:1,error:1,complete:1})Yt[T](ut[T]);if(st=Fs(Nr,ut,g,Yt)){Yt.readyState=1,z&&St.trigger("ajaxSend",[Yt,ut]),ut.async&&ut.timeout>0&&(V=setTimeout(function(){Yt.abort("timeout")},ut.timeout));try{Un=1,st.send(fe,ae)}catch(Ee){if(!(2>Un))throw Ee;ae(-1,Ee)}}else ae(-1,"No Transport");function ae(Ee,Se,ir,Gs){var gr,Mn,yr,_r,wn,h=Se;Un!==2&&(Un=2,V&&clearTimeout(V),st=void 0,I=Gs||"",Yt.readyState=Ee>0?4:0,gr=Ee>=200&&300>Ee||Ee===304,ir&&(_r=yo(ut,Yt,ir)),_r=ws(ut,_r,Yt,gr),gr?(ut.ifModified&&(wn=Yt.getResponseHeader("Last-Modified"),wn&&(d.lastModified[x]=wn),wn=Yt.getResponseHeader("etag"),wn&&(d.etag[x]=wn)),Ee===204||ut.type==="HEAD"?h="nocontent":Ee===304?h="notmodified":(h=_r.state,Mn=_r.data,yr=_r.error,gr=!yr)):(yr=h,(Ee||!h)&&(h="error",0>Ee&&(Ee=0))),Yt.status=Ee,Yt.statusText=(Se||h)+"",gr?Pt.resolveWith(Vt,[Mn,h,Yt]):Pt.rejectWith(Vt,[Yt,h,yr]),Yt.statusCode($t),$t=void 0,z&&St.trigger(gr?"ajaxSuccess":"ajaxError",[Yt,ut,gr?Mn:yr]),me.fireWith(Vt,[Yt,h]),z&&(St.trigger("ajaxComplete",[Yt,ut]),--d.active||d.event.trigger("ajaxStop")))}return Yt},getJSON:function(u,g,v){return d.get(u,g,v,"json")},getScript:function(u,g){return d.get(u,void 0,g,"script")}}),d.each(["get","post"],function(u,g){d[g]=function(v,T,x,I){return d.isFunction(T)&&(I=I||x,x=T,T=void 0),d.ajax({url:v,type:g,dataType:I,data:T,success:x})}}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(u,g){d.fn[g]=function(v){return this.on(g,v)}}),d._evalUrl=function(u){return d.ajax({url:u,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},d.fn.extend({wrapAll:function(u){if(d.isFunction(u))return this.each(function(v){d(this).wrapAll(u.call(this,v))});if(this[0]){var g=d(u,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var v=this;v.firstChild&&v.firstChild.nodeType===1;)v=v.firstChild;return v}).append(this)}return this},wrapInner:function(u){return this.each(d.isFunction(u)?function(g){d(this).wrapInner(u.call(this,g))}:function(){var g=d(this),v=g.contents();v.length?v.wrapAll(u):g.append(u)})},wrap:function(u){var g=d.isFunction(u);return this.each(function(v){d(this).wrapAll(g?u.call(this,v):u)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()}}),d.expr.filters.hidden=function(u){return u.offsetWidth<=0&&u.offsetHeight<=0||!O.reliableHiddenOffsets()&&(u.style&&u.style.display||d.css(u,"display"))==="none"},d.expr.filters.visible=function(u){return!d.expr.filters.hidden(u)};var Ei=/%20/g,xn=/\[\]$/,is=/\r?\n/g,qi=/^(?:submit|button|image|reset|file)$/i,Es=/^(?:input|select|textarea|keygen)/i;function qr(u,g,v,T){var x;if(d.isArray(g))d.each(g,function(I,V){v||xn.test(u)?T(u,V):qr(u+"["+(typeof V=="object"?I:"")+"]",V,v,T)});else if(v||d.type(g)!=="object")T(u,g);else for(x in g)qr(u+"["+x+"]",g[x],v,T)}d.param=function(u,g){var v,T=[],x=function(I,V){V=d.isFunction(V)?V():V??"",T[T.length]=encodeURIComponent(I)+"="+encodeURIComponent(V)};if(g===void 0&&(g=d.ajaxSettings&&d.ajaxSettings.traditional),d.isArray(u)||u.jquery&&!d.isPlainObject(u))d.each(u,function(){x(this.name,this.value)});else for(v in u)qr(v,u[v],g,x);return T.join("&").replace(Ei,"+")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var u=d.prop(this,"elements");return u?d.makeArray(u):this}).filter(function(){var u=this.type;return this.name&&!d(this).is(":disabled")&&Es.test(this.nodeName)&&!qi.test(u)&&(this.checked||!Jr.test(u))}).map(function(u,g){var v=d(this).val();return v==null?null:d.isArray(v)?d.map(v,function(T){return{name:g.name,value:T.replace(is,`\r
`)}}):{name:g.name,value:v.replace(is,`\r
`)}}).get()}}),d.ajaxSettings.xhr=i.ActiveXObject!==void 0?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Ba()||Pn()}:Ba;var ja=0,zr={},Or=d.ajaxSettings.xhr();i.ActiveXObject&&d(i).on("unload",function(){for(var u in zr)zr[u](void 0,!0)}),O.cors=!!Or&&"withCredentials"in Or,Or=O.ajax=!!Or,Or&&d.ajaxTransport(function(u){if(!u.crossDomain||O.cors){var g;return{send:function(v,T){var x,I=u.xhr(),V=++ja;if(I.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(x in u.xhrFields)I[x]=u.xhrFields[x];u.mimeType&&I.overrideMimeType&&I.overrideMimeType(u.mimeType),u.crossDomain||v["X-Requested-With"]||(v["X-Requested-With"]="XMLHttpRequest");for(x in v)v[x]!==void 0&&I.setRequestHeader(x,v[x]+"");I.send(u.hasContent&&u.data||null),g=function(z,st){var at,ut,Vt;if(g&&(st||I.readyState===4))if(delete zr[V],g=void 0,I.onreadystatechange=d.noop,st)I.readyState!==4&&I.abort();else{Vt={},at=I.status,typeof I.responseText=="string"&&(Vt.text=I.responseText);try{ut=I.statusText}catch{ut=""}at||!u.isLocal||u.crossDomain?at===1223&&(at=204):at=Vt.text?200:404}Vt&&T(at,ut,Vt,I.getAllResponseHeaders())},u.async?I.readyState===4?setTimeout(g):I.onreadystatechange=zr[V]=g:g()},abort:function(){g&&g(void 0,!0)}}}});function Ba(){try{return new i.XMLHttpRequest}catch{}}function Pn(){try{return new i.ActiveXObject("Microsoft.XMLHTTP")}catch{}}d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(u){return d.globalEval(u),u}}}),d.ajaxPrefilter("script",function(u){u.cache===void 0&&(u.cache=!1),u.crossDomain&&(u.type="GET",u.global=!1)}),d.ajaxTransport("script",function(u){if(u.crossDomain){var g,v=P.head||d("head")[0]||P.documentElement;return{send:function(T,x){g=P.createElement("script"),g.async=!0,u.scriptCharset&&(g.charset=u.scriptCharset),g.src=u.url,g.onload=g.onreadystatechange=function(I,V){(V||!g.readyState||/loaded|complete/.test(g.readyState))&&(g.onload=g.onreadystatechange=null,g.parentNode&&g.parentNode.removeChild(g),g=null,V||x(200,"success"))},v.insertBefore(g,v.firstChild)},abort:function(){g&&g.onload(void 0,!0)}}}});var Be=[],Ts=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var u=Be.pop()||d.expando+"_"+ni++;return this[u]=!0,u}}),d.ajaxPrefilter("json jsonp",function(u,g,v){var T,x,I,V=u.jsonp!==!1&&(Ts.test(u.url)?"url":typeof u.data=="string"&&!(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ts.test(u.data)&&"data");return V||u.dataTypes[0]==="jsonp"?(T=u.jsonpCallback=d.isFunction(u.jsonpCallback)?u.jsonpCallback():u.jsonpCallback,V?u[V]=u[V].replace(Ts,"$1"+T):u.jsonp!==!1&&(u.url+=(Ui.test(u.url)?"&":"?")+u.jsonp+"="+T),u.converters["script json"]=function(){return I||d.error(T+" was not called"),I[0]},u.dataTypes[0]="json",x=i[T],i[T]=function(){I=arguments},v.always(function(){i[T]=x,u[T]&&(u.jsonpCallback=g.jsonpCallback,Be.push(T)),I&&d.isFunction(x)&&x(I[0]),I=x=void 0}),"script"):void 0}),d.parseHTML=function(u,g,v){if(!u||typeof u!="string")return null;typeof g=="boolean"&&(v=g,g=!1),g=g||P;var T=jt.exec(u),x=!v&&[];return T?[g.createElement(T[1])]:(T=d.buildFragment([u],g,x),x&&x.length&&d(x).remove(),d.merge([],T.childNodes))};var As=d.fn.load;d.fn.load=function(u,g,v){if(typeof u!="string"&&As)return As.apply(this,arguments);var T,x,I,V=this,z=u.indexOf(" ");return z>=0&&(T=d.trim(u.slice(z,u.length)),u=u.slice(0,z)),d.isFunction(g)?(v=g,g=void 0):g&&typeof g=="object"&&(I="POST"),V.length>0&&d.ajax({url:u,type:I,dataType:"html",data:g}).done(function(st){x=arguments,V.html(T?d("<div>").append(d.parseHTML(st)).find(T):st)}).complete(v&&function(st,at){V.each(v,x||[st.responseText,at,st])}),this},d.expr.filters.animated=function(u){return d.grep(d.timers,function(g){return u===g.elem}).length};var qa=i.document.documentElement;function $s(u){return d.isWindow(u)?u:u.nodeType===9?u.defaultView||u.parentWindow:!1}d.offset={setOffset:function(u,g,v){var T,x,I,V,z,st,at,ut=d.css(u,"position"),Vt=d(u),St={};ut==="static"&&(u.style.position="relative"),z=Vt.offset(),I=d.css(u,"top"),st=d.css(u,"left"),at=(ut==="absolute"||ut==="fixed")&&d.inArray("auto",[I,st])>-1,at?(T=Vt.position(),V=T.top,x=T.left):(V=parseFloat(I)||0,x=parseFloat(st)||0),d.isFunction(g)&&(g=g.call(u,v,z)),g.top!=null&&(St.top=g.top-z.top+V),g.left!=null&&(St.left=g.left-z.left+x),"using"in g?g.using.call(u,St):Vt.css(St)}},d.fn.extend({offset:function(u){if(arguments.length)return u===void 0?this:this.each(function(V){d.offset.setOffset(this,u,V)});var g,v,T={top:0,left:0},x=this[0],I=x&&x.ownerDocument;if(I)return g=I.documentElement,d.contains(g,x)?(typeof x.getBoundingClientRect!==Y&&(T=x.getBoundingClientRect()),v=$s(I),{top:T.top+(v.pageYOffset||g.scrollTop)-(g.clientTop||0),left:T.left+(v.pageXOffset||g.scrollLeft)-(g.clientLeft||0)}):T},position:function(){if(this[0]){var u,g,v={top:0,left:0},T=this[0];return d.css(T,"position")==="fixed"?g=T.getBoundingClientRect():(u=this.offsetParent(),g=this.offset(),d.nodeName(u[0],"html")||(v=u.offset()),v.top+=d.css(u[0],"borderTopWidth",!0),v.left+=d.css(u[0],"borderLeftWidth",!0)),{top:g.top-v.top-d.css(T,"marginTop",!0),left:g.left-v.left-d.css(T,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var u=this.offsetParent||qa;u&&!d.nodeName(u,"html")&&d.css(u,"position")==="static";)u=u.offsetParent;return u||qa})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(u,g){var v=/Y/.test(g);d.fn[u]=function(T){return pn(this,function(x,I,V){var z=$s(x);return V===void 0?z?g in z?z[g]:z.document.documentElement[I]:x[I]:void(z?z.scrollTo(v?d(z).scrollLeft():V,v?V:d(z).scrollTop()):x[I]=V)},u,T,arguments.length,null)}}),d.each(["top","left"],function(u,g){d.cssHooks[g]=Bs(O.pixelPosition,function(v,T){return T?(T=Zn(v,g),On.test(T)?d(v).position()[g]+"px":T):void 0})}),d.each({Height:"height",Width:"width"},function(u,g){d.each({padding:"inner"+u,content:g,"":"outer"+u},function(v,T){d.fn[T]=function(x,I){var V=arguments.length&&(v||typeof x!="boolean"),z=v||(x===!0||I===!0?"margin":"border");return pn(this,function(st,at,ut){var Vt;return d.isWindow(st)?st.document.documentElement["client"+u]:st.nodeType===9?(Vt=st.documentElement,Math.max(st.body["scroll"+u],Vt["scroll"+u],st.body["offset"+u],Vt["offset"+u],Vt["client"+u])):ut===void 0?d.css(st,at,z):d.style(st,at,ut,z)},g,V?x:void 0,V,null)}})}),d.fn.size=function(){return this.length},d.fn.andSelf=d.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return d});var ya=i.jQuery,zi=i.$;return d.noConflict=function(u){return i.$===d&&(i.$=zi),u&&i.jQuery===d&&(i.jQuery=ya),d},typeof t===Y&&(i.jQuery=i.$=d),d});/*! Embedly jQuery - v3.1.1 - 2013-06-05
 * https://github.com/embedly/embedly-jquery
 * Copyright (c) 2013 Sean Creeley
 * Licensed BSD
 */(function(i){var t={key:null,endpoint:"oembed",secure:null,query:{},method:"replace",addImageStyles:!0,wrapElement:"div",className:"embed",batch:20,urlRe:null},n=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,s=function(M){return M==null},o=function(M,d){var q=[],nt=[];return i.each(M,function(dt,_t){nt.push(_t),nt.length===d&&(q.push(nt),nt=[])}),nt.length!==0&&q.push(nt),q},c=function(M){return s(M)?[]:i.isArray(M)?M:[M]},y=function(M){return i.map(M[0],function(d,q){return[i.map(M,function(nt){return nt[q]})]})},E=function(M,d,q){this.init(M,d,q)};E.prototype={init:function(M){this.urls=M,this.count=0,this.results={},this._deferred=i.Deferred()},notify:function(M){if(this.results[M.original_url]=M,this.count++,this._deferred.notify.apply(this._deferred,[M]),this.count===this.urls.length){var d=this,q=i.map(this.urls,function(nt){return d.results[nt]});this._deferred.resolve(q)}return this},state:function(){return this._deferred.state.apply(this._deferred,arguments)}},window.Keeper=E;var S=function(){};S.prototype={defaults:{},log:function(M,d){s(window.console)||s(window.console[M])||window.console[M].apply(window.console,[d])},build:function(M,d,q){q=s(q)?{}:q;var nt=q.secure;s(nt)&&(nt=window.location.protocol==="https:");var dt=(nt?"https":"http")+"://api.embed.ly/"+(M==="objectify"?"2/":"1/")+M,_t=s(q.query)?{}:q.query;return _t.key=q.key,dt+="?"+i.param(_t),dt+="&urls="+i.map(d,encodeURIComponent).join(",")},ajax:function(M,d,q){if(q=i.extend({},t,i.embedly.defaults,typeof q=="object"&&q),s(q.key))return this.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),null;d=c(d);var nt,dt=new E(d),_t=[],Ut=[];i.each(d,function(jt,Qt){nt=!1,n.test(Qt)&&(nt=!0,q.urlRe!==null&&q.urlRe.test&&!q.urlRe.test(Qt)&&(nt=!1)),nt===!0?_t.push(Qt):Ut.push({url:Qt,original_url:Qt,error:!0,invalid:!0,type:"error",error_message:'Invalid URL "'+Qt+'"'})});var Tt=o(_t,q.batch),Ft=this;return i.each(Tt,function(jt,Qt){i.ajax({url:Ft.build(M,Qt,q),dataType:"jsonp",success:function(se){i.each(y([Qt,se]),function(K,P){var H=P[1];H.original_url=P[0],H.invalid=!1,dt.notify(H)})}})}),Ut.length&&setTimeout(function(){i.each(Ut,function(jt,Qt){dt.notify(Qt)})},1),dt._deferred},oembed:function(M,d){return this.ajax("oembed",M,d)},preview:function(M,d){return this.ajax("preview",M,d)},objectify:function(M,d){return this.ajax("objectify",M,d)},extract:function(M,d){return this.ajax("extract",M,d)}};var R=function(){};R.prototype={build:function(M,d,q){q=i.extend({},i.embedly.defaults,typeof q=="object"&&q);var nt=q.secure;s(nt)&&(nt=window.location.protocol==="https:");var dt=(nt?"https":"http")+"://i.embed.ly/"+(M==="display"?"1/":"1/display/")+M,_t=s(q.query)?{}:q.query;return _t.key=q.key,dt+="?"+i.param(_t),dt+="&url="+encodeURIComponent(d)},display:function(M,d){return this.build("display",M,d)},resize:function(M,d){return this.build("resize",M,d)},fill:function(M,d){return this.build("fill",M,d)},crop:function(M,d){return this.build("crop",M,d)}};var O=function(M,d,q){this.init(M,d,q)};O.prototype={init:function(M,d,q){this.elem=M,this.$elem=i(M),this.original_url=d,this.options=q,this.loaded=i.Deferred();var nt=this;this.loaded.done(function(){nt.$elem.trigger("loaded",[nt])}),this.$elem.trigger("initialized",[this])},progress:function(M){i.extend(this,M),this.options.display?this.options.display.apply(this.elem,[this,this.elem]):this.options.endpoint==="oembed"&&this.display(),this.loaded.resolve(this)},imageStyle:function(){var M,d=[];return this.options.addImageStyles&&(this.options.query.maxwidth&&(M=isNaN(parseInt(this.options.query.maxwidth,10))?"":"px",d.push("max-width: "+this.options.query.maxwidth+M)),this.options.query.maxheight&&(M=isNaN(parseInt(this.options.query.maxheight,10))?"":"px",d.push("max-height: "+this.options.query.maxheight+M))),d.join(";")},display:function(){if(this.type==="error")return!1;this.style=this.imageStyle();var M;this.type==="photo"?(M="<a href='"+this.original_url+"' target='_blank'>",M+="<img style='"+this.style+"' src='"+this.url+"' alt='"+this.title+"' /></a>"):this.type==="video"||this.type==="rich"?M=this.html:(this.title=this.title||this.url,M=this.thumbnail_url?"<img src='"+this.thumbnail_url+"' class='thumb' style='"+this.style+"'/>":"",M+="<a href='"+this.original_url+"'>"+this.title+"</a>",M+=this.provider_name?"<a href='"+this.provider_url+"' class='provider'>"+this.provider_name+"</a>":"",M+=this.description?'<div class="description">'+this.description+"</div>":""),this.options.wrapElement&&(M="<"+this.options.wrapElement+' class="'+this.options.className+'">'+M+"</"+this.options.wrapElement+">"),this.code=M,this.options.method==="replace"?this.$elem.replaceWith(this.code):this.options.method==="after"?this.$elem.after(this.code):this.options.method==="afterParent"?this.$elem.parent().after(this.code):this.options.method==="replaceParent"&&this.$elem.parent().replaceWith(this.code),this.$elem.trigger("displayed",[this])}},i.embedly=new S,i.embedly.display=new R,i.fn.embedly=function(M){if(M===void 0||typeof M=="object"){if(M=i.extend({},t,i.embedly.defaults,typeof M=="object"&&M),s(M.key))return i.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),this.each(i.noop);var d={},q=function(_t){if(!i.data(i(_t),"embedly")){var Ut=i(_t).attr("href"),Tt=new O(_t,Ut,M);i.data(_t,"embedly",Tt),d.hasOwnProperty(Ut)?d[Ut].push(Tt):d[Ut]=[Tt]}},nt=this.each(function(){s(i(this).attr("href"))?i(this).find("a").each(function(){s(i(this).attr("href"))||q(this)}):q(this)}),dt=i.embedly.ajax(M.endpoint,i.map(d,function(_t,Ut){return Ut}),M).progress(function(_t){i.each(d[_t.original_url],function(Ut,Tt){Tt.progress(_t)})});return M.progress&&dt.progress(M.progress),M.done&&dt.done(M.done),nt}},i.expr[":"].embedly=function(M){return!s(i(M).data("embedly"))},i.fn.display=function(M,d){if(s(M)&&(M="display"),d===void 0||typeof d=="object"){if(d=i.extend({},t,i.embedly.defaults,typeof d=="object"&&d),s(d.key))return i.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly/display"),this.each(i.noop);var q=function(_t){var Ut=i(_t);if(!Ut.data("display")){var Tt=Ut.data("src")||Ut.attr("href"),Ft={original_url:Tt,url:i.embedly.display.build(M,Tt,d)};Ut.data("display",Ft),Ut.trigger("initialized",[_t]);var jt="<img src='"+Ft.url+"' />";Ut.is("a")?Ut.append(jt):Ut.replaceWith(jt)}},nt=function(_t){return!(s(i(_t).data("src"))&&s(i(_t).attr("href")))},dt=this.each(function(){nt(this)?q(this):i(this).find("img,a").each(function(){nt(this)&&q(this)})});return dt}},i.expr[":"].display=function(M){return!s(i(M).data("display"))}})(jQuery);/**
 * @license
 * lodash 3.6.0 (Custom Build) lodash.com/license | Underscore.js 1.8.2 underscorejs.org/LICENSE
 * Build: `lodash modern -o ./lodash.js`
 */(function(){function i(Ct,B){if(Ct!==B){var pe=Ct===Ct,we=B===B;if(Ct>B||!pe||typeof Ct>"u"&&we)return 1;if(Ct<B||!we||typeof B>"u"&&pe)return-1}return 0}function t(Ct,B,pe){for(var we=Ct.length,_e=pe?we:-1;pe?_e--:++_e<we;)if(B(Ct[_e],_e,Ct))return _e;return-1}function n(Ct,B,pe){if(B!==B)return d(Ct,pe);pe-=1;for(var we=Ct.length;++pe<we;)if(Ct[pe]===B)return pe;return-1}function s(Ct){return typeof Ct=="function"||!1}function o(Ct){return typeof Ct=="string"?Ct:Ct==null?"":Ct+""}function c(Ct){return Ct.charCodeAt(0)}function y(Ct,B){for(var pe=-1,we=Ct.length;++pe<we&&-1<B.indexOf(Ct.charAt(pe)););return pe}function E(Ct,B){for(var pe=Ct.length;pe--&&-1<B.indexOf(Ct.charAt(pe)););return pe}function S(Ct,B){return i(Ct.a,B.a)||Ct.b-B.b}function R(Ct){return mn[Ct]}function O(Ct){return On[Ct]}function M(Ct){return"\\"+Zn[Ct]}function d(Ct,B,pe){var we=Ct.length;for(B+=pe?0:-1;pe?B--:++B<we;){var _e=Ct[B];if(_e!==_e)return B}return-1}function q(Ct){return!!Ct&&typeof Ct=="object"}function nt(Ct){return 160>=Ct&&9<=Ct&&13>=Ct||Ct==32||Ct==160||Ct==5760||Ct==6158||8192<=Ct&&(8202>=Ct||Ct==8232||Ct==8233||Ct==8239||Ct==8287||Ct==12288||Ct==65279)}function dt(Ct,B){for(var pe=-1,we=Ct.length,_e=-1,Ur=[];++pe<we;)Ct[pe]===B&&(Ct[pe]=Lt,Ur[++_e]=pe);return Ur}function _t(Ct){for(var B=-1,pe=Ct.length;++B<pe&&nt(Ct.charCodeAt(B)););return B}function Ut(Ct){for(var B=Ct.length;B--&&nt(Ct.charCodeAt(B)););return B}function Tt(Ct){return cn[Ct]}function Ft(Ct){function B(f){if(q(f)&&!(Ue(f)||f instanceof _e)){if(f instanceof we)return f;if(Ie.call(f,"__chain__")&&Ie.call(f,"__wrapped__"))return h(f)}return new we(f)}function pe(){}function we(f,p,_){this.__wrapped__=f,this.__actions__=_||[],this.__chain__=!!p}function _e(f){this.__wrapped__=f,this.__actions__=null,this.__dir__=1,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Aa,this.__views__=null}function Ur(){this.__data__={}}function ti(f){var p=f?f.length:0;for(this.data={hash:Ws(null),set:new Jo};p--;)this.push(f[p])}function ei(f,p){var _=f.data;return(typeof p=="string"||fn(p)?_.set.has(p):_.hash[p])?0:-1}function We(f,p){var _=-1,b=f.length;for(p||(p=Q(b));++_<b;)p[_]=f[_];return p}function Qn(f,p){for(var _=-1,b=f.length;++_<b&&p(f[_],_,f)!==!1;);return f}function ts(f,p){for(var _=-1,b=f.length;++_<b;)if(!p(f[_],_,f))return!1;return!0}function go(f,p){for(var _=-1,b=f.length,D=-1,j=[];++_<b;){var tt=f[_];p(tt,_,f)&&(j[++D]=tt)}return j}function vi(f,p){for(var _=-1,b=f.length,D=Q(b);++_<b;)D[_]=p(f[_],_,f);return D}function Vi(f){for(var p=-1,_=f.length,b=Ze;++p<_;){var D=f[p];D>b&&(b=D)}return b}function zn(f,p){for(var _=-1,b=f.length;++_<b;)if(p(f[_],_,f))return!0;return!1}function ki(f,p){return typeof f>"u"?p:f}function Pa(f,p,_,b){return typeof f<"u"&&Ie.call(b,_)?f:p}function dr(f,p,_){var b=ar(p);if(!_)return vs(p,f,b);for(var D=-1,j=b.length;++D<j;){var tt=b[D],J=f[tt],lt=_(J,p[tt],tt,f,p);(lt===lt?lt===J:J!==J)&&(typeof J<"u"||tt in f)||(f[tt]=lt)}return f}function qs(f,p){for(var _=-1,b=f.length,D=Se(b),j=p.length,tt=Q(j);++_<j;){var J=p[_];D?(J=parseFloat(J),tt[_]=Yt(J,b)?f[J]:jt):tt[_]=f[J]}return tt}function vs(f,p,_){_||(_=p,p={});for(var b=-1,D=_.length;++b<D;){var j=_[b];p[j]=f[j]}return p}function es(f,p,_){var b=typeof f;return b=="function"?typeof p>"u"?f:xn(f,p,_):f==null?Fi:b=="object"?Rn(f):typeof p>"u"?ji(f+""):Hs(f+"",p)}function Li(f,p,_,b,D,j,tt){var J;if(_&&(J=D?_(f,b,D):_(f)),typeof J<"u")return J;if(!fn(f))return f;if(b=Ue(f)){if(J=mr(f),!p)return We(f,J)}else{var lt=Cn.call(f),Et=lt==Nn;if(lt!=pn&&lt!=ie&&(!Et||D))return Ge[lt]?Hi(f,lt,p):D?f:{};if(J=Un(Et?{}:f),!p)return vs(f,J,ar(f))}for(j||(j=[]),tt||(tt=[]),D=j.length;D--;)if(j[D]==f)return tt[D];return j.push(f),tt.push(J),(b?Qn:sn)(f,function(kt,Dt){J[Dt]=Li(kt,p,_,Dt,f,j,tt)}),J}function pr(f,p,_){if(typeof f!="function")throw new ne(qt);return Ta(function(){f.apply(jt,_)},p)}function jr(f,p){var _=f?f.length:0,b=[];if(!_)return b;var D=-1,j=fe(),tt=j==n,J=tt&&200<=p.length?Gl(p):null,lt=p.length;J&&(j=ei,tt=!1,p=J);t:for(;++D<_;)if(J=f[D],tt&&J===J){for(var Et=lt;Et--;)if(p[Et]===J)continue t;b.push(J)}else 0>j(p,J,0)&&b.push(J);return b}function Ho(f,p){var _=!0;return oi(f,function(b,D,j){return _=!!p(b,D,j)}),_}function Br(f,p){var _=[];return oi(f,function(b,D,j){p(b,D,j)&&_.push(b)}),_}function zs(f,p,_,b){var D;return _(f,function(j,tt,J){return p(j,tt,J)?(D=b?tt:j,!1):void 0}),D}function vn(f,p,_){for(var b=-1,D=f.length,j=-1,tt=[];++b<D;){var J=f[b];if(q(J)&&Se(J.length)&&(Ue(J)||Hr(J))){p&&(J=vn(J,p,_));var lt=-1,Et=J.length;for(tt.length+=Et;++lt<Et;)tt[++j]=J[lt]}else _||(tt[++j]=J)}return tt}function pa(f,p){Rs(f,p,Ss)}function sn(f,p){return Rs(f,p,ar)}function Ir(f,p){return Ra(f,p,ar)}function Pi(f,p){for(var _=-1,b=p.length,D=-1,j=[];++_<b;){var tt=p[_];Qi(f[tt])&&(j[++D]=tt)}return j}function ni(f,p,_,b,D,j){if(f===p)return f!==0||1/f==1/p;var tt=typeof f,J=typeof p;return tt!="function"&&tt!="object"&&J!="function"&&J!="object"||f==null||p==null?f!==f&&p!==p:Ui(f,p,ni,_,b,D,j)}function Ui(f,p,_,b,D,j,tt){var J=Ue(f),Dt=Ue(p),lt=be,Et=be;J||(lt=Cn.call(f),lt==ie?lt=pn:lt!=pn&&(J=bs(f))),Dt||(Et=Cn.call(p),Et==ie?Et=pn:Et!=pn&&bs(p));var kt=lt==pn||D&&lt==Nn,Dt=Et==pn||D&&Et==Nn;if((Et=lt==Et)&&!J&&!kt)return St(f,p,lt);if(D){if(!(Et||kt&&Dt))return!1}else{if(lt=kt&&Ie.call(f,"__wrapped__"),Dt=Dt&&Ie.call(p,"__wrapped__"),lt||Dt)return _(lt?f.value():f,Dt?p.value():p,b,D,j,tt);if(!Et)return!1}for(j||(j=[]),tt||(tt=[]),lt=j.length;lt--;)if(j[lt]==f)return tt[lt]==p;return j.push(f),tt.push(p),f=(J?Vt:Pt)(f,p,_,b,D,j,tt),j.pop(),tt.pop(),f}function an(f,p,_,b,D){for(var j=-1,tt=p.length,J=!D;++j<tt;)if(J&&b[j]?_[j]!==f[p[j]]:!(p[j]in f))return!1;for(j=-1;++j<tt;){var lt=p[j],Et=f[lt],kt=_[j];if(J&&b[j]?lt=typeof Et<"u"||lt in f:(lt=D?D(Et,kt,lt):jt,typeof lt>"u"&&(lt=ni(kt,Et,D,!0))),!lt)return!1}return!0}function ri(f,p){var _=[];return oi(f,function(b,D,j){_.push(p(b,D,j))}),_}function Rn(f){var p=ar(f),_=p.length;if(!_)return ai(!0);if(_==1){var b=p[0],D=f[b];if(ir(D))return function(J){return J!=null&&J[b]===D&&(typeof D<"u"||b in wn(J))}}for(var j=Q(_),tt=Q(_);_--;)D=f[p[_]],j[_]=D,tt[_]=ir(D);return function(J){return J!=null&&an(wn(J),p,j,tt)}}function Hs(f,p){return ir(p)?function(_){return _!=null&&_[f]===p&&(typeof p<"u"||f in wn(_))}:function(_){return _!=null&&ni(p,_[f],null,!0)}}function Ua(f,p,_,b,D){if(!fn(f))return f;var j=Se(p.length)&&(Ue(p)||bs(p));return(j?Qn:sn)(p,function(tt,J,lt){if(q(tt)){b||(b=[]),D||(D=[]);t:{tt=b;for(var Et=D,kt=tt.length,Dt=lt[J];kt--;)if(tt[kt]==Dt){f[J]=Et[kt],J=void 0;break t}kt=f[J],lt=_?_(kt,Dt,J,f,lt):jt;var Xt=typeof lt>"u";Xt&&(lt=Dt,Se(Dt.length)&&(Ue(Dt)||bs(Dt))?lt=Ue(kt)?kt:kt&&kt.length?We(kt):[]:Wa(Dt)||Hr(Dt)?lt=Hr(kt)?Qo(kt):Wa(kt)?kt:{}:Xt=!1),tt.push(Dt),Et.push(lt),Xt?f[J]=Ua(lt,Dt,_,tt,Et):(lt===lt?lt!==kt:kt===kt)&&(f[J]=lt),J=void 0}return J}Et=f[J],lt=_?_(Et,tt,J,f,lt):jt,(Dt=typeof lt>"u")&&(lt=tt),!j&&typeof lt>"u"||!Dt&&(lt===lt?lt===Et:Et!==Et)||(f[J]=lt)}),f}function ji(f){return function(p){return p==null?jt:p[f]}}function ma(f,p){return f+vo(jn()*(p-f+1))}function Bl(f,p,_,b,D){return D(f,function(j,tt,J){_=b?(b=!1,j):p(_,j,tt,J)}),_}function ns(f,p,_){var b=-1,D=f.length;for(p=p==null?0:+p||0,0>p&&(p=-p>D?0:D+p),_=typeof _>"u"||_>D?D:+_||0,0>_&&(_+=D),D=p>_?0:_-p>>>0,p>>>=0,_=Q(D);++b<D;)_[b]=f[b+p];return _}function ga(f,p){var _;return oi(f,function(b,D,j){return _=p(b,D,j),!_}),!!_}function Bi(f,p){var _=f.length;for(f.sort(p);_--;)f[_]=f[_].c;return f}function Nr(f,p,_){var b=-1,D=f.length,j=Se(D)?Q(D):[];return oi(f,function(tt){for(var J=p.length,lt=Q(J);J--;)lt[J]=tt==null?jt:tt[p[J]];j[++b]={a:lt,b,c:tt}}),Bi(j,function(tt,J){var lt;t:{lt=-1;for(var Et=tt.a,kt=J.a,Dt=Et.length,Xt=_.length;++lt<Dt;){var je=i(Et[lt],kt[lt]);if(je){lt=lt<Xt?je*(_[lt]?1:-1):je;break t}}lt=tt.b-J.b}return lt})}function rs(f,p){var _=0;return oi(f,function(b,D,j){_+=+p(b,D,j)||0}),_}function wi(f,p){var _=-1,b=fe(),D=f.length,j=b==n,tt=j&&200<=D,J=tt?Gl():null,lt=[];J?(b=ei,j=!1):(tt=!1,J=p?[]:lt);t:for(;++_<D;){var Et=f[_],kt=p?p(Et,_,f):Et;if(j&&Et===Et){for(var Dt=J.length;Dt--;)if(J[Dt]===kt)continue t;p&&J.push(kt),lt.push(Et)}else 0>b(J,kt,0)&&((p||tt)&&J.push(kt),lt.push(Et))}return lt}function Fs(f,p){for(var _=-1,b=p.length,D=Q(b);++_<b;)D[_]=f[p[_]];return D}function Dr(f,p,_,b){for(var D=f.length,j=b?D:-1;(b?j--:++j<D)&&p(f[j],j,f););return _?ns(f,b?0:j,b?j+1:D):ns(f,b?j+1:0,b?D:j)}function yo(f,p){var _=f;_ instanceof _e&&(_=_.value());for(var b=-1,D=p.length;++b<D;){var _=[_],j=p[b];Ea.apply(_,j.args),_=j.func.apply(j.thisArg,_)}return _}function ws(f,p,_){var b=0,D=f?f.length:b;if(typeof p=="number"&&p===p&&D<=Eo){for(;b<D;){var j=b+D>>>1,tt=f[j];(_?tt<=p:tt<p)?b=j+1:D=j}return D}return Ei(f,p,Fi,_)}function Ei(f,p,_,b){p=_(p);for(var D=0,j=f?f.length:0,tt=p!==p,J=typeof p>"u";D<j;){var lt=vo((D+j)/2),Et=_(f[lt]),kt=Et===Et;(tt?kt||b:J?kt&&(b||typeof Et<"u"):b?Et<=p:Et<p)?D=lt+1:j=lt}return $i(j,Sc)}function xn(f,p,_){if(typeof f!="function")return Fi;if(typeof p>"u")return f;switch(_){case 1:return function(b){return f.call(p,b)};case 3:return function(b,D,j){return f.call(p,b,D,j)};case 4:return function(b,D,j,tt){return f.call(p,b,D,j,tt)};case 5:return function(b,D,j,tt,J){return f.call(p,b,D,j,tt,J)}}return function(){return f.apply(p,arguments)}}function is(f){return Fr.call(f,0)}function qi(f,p,_){for(var b=_.length,D=-1,j=Kn(f.length-b,0),tt=-1,J=p.length,lt=Q(j+J);++tt<J;)lt[tt]=p[tt];for(;++D<b;)lt[_[D]]=f[D];for(;j--;)lt[tt++]=f[D++];return lt}function Es(f,p,_){for(var b=-1,D=_.length,j=-1,tt=Kn(f.length-D,0),J=-1,lt=p.length,Et=Q(tt+lt);++j<tt;)Et[j]=f[j];for(tt=j;++J<lt;)Et[tt+J]=p[J];for(;++b<D;)Et[tt+_[b]]=f[j++];return Et}function qr(f,p){return function(_,b,D){var j=p?p():{};if(b=$t(b,D,3),Ue(_)){D=-1;for(var tt=_.length;++D<tt;){var J=_[D];f(j,J,b(J,D,_),_)}}else oi(_,function(lt,Et,kt){f(j,lt,b(lt,Et,kt),kt)});return j}}function ja(f){return function(){var p=arguments,_=p.length,b=p[0];if(2>_||b==null)return b;var D=p[_-2],j=p[_-1],tt=p[3];for(3<_&&typeof D=="function"?(D=xn(D,j,5),_-=2):(D=2<_&&typeof j=="function"?j:null,_-=D?1:0),tt&&ae(p[1],p[2],tt)&&(D=_==3?null:D,_=2),j=0;++j<_;)(tt=p[j])&&f(b,tt,D);return b}}function zr(f,p){return function(_,b){var D=_?_.length:0;if(!Se(D))return f(_,b);for(var j=p?D:-1,tt=wn(_);(p?j--:++j<D)&&b(tt[j],j,tt)!==!1;);return _}}function Or(f){return function(p,_,b){var D=wn(p);b=b(p);for(var j=b.length,tt=f?j:-1;f?tt--:++tt<j;){var J=b[tt];if(_(D[J],J,D)===!1)break}return p}}function Ba(f,p){function _(){return(this&&this!==Cr&&this instanceof _?b:f).apply(p,arguments)}var b=Be(f);return _}function Pn(f){return function(p){var _=-1;p=zl(Yo(p));for(var b=p.length,D="";++_<b;)D=f(D,p[_],_);return D}}function Be(f){return function(){var p=ba(f.prototype),_=f.apply(p,arguments);return fn(_)?_:p}}function Ts(f){function p(_,b,D){return D&&ae(_,b,D)&&(b=null),_=ut(_,f,null,null,null,null,null,b),_.placeholder=p.placeholder,_}return p}function As(f,p){return function(_,b,D){D&&ae(_,b,D)&&(b=null);var j=$t(),tt=b==null;if(j===es&&tt||(tt=!1,b=j(b,D,3)),tt){if(b=Ue(_),b||!tr(_))return f(b?_:_r(_));b=c}return me(_,b,p)}}function qa(f,p){return function(_,b,D){return b=$t(b,D,3),Ue(_)?(b=t(_,b,p),-1<b?_[b]:jt):zs(_,b,f)}}function $s(f){return function(p,_,b){return p&&p.length?(_=$t(_,b,3),t(p,_,f)):-1}}function ya(f){return function(p,_,b){return _=$t(_,b,3),zs(p,_,f,!0)}}function zi(f){return function(){var p=arguments.length;if(!p)return function(){return arguments[0]};for(var _,b=f?p:-1,D=0,j=Q(p);f?b--:++b<p;){var tt=j[D++]=arguments[b];if(typeof tt!="function")throw new ne(qt);var J=_?"":Xa(tt);_=J=="wrapper"?new we([]):_}for(b=_?-1:p;++b<p;)tt=j[b],J=Xa(tt),_=(D=J=="wrapper"?Du(tt):null)&&Ee(D[0])?_[Xa(D[0])].apply(_,D[3]):tt.length==1&&Ee(tt)?_[J]():_.thru(tt);return function(){var lt=arguments;if(_&&lt.length==1&&Ue(lt[0]))return _.plant(lt[0]).value();for(var Et=0,lt=j[Et].apply(this,lt);++Et<p;)lt=j[Et].call(this,lt);return lt}}}function u(f,p){return function(_,b,D){return typeof b=="function"&&typeof D>"u"&&Ue(_)?f(_,b):p(_,xn(b,D,3))}}function g(f){return function(p,_,b){return(typeof _!="function"||typeof b<"u")&&(_=xn(_,b,3)),f(p,_,Ss)}}function v(f){return function(p,_,b){return(typeof _!="function"||typeof b<"u")&&(_=xn(_,b,3)),f(p,_)}}function T(f){return function(p,_,b){return(p=o(p))&&(f?p:"")+z(p,_,b)+(f?"":p)}}function x(f){var p=Fn(function(_,b){var D=dt(b,p.placeholder);return ut(_,f,null,b,D)});return p}function I(f,p){return function(_,b,D,j){var tt=3>arguments.length;return typeof b=="function"&&typeof j>"u"&&Ue(_)?f(_,b,D,tt):Bl(_,$t(b,j,4),D,tt,p)}}function V(f,p,_,b,D,j,tt,J,lt,Et){function kt(){for(var or=arguments.length,ta=or,nr=Q(or);ta--;)nr[ta]=arguments[ta];if(b&&(nr=qi(nr,b,D)),j&&(nr=Es(nr,j,tt)),on||wr){var ta=kt.placeholder,xa=dt(nr,ta),or=or-xa.length;if(or<Et){var Ca=J?We(J):null,or=Kn(Et-or,0),Pu=on?xa:null,xa=on?null:xa,oh=on?nr:null,nr=on?null:nr;return p|=on?W:rt,p&=~(on?rt:W),xs||(p&=-4),nr=[f,p,_,oh,Pu,nr,xa,Ca,lt,or],Ca=V.apply(jt,nr),Ee(f)&&Ql(Ca,nr),Ca.placeholder=ta,Ca}}if(ta=Xt?_:this,je&&(f=ta[xo]),J)for(Ca=nr.length,or=$i(J.length,Ca),Pu=We(nr);or--;)xa=J[or],nr[or]=Yt(xa,Ca)?Pu[xa]:jt;return Dt&&lt<nr.length&&(nr.length=lt),(this&&this!==Cr&&this instanceof kt?ls||Be(f):f).apply(ta,nr)}var Dt=p&F,Xt=p&se,je=p&K,on=p&H,xs=p&P,wr=p&Z,ls=!je&&Be(f),xo=f;return kt}function z(f,p,_){return f=f.length,p=+p,f<p&&Ri(p)?(p-=f,_=_==null?" ":_+"",Ys(_,Wo(p/_.length)).slice(0,p)):""}function st(f,p,_,b){function D(){for(var J=-1,lt=arguments.length,Et=-1,kt=b.length,Dt=Q(lt+kt);++Et<kt;)Dt[Et]=b[Et];for(;lt--;)Dt[Et++]=arguments[++J];return(this&&this!==Cr&&this instanceof D?tt:f).apply(j?_:this,Dt)}var j=p&se,tt=Be(f);return D}function at(f){return function(p,_,b,D){var j=$t(b);return j===es&&b==null?ws(p,_,f):Ei(p,_,j(b,D,1),f)}}function ut(f,p,_,b,D,j,tt,J){var lt=p&K;if(!lt&&typeof f!="function")throw new ne(qt);var Et=b?b.length:0;if(Et||(p&=-97,b=D=null),Et-=D?D.length:0,p&rt){var kt=b,Dt=D;b=D=null}var Xt=lt?null:Du(f);return _=[f,p,_,b,D,kt,Dt,j,tt,J],Xt&&(b=_[1],p=Xt[1],J=b|p,D=p==F&&b==H||p==F&&b==rn&&_[7].length<=Xt[8]||p==(F|rn)&&b==H,(J<F||D)&&(p&se&&(_[2]=Xt[2],J|=b&se?0:P),(b=Xt[3])&&(D=_[3],_[3]=D?qi(D,b,Xt[4]):We(b),_[4]=D?dt(_[3],Lt):We(Xt[4])),(b=Xt[5])&&(D=_[5],_[5]=D?Es(D,b,Xt[6]):We(b),_[6]=D?dt(_[5],Lt):We(Xt[6])),(b=Xt[7])&&(_[7]=We(b)),p&F&&(_[8]=_[8]==null?Xt[8]:$i(_[8],Xt[8])),_[9]==null&&(_[9]=Xt[9]),_[0]=Xt[0],_[1]=J),p=_[1],J=_[9]),_[9]=J==null?lt?0:f.length:Kn(J-Et,0)||0,(Xt?Zs:Ql)(p==se?Ba(_[0],_[2]):p!=W&&p!=(se|W)||_[4].length?V.apply(jt,_):st.apply(jt,_),_)}function Vt(f,p,_,b,D,j,tt){var J=-1,lt=f.length,Et=p.length,kt=!0;if(lt!=Et&&(!D||Et<=lt))return!1;for(;kt&&++J<lt;){var Dt=f[J],Xt=p[J],kt=jt;if(b&&(kt=D?b(Xt,Dt,J):b(Dt,Xt,J)),typeof kt>"u")if(D)for(var je=Et;je--&&(Xt=p[je],!(kt=Dt&&Dt===Xt||_(Dt,Xt,b,D,j,tt))););else kt=Dt&&Dt===Xt||_(Dt,Xt,b,D,j,tt)}return!!kt}function St(f,p,_){switch(_){case ue:case bn:return+f==+p;case $e:return f.name==p.name&&f.message==p.message;case cr:return f!=+f?p!=+p:f==0?1/f==1/p:f==+p;case Jr:case Zr:return f==p+""}return!1}function Pt(f,p,_,b,D,j,tt){var J=ar(f),lt=J.length,Et=ar(p).length;if(lt!=Et&&!D)return!1;for(var Et=D,kt=-1;++kt<lt;){var Dt=J[kt],Xt=D?Dt in p:Ie.call(p,Dt);if(Xt){var je=f[Dt],on=p[Dt],Xt=jt;b&&(Xt=D?b(on,je,Dt):b(je,on,Dt)),typeof Xt>"u"&&(Xt=je&&je===on||_(je,on,b,D,j,tt))}if(!Xt)return!1;Et||(Et=Dt=="constructor")}return!!(Et||(_=f.constructor,b=p.constructor,!(_!=b&&"constructor"in f&&"constructor"in p)||typeof _=="function"&&_ instanceof _&&typeof b=="function"&&b instanceof b))}function me(f,p,_){var b=_?Aa:Ze,D=b,j=D;return oi(f,function(tt,J,lt){J=p(tt,J,lt),((_?J<D:J>D)||J===b&&J===j)&&(D=J,j=tt)}),j}function $t(f,p,_){var b=B.callback||si,b=b===si?es:b;return _?b(f,p,_):b}function fe(f,p,_){var b=B.indexOf||ot,b=b===ot?n:b;return f?b(f,p,_):b}function mr(f){var p=f.length,_=new f.constructor(p);return p&&typeof f[0]=="string"&&Ie.call(f,"index")&&(_.index=f.index,_.input=f.input),_}function Un(f){return f=f.constructor,typeof f=="function"&&f instanceof f||(f=Kt),new f}function Hi(f,p,_){var b=f.constructor;switch(p){case ps:return is(f);case ue:case bn:return new b(+f);case la:case ua:case Rr:case Ls:case yi:case ms:case Yi:case Va:case Ps:return p=f.buffer,new b(_?is(p):p,f.byteOffset,f.length);case cr:case Zr:return new b(f);case Jr:var D=new b(f.source,fa.exec(f));D.lastIndex=f.lastIndex}return D}function Yt(f,p){return f=+f,p=p??xc,-1<f&&f%1==0&&f<p}function ae(f,p,_){if(!fn(_))return!1;var b=typeof p;return b=="number"?(b=_.length,b=Se(b)&&Yt(p,b)):b=b=="string"&&p in _,b?(p=_[p],f===f?f===p:p!==p):!1}function Ee(f){var p=Xa(f);return!!p&&f===B[p]&&p in _e.prototype}function Se(f){return typeof f=="number"&&-1<f&&f%1==0&&f<=xc}function ir(f){return f===f&&(f===0?0<1/f:!fn(f))}function Gs(f,p){f=wn(f);for(var _=-1,b=p.length,D={};++_<b;){var j=p[_];j in f&&(D[j]=f[j])}return D}function gr(f,p){var _={};return pa(f,function(b,D,j){p(b,D,j)&&(_[D]=b)}),_}function Mn(f){var p;if(!q(f)||Cn.call(f)!=pn||!(Ie.call(f,"constructor")||(p=f.constructor,typeof p!="function"||p instanceof p)))return!1;var _;return pa(f,function(b,D){_=D}),typeof _>"u"||Ie.call(f,_)}function yr(f){for(var p=Ss(f),_=p.length,b=_&&f.length,D=B.support,D=b&&Se(b)&&(Ue(f)||D.nonEnumArgs&&Hr(f)),j=-1,tt=[];++j<_;){var J=p[j];(D&&Yt(J,b)||Ie.call(f,J))&&tt.push(J)}return tt}function _r(f){return f==null?[]:Se(f.length)?fn(f)?f:Kt(f):Ai(f)}function wn(f){return fn(f)?f:Kt(f)}function h(f){return f instanceof _e?f.clone():new we(f.__wrapped__,f.__chain__,We(f.__actions__))}function A(f,p,_){return f&&f.length?((_?ae(f,p,_):p==null)&&(p=1),ns(f,0>p?0:p)):[]}function C(f,p,_){var b=f?f.length:0;return b?((_?ae(f,p,_):p==null)&&(p=1),p=b-(+p||0),ns(f,0,0>p?0:p)):[]}function L(f){return f?f[0]:jt}function ot(f,p,_){var b=f?f.length:0;if(!b)return-1;if(typeof _=="number")_=0>_?Kn(b+_,0):_;else if(_)return _=ws(f,p),f=f[_],(p===p?p===f:f!==f)?_:-1;return n(f,p,_||0)}function gt(f){var p=f?f.length:0;return p?f[p-1]:jt}function Bt(f){return A(f,1)}function te(f,p,_,b){if(!f||!f.length)return[];p!=null&&typeof p!="boolean"&&(b=_,_=ae(f,p,b)?null:p,p=!1);var D=$t();if((D!==es||_!=null)&&(_=D(_,b,3)),p&&fe()==n){p=_;var j;_=-1,b=f.length;for(var D=-1,tt=[];++_<b;){var J=f[_],lt=p?p(J,_,f):J;_&&j===lt||(j=lt,tt[++D]=J)}f=tt}else f=wi(f,_);return f}function gn(f){for(var p=-1,_=(f&&f.length&&Vi(vi(f,vr)))>>>0,b=Q(_);++p<_;)b[p]=vi(f,ji(p));return b}function Pe(f,p){var _=-1,b=f?f.length:0,D={};for(!b||p||Ue(f[0])||(p=[]);++_<b;){var j=f[_];p?D[j]=p[_]:j&&(D[j[0]]=j[1])}return D}function Hn(f){return f=B(f),f.__chain__=!0,f}function Vn(f,p,_){return p.call(_,f)}function ii(f,p,_){var b=Ue(f)?ts:Ho;return _&&ae(f,p,_)&&(p=null),(typeof p!="function"||typeof _<"u")&&(p=$t(p,_,3)),b(f,p)}function Xn(f,p,_){var b=Ue(f)?go:Br;return p=$t(p,_,3),b(f,p)}function Ti(f,p,_,b){var D=f?f.length:0;return Se(D)||(f=Ai(f),D=f.length),D?(_=typeof _!="number"||b&&ae(p,_,b)?0:0>_?Kn(D+_,0):_||0,typeof f=="string"||!Ue(f)&&tr(f)?_<D&&-1<f.indexOf(p,_):-1<fe(f,p,_)):!1}function _a(f,p,_){var b=Ue(f)?vi:ri;return p=$t(p,_,3),b(f,p)}function za(f,p,_){return(_?ae(f,p,_):p==null)?(f=_r(f),p=f.length,0<p?f[ma(0,p-1)]:jt):(f=ql(f),f.length=$i(0>p?0:+p||0,f.length),f)}function ql(f){f=_r(f);for(var p=-1,_=f.length,b=Q(_);++p<_;){var D=ma(0,p);p!=D&&(b[p]=b[D]),b[D]=f[p]}return b}function Ha(f,p,_){var b=Ue(f)?zn:ga;return _&&ae(f,p,_)&&(p=null),(typeof p!="function"||typeof _<"u")&&(p=$t(p,_,3)),b(f,p)}function Fo(f,p){var _;if(typeof p!="function"){if(typeof f!="function")throw new ne(qt);var b=f;f=p,p=b}return function(){return 0<--f?_=p.apply(this,arguments):p=null,_}}function $o(f,p,_){function b(){var ls=p-(So()-Et);0>=ls||ls>p?(J&&bi(J),ls=Xt,J=Dt=Xt=jt,ls&&(je=So(),lt=f.apply(kt,tt),Dt||J||(tt=kt=null))):Dt=Ta(b,ls)}function D(){Dt&&bi(Dt),J=Dt=Xt=jt,(wr||on!==p)&&(je=So(),lt=f.apply(kt,tt),Dt||J||(tt=kt=null))}function j(){if(tt=arguments,Et=So(),kt=this,Xt=wr&&(Dt||!xs),on===!1)var ls=xs&&!Dt;else{J||xs||(je=Et);var xo=on-(Et-je),or=0>=xo||xo>on;or?(J&&(J=bi(J)),je=Et,lt=f.apply(kt,tt)):J||(J=Ta(D,xo))}return or&&Dt?Dt=bi(Dt):Dt||p===on||(Dt=Ta(b,p)),ls&&(or=!0,lt=f.apply(kt,tt)),!or||Dt||J||(tt=kt=null),lt}var tt,J,lt,Et,kt,Dt,Xt,je=0,on=!1,wr=!0;if(typeof f!="function")throw new ne(qt);if(p=0>p?0:+p||0,_===!0)var xs=!0,wr=!1;else fn(_)&&(xs=_.leading,on="maxWait"in _&&Kn(+_.maxWait||0,p),wr="trailing"in _?_.trailing:wr);return j.cancel=function(){Dt&&bi(Dt),J&&bi(J),J=Dt=Xt=jt},j}function Qs(f,p){function _(){var b=arguments,D=_.cache,j=p?p.apply(this,b):b[0];return D.has(j)?D.get(j):(b=f.apply(this,b),D.set(j,b),b)}if(typeof f!="function"||p&&typeof p!="function")throw new ne(qt);return _.cache=new Qs.Cache,_}function Fn(f,p){if(typeof f!="function")throw new ne(qt);return p=Kn(typeof p>"u"?f.length-1:+p||0,0),function(){for(var _=arguments,b=-1,D=Kn(_.length-p,0),j=Q(D);++b<D;)j[b]=_[p+b];switch(p){case 0:return f.call(this,j);case 1:return f.call(this,_[0],j);case 2:return f.call(this,_[0],_[1],j)}for(D=Q(p+1),b=-1;++b<p;)D[b]=_[b];return D[p]=j,f.apply(this,D)}}function Hr(f){return Se(q(f)?f.length:jt)&&Cn.call(f)==ie}function Iu(f){return!!f&&f.nodeType===1&&q(f)&&-1<Cn.call(f).indexOf("Element")}function ss(f){return q(f)&&typeof f.message=="string"&&Cn.call(f)==$e}function fn(f){var p=typeof f;return p=="function"||!!f&&p=="object"}function Me(f){return f==null?!1:Cn.call(f)==Nn?Ko.test(Yn.call(f)):q(f)&&qn.test(f)}function Go(f){return typeof f=="number"||q(f)&&Cn.call(f)==cr}function En(f){return q(f)&&Cn.call(f)==Jr||!1}function tr(f){return typeof f=="string"||q(f)&&Cn.call(f)==Zr}function bs(f){return q(f)&&Se(f.length)&&!!Je[Cn.call(f)]}function Qo(f){return vs(f,Ss(f))}function Xo(f){return Pi(f,Ss(f))}function Ss(f){if(f==null)return[];fn(f)||(f=Kt(f));for(var p=f.length,p=p&&Se(p)&&(Ue(f)||Js.nonEnumArgs&&Hr(f))&&p||0,b=f.constructor,_=-1,b=typeof b=="function"&&b.prototype===f,D=Q(p),j=0<p;++_<p;)D[_]=_+"";for(var tt in f)j&&Yt(tt,p)||tt=="constructor"&&(b||!Ie.call(f,tt))||D.push(tt);return D}function Ai(f){return Fs(f,ar(f))}function Yo(f){return(f=o(f))&&f.replace(po,R).replace(ca,"")}function Xs(f){return(f=o(f))&&Ki.test(f)?f.replace(Oi,"\\$&"):f}function va(f,p,_){return _&&ae(f,p,_)&&(p=0),Mr(f,p)}function Ys(f,p){var _="";if(f=o(f),p=+p,1>p||!f||!Ri(p))return _;do p%2&&(_+=f),p=vo(p/2),f+=f;while(p);return _}function Fa(f,p,_){var b=f;return(f=o(f))?(_?ae(b,p,_):p==null)?f.slice(_t(f),Ut(f)+1):(p+="",f.slice(y(f,p),E(f,p)+1)):f}function zl(f,p,_){return _&&ae(f,p,_)&&(p=null),f=o(f),f.match(p||Mi)||[]}function si(f,p,_){return _&&ae(f,p,_)&&(p=null),q(f)?Hl(f):es(f,p)}function ai(f){return function(){return f}}function Fi(f){return f}function Hl(f){return Rn(Li(f,!0))}function U(f,p,_){if(_==null){var j=fn(p),b=j&&ar(p);((b=b&&b.length&&Pi(p,b))?b.length:j)||(b=!1,_=p,p=f,f=this)}b||(b=Pi(p,ar(p)));var D=!0,j=-1,tt=Qi(f),J=b.length;for(_===!1?D=!1:fn(_)&&("chain"in _)&&(D=_.chain);++j<J;){_=b[j];var lt=p[_];f[_]=lt,tt&&(f.prototype[_]=(function(Et){return function(){var kt=this.__chain__;if(D||kt){var Dt=f(this.__wrapped__);return(Dt.__actions__=We(this.__actions__)).push({func:Et,args:arguments,thisArg:f}),Dt.__chain__=kt,Dt}return kt=[this.value()],Ea.apply(kt,arguments),Et.apply(f,kt)}})(lt))}return f}function X(){}Ct=Ct?hr.defaults(Cr.Object(),Ct,hr.pick(Cr,_i)):Cr;var Q=Ct.Array,vt=Ct.Date,ft=Ct.Error,xt=Ct.Function,bt=Ct.Math,Ht=Ct.Number,Kt=Ct.Object,ge=Ct.RegExp,ee=Ct.String,ne=Ct.TypeError,Ve=Q.prototype,he=Kt.prototype,Qe=ee.prototype,$n=($n=Ct.window)&&$n.document,Yn=xt.prototype.toString,vr=ji("length"),Ie=he.hasOwnProperty,as=0,Cn=he.toString,Nu=Ct._,Ko=ge("^"+Xs(Cn).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_o=Me(_o=Ct.ArrayBuffer)&&_o,Fr=Me(Fr=_o&&new _o(0).slice)&&Fr,Wo=bt.ceil,bi=Ct.clearTimeout,vo=bt.floor,wa=Me(wa=Kt.getPrototypeOf)&&wa,Ea=Ve.push,bc=he.propertyIsEnumerable,Jo=Me(Jo=Ct.Set)&&Jo,Ta=Ct.setTimeout,$a=Ve.splice,Ks=Me(Ks=Ct.Uint8Array)&&Ks,wo=Me(wo=Ct.WeakMap)&&wo,$r=(function(){try{var f=Me(f=Ct.Float64Array)&&f,p=new f(new _o(10),0,1)&&f}catch{}return p})(),Si=Me(Si=Q.isArray)&&Si,Ws=Me(Ws=Kt.create)&&Ws,Ri=Ct.isFinite,os=Me(os=Kt.keys)&&os,Kn=bt.max,$i=bt.min,Fl=Me(Fl=vt.now)&&Fl,$l=Me($l=Ht.isFinite)&&$l,Mr=Ct.parseInt,jn=bt.random,Ze=Ht.NEGATIVE_INFINITY,Aa=Ht.POSITIVE_INFINITY,Gi=bt.pow(2,32)-1,Sc=Gi-1,Eo=Gi>>>1,Rc=$r?$r.BYTES_PER_ELEMENT:0,xc=bt.pow(2,53)-1,Ga=wo&&new wo,Qa={},Js=B.support={};(function(f){Js.funcDecomp=/\bthis\b/.test(function(){return this}),Js.funcNames=typeof xt.name=="string";try{Js.dom=$n.createDocumentFragment().nodeType===11}catch{Js.dom=!1}try{Js.nonEnumArgs=!bc.call(arguments,1)}catch{Js.nonEnumArgs=!0}})(0,0),B.templateSettings={escape:jl,evaluate:Us,interpolate:js,variable:"",imports:{_:B}};var ba=(function(){function f(){}return function(p){if(fn(p)){f.prototype=p;var _=new f;f.prototype=null}return _||Ct.Object()}})(),oi=zr(sn),Sa=zr(Ir,!0),Rs=Or(),Ra=Or(!0),Zs=Ga?function(f,p){return Ga.set(f,p),f}:Fi;Fr||(is=_o&&Ks?function(f){var p=f.byteLength,_=$r?vo(p/Rc):0,b=_*Rc,D=new _o(p);if(_){var j=new $r(D,0,_);j.set(new $r(f,0,_))}return p!=b&&(j=new Ks(D,b),j.set(new Ks(f,b))),D}:ai(null));var Gl=Ws&&Jo?function(f){return new ti(f)}:ai(null),Du=Ga?function(f){return Ga.get(f)}:X,Xa=(function(){return Js.funcNames?ai.name=="constant"?ji("name"):function(f){for(var p=f.name,_=Qa[p],b=_?_.length:0;b--;){var D=_[b],j=D.func;if(j==null||j==f)return D.name}return p}:ai("")})(),Ql=(function(){var f=0,p=0;return function(_,b){var D=So(),j=oe-(D-p);if(p=D,0<j){if(++f>=zt)return _}else f=0;return Zs(_,b)}})(),To=Fn(function(f,p){return Ue(f)||Hr(f)?jr(f,vn(p,!1,!0)):[]}),Gr=$s(),Ou=$s(!0),Wf=Fn(function(f,p){f||(f=[]),p=vn(p);var _=p.length,b=qs(f,p);for(p.sort(i);_--;){var D=parseFloat(p[_]);if(D!=j&&Yt(D)){var j=D;$a.call(f,D,1)}}return b}),hp=at(),dp=at(!0),pp=Fn(function(f){return wi(vn(f,!1,!0))}),sr=Fn(function(f,p){return Ue(f)||Hr(f)?jr(f,p):[]}),Cc=Fn(gn),Xl=Fn(function(f,p){return Se(f?f.length:0)&&(f=_r(f)),qs(f,vn(p))}),Yl=qr(function(f,p,_){Ie.call(f,_)?++f[_]:f[_]=1}),Kl=qa(oi),Zo=qa(Sa,!0),Ao=u(Qn,oi),Jf=u(function(f,p){for(var _=f.length;_--&&p(f[_],_,f)!==!1;);return f},Sa),Zf=qr(function(f,p,_){Ie.call(f,_)?f[_].push(p):f[_]=[p]}),mp=qr(function(f,p,_){f[_]=p}),th=Fn(function(f,p,_){var b=-1,D=typeof p=="function",j=f?f.length:0,tt=Se(j)?Q(j):[];return oi(f,function(J){var lt=D?p:J!=null&&J[p];tt[++b]=lt?lt.apply(J,_):jt}),tt}),bo=qr(function(f,p,_){f[_?0:1].push(p)},function(){return[[],[]]}),Wl=I(function(f,p,_,b){var D=-1,j=f.length;for(b&&j&&(_=f[++D]);++D<j;)_=p(_,f[D],D,f);return _},oi),Jl=I(function(f,p,_,b){var D=f.length;for(b&&D&&(_=f[--D]);D--;)_=p(_,f[D],D,f);return _},Sa),So=Fl||function(){return new vt().getTime()},tl=Fn(function(f,p,_){var D=se;if(_.length)var b=dt(_,tl.placeholder),D=D|W;return ut(f,D,p,_,b)}),eh=Fn(function(f,p){p=p.length?vn(p):Xo(f);for(var _=-1,b=p.length;++_<b;){var D=p[_];f[D]=ut(f[D],se,f)}return f}),Zl=Fn(function(f,p,_){var D=se|K;if(_.length)var b=dt(_,Zl.placeholder),D=D|W;return ut(p,D,f,_,b)}),Ic=Ts(H),nh=Ts(Z),Mu=Fn(function(f,p){return pr(f,1,p)}),rh=Fn(function(f,p,_){return pr(f,p,_)}),tu=zi(),Vu=zi(!0),ih=x(W),Ya=x(rt),Nc=Fn(function(f,p){return ut(f,rn,null,null,null,vn(p))}),Ue=Si||function(f){return q(f)&&Se(f.length)&&Cn.call(f)==be};Js.dom||(Iu=function(f){return!!f&&f.nodeType===1&&q(f)&&!Wa(f)});var Ka=$l||function(f){return typeof f=="number"&&Ri(f)},Qi=s(/x/)||Ks&&!s(Ks)?function(f){return Cn.call(f)==Nn}:s,Wa=wa?function(f){if(!f||Cn.call(f)!=pn)return!1;var p=f.valueOf,_=Me(p)&&(_=wa(p))&&wa(_);return _?f==_||wa(f)==_:Mn(f)}:Mn,eu=ja(dr),Dc=Fn(function(f){var p=f[0];return p==null?p:(f.push(ki),eu.apply(jt,f))}),nu=ya(sn),ru=ya(Ir),sh=g(Rs),ah=g(Ra),el=v(sn),ku=v(Ir),ar=os?function(f){if(f)var p=f.constructor,_=f.length;return typeof p=="function"&&p.prototype===f||typeof f!="function"&&_&&Se(_)?yr(f):fn(f)?os(f):[]}:yr,Oc=ja(Ua),Mc=Fn(function(f,p){if(f==null)return{};if(typeof p[0]!="function")return p=vi(vn(p),ee),Gs(f,jr(Ss(f),p));var _=xn(p[0],p[1],3);return gr(f,function(b,D,j){return!_(b,D,j)})}),Ja=Fn(function(f,p){return f==null?{}:typeof p[0]=="function"?gr(f,xn(p[0],p[1],3)):Gs(f,vn(p))}),ke=Pn(function(f,p,_){return p=p.toLowerCase(),f+(_?p.charAt(0).toUpperCase()+p.slice(1):p)}),hn=Pn(function(f,p,_){return f+(_?"-":"")+p.toLowerCase()}),er=T(),Lu=T(!0);Mr(mo+"08")!=8&&(va=function(f,p,_){return(_?ae(f,p,_):p==null)?p=0:p&&(p=+p),f=Fa(f),Mr(f,p||(gs.test(f)?16:10))});var nl=Pn(function(f,p,_){return f+(_?"_":"")+p.toLowerCase()}),Ro=Pn(function(f,p,_){return f+(_?" ":"")+(p.charAt(0).toUpperCase()+p.slice(1))}),iu=Fn(function(f,p){try{return f.apply(jt,p)}catch(_){return ss(_)?_:new ft(_)}}),su=As(Vi),rl=As(function(f){for(var p=-1,_=f.length,b=Aa;++p<_;){var D=f[p];D<b&&(b=D)}return b},!0);return B.prototype=pe.prototype,we.prototype=ba(pe.prototype),we.prototype.constructor=we,_e.prototype=ba(pe.prototype),_e.prototype.constructor=_e,Ur.prototype.delete=function(f){return this.has(f)&&delete this.__data__[f]},Ur.prototype.get=function(f){return f=="__proto__"?jt:this.__data__[f]},Ur.prototype.has=function(f){return f!="__proto__"&&Ie.call(this.__data__,f)},Ur.prototype.set=function(f,p){return f!="__proto__"&&(this.__data__[f]=p),this},ti.prototype.push=function(f){var p=this.data;typeof f=="string"||fn(f)?p.set.add(f):p.hash[f]=!0},Qs.Cache=Ur,B.after=function(f,p){if(typeof p!="function"){if(typeof f!="function")throw new ne(qt);var _=f;f=p,p=_}return f=Ri(f=+f)?f:0,function(){return 1>--f?p.apply(this,arguments):void 0}},B.ary=function(f,p,_){return _&&ae(f,p,_)&&(p=null),p=f&&p==null?f.length:Kn(+p||0,0),ut(f,F,null,null,null,null,p)},B.assign=eu,B.at=Xl,B.before=Fo,B.bind=tl,B.bindAll=eh,B.bindKey=Zl,B.callback=si,B.chain=Hn,B.chunk=function(f,p,_){p=(_?ae(f,p,_):p==null)?1:Kn(+p||1,1),_=0;for(var b=f?f.length:0,D=-1,j=Q(Wo(b/p));_<b;)j[++D]=ns(f,_,_+=p);return j},B.compact=function(f){for(var p=-1,_=f?f.length:0,b=-1,D=[];++p<_;){var j=f[p];j&&(D[++b]=j)}return D},B.constant=ai,B.countBy=Yl,B.create=function(f,p,_){var b=ba(f);return _&&ae(f,p,_)&&(p=null),p?vs(p,b,ar(p)):b},B.curry=Ic,B.curryRight=nh,B.debounce=$o,B.defaults=Dc,B.defer=Mu,B.delay=rh,B.difference=To,B.drop=A,B.dropRight=C,B.dropRightWhile=function(f,p,_){return f&&f.length?Dr(f,$t(p,_,3),!0,!0):[]},B.dropWhile=function(f,p,_){return f&&f.length?Dr(f,$t(p,_,3),!0):[]},B.fill=function(f,p,_,b){var D=f?f.length:0;if(!D)return[];for(_&&typeof _!="number"&&ae(f,p,_)&&(_=0,b=D),D=f.length,_=_==null?0:+_||0,0>_&&(_=-_>D?0:D+_),b=typeof b>"u"||b>D?D:+b||0,0>b&&(b+=D),D=_>b?0:b>>>0,_>>>=0;_<D;)f[_++]=p;return f},B.filter=Xn,B.flatten=function(f,p,_){var b=f?f.length:0;return _&&ae(f,p,_)&&(p=!1),b?vn(f,p):[]},B.flattenDeep=function(f){return f&&f.length?vn(f,!0):[]},B.flow=tu,B.flowRight=Vu,B.forEach=Ao,B.forEachRight=Jf,B.forIn=sh,B.forInRight=ah,B.forOwn=el,B.forOwnRight=ku,B.functions=Xo,B.groupBy=Zf,B.indexBy=mp,B.initial=function(f){return C(f,1)},B.intersection=function(){for(var f=[],p=-1,j=arguments.length,_=[],b=fe(),tt=b==n;++p<j;){var D=arguments[p];(Ue(D)||Hr(D))&&(f.push(D),_.push(tt&&120<=D.length?Gl(p&&D):null))}var j=f.length,tt=f[0],J=-1,lt=tt?tt.length:0,Et=[],kt=_[0];t:for(;++J<lt;)if(D=tt[J],0>(kt?ei(kt,D):b(Et,D,0))){for(p=j;--p;){var Dt=_[p];if(0>(Dt?ei(Dt,D):b(f[p],D,0)))continue t}kt&&kt.push(D),Et.push(D)}return Et},B.invert=function(f,p,_){_&&ae(f,p,_)&&(p=null),_=-1;for(var b=ar(f),D=b.length,j={};++_<D;){var tt=b[_],J=f[tt];p?Ie.call(j,J)?j[J].push(tt):j[J]=[tt]:j[J]=tt}return j},B.invoke=th,B.keys=ar,B.keysIn=Ss,B.map=_a,B.mapValues=function(f,p,_){var b={};return p=$t(p,_,3),sn(f,function(D,j,tt){b[j]=p(D,j,tt)}),b},B.matches=Hl,B.matchesProperty=function(f,p){return Hs(f+"",Li(p,!0))},B.memoize=Qs,B.merge=Oc,B.mixin=U,B.negate=function(f){if(typeof f!="function")throw new ne(qt);return function(){return!f.apply(this,arguments)}},B.omit=Mc,B.once=function(f){return Fo(f,2)},B.pairs=function(f){for(var p=-1,_=ar(f),b=_.length,D=Q(b);++p<b;){var j=_[p];D[p]=[j,f[j]]}return D},B.partial=ih,B.partialRight=Ya,B.partition=bo,B.pick=Ja,B.pluck=function(f,p){return _a(f,ji(p))},B.property=function(f){return ji(f+"")},B.propertyOf=function(f){return function(p){return f==null?jt:f[p]}},B.pull=function(){var f=arguments,p=f[0];if(!p||!p.length)return p;for(var _=0,b=fe(),D=f.length;++_<D;)for(var j=0,tt=f[_];-1<(j=b(p,tt,j));)$a.call(p,j,1);return p},B.pullAt=Wf,B.range=function(f,p,_){_&&ae(f,p,_)&&(p=_=null),f=+f||0,_=_==null?1:+_||0,p==null?(p=f,f=0):p=+p||0;var b=-1;p=Kn(Wo((p-f)/(_||1)),0);for(var D=Q(p);++b<p;)D[b]=f,f+=_;return D},B.rearg=Nc,B.reject=function(f,p,_){var b=Ue(f)?go:Br;return p=$t(p,_,3),b(f,function(D,j,tt){return!p(D,j,tt)})},B.remove=function(f,p,_){var b=-1,D=f?f.length:0,j=[];for(p=$t(p,_,3);++b<D;)_=f[b],p(_,b,f)&&(j.push(_),$a.call(f,b--,1),D--);return j},B.rest=Bt,B.restParam=Fn,B.shuffle=ql,B.slice=function(f,p,_){var b=f?f.length:0;return b?(_&&typeof _!="number"&&ae(f,p,_)&&(p=0,_=b),ns(f,p,_)):[]},B.sortBy=function(f,p,_){if(f==null)return[];var b=-1,D=f.length,j=Se(D)?Q(D):[];return _&&ae(f,p,_)&&(p=null),p=$t(p,_,3),oi(f,function(tt,J,lt){j[++b]={a:p(tt,J,lt),b,c:tt}}),Bi(j,S)},B.sortByAll=function(){var f=arguments,p=f[0],_=f[3],b=0,D=f.length-1;if(p==null)return[];for(var j=Q(D);b<D;)j[b]=f[++b];return _&&ae(f[1],f[2],_)&&(j=f[1]),Nr(p,vn(j),[])},B.sortByOrder=function(f,p,_,b){return f==null?[]:(b&&ae(p,_,b)&&(_=null),Ue(p)||(p=p==null?[]:[p]),Ue(_)||(_=_==null?[]:[_]),Nr(f,p,_))},B.spread=function(f){if(typeof f!="function")throw new ne(qt);return function(p){return f.apply(this,p)}},B.take=function(f,p,_){return f&&f.length?((_?ae(f,p,_):p==null)&&(p=1),ns(f,0,0>p?0:p)):[]},B.takeRight=function(f,p,_){var b=f?f.length:0;return b?((_?ae(f,p,_):p==null)&&(p=1),p=b-(+p||0),ns(f,0>p?0:p)):[]},B.takeRightWhile=function(f,p,_){return f&&f.length?Dr(f,$t(p,_,3),!1,!0):[]},B.takeWhile=function(f,p,_){return f&&f.length?Dr(f,$t(p,_,3)):[]},B.tap=function(f,p,_){return p.call(_,f),f},B.throttle=function(f,p,_){var b=!0,D=!0;if(typeof f!="function")throw new ne(qt);return _===!1?b=!1:fn(_)&&(b="leading"in _?!!_.leading:b,D="trailing"in _?!!_.trailing:D),Wi.leading=b,Wi.maxWait=+p,Wi.trailing=D,$o(f,p,Wi)},B.thru=Vn,B.times=function(f,p,_){if(f=+f,1>f||!Ri(f))return[];var b=-1,D=Q($i(f,Gi));for(p=xn(p,_,1);++b<f;)b<Gi?D[b]=p(b):p(b);return D},B.toArray=function(f){var p=f?f.length:0;return Se(p)?p?We(f):[]:Ai(f)},B.toPlainObject=Qo,B.transform=function(f,p,_,b){var D=Ue(f)||bs(f);return p=$t(p,b,4),_==null&&(D||fn(f)?(b=f.constructor,_=D?Ue(f)?new b:[]:ba(Qi(b)&&b.prototype)):_={}),(D?Qn:sn)(f,function(j,tt,J){return p(_,j,tt,J)}),_},B.union=pp,B.uniq=te,B.unzip=gn,B.values=Ai,B.valuesIn=function(f){return Fs(f,Ss(f))},B.where=function(f,p){return Xn(f,Rn(p))},B.without=sr,B.wrap=function(f,p){return p=p??Fi,ut(p,W,null,[f],[])},B.xor=function(){for(var f=-1,p=arguments.length;++f<p;){var _=arguments[f];if(Ue(_)||Hr(_))var b=b?jr(b,_).concat(jr(_,b)):_}return b?wi(b):[]},B.zip=Cc,B.zipObject=Pe,B.backflow=Vu,B.collect=_a,B.compose=Vu,B.each=Ao,B.eachRight=Jf,B.extend=eu,B.iteratee=si,B.methods=Xo,B.object=Pe,B.select=Xn,B.tail=Bt,B.unique=te,U(B,B),B.add=function(f,p){return f+p},B.attempt=iu,B.camelCase=ke,B.capitalize=function(f){return(f=o(f))&&f.charAt(0).toUpperCase()+f.slice(1)},B.clone=function(f,p,_,b){return p&&typeof p!="boolean"&&ae(f,p,_)?p=!1:typeof p=="function"&&(b=_,_=p,p=!1),_=typeof _=="function"&&xn(_,b,1),Li(f,p,_)},B.cloneDeep=function(f,p,_){return p=typeof p=="function"&&xn(p,_,1),Li(f,!0,p)},B.deburr=Yo,B.endsWith=function(f,p,_){f=o(f),p+="";var b=f.length;return _=typeof _>"u"?b:$i(0>_?0:+_||0,b),_-=p.length,0<=_&&f.indexOf(p,_)==_},B.escape=function(f){return(f=o(f))&&zo.test(f)?f.replace(xr,O):f},B.escapeRegExp=Xs,B.every=ii,B.find=Kl,B.findIndex=Gr,B.findKey=nu,B.findLast=Zo,B.findLastIndex=Ou,B.findLastKey=ru,B.findWhere=function(f,p){return Kl(f,Rn(p))},B.first=L,B.has=function(f,p){return f?Ie.call(f,p):!1},B.identity=Fi,B.includes=Ti,B.indexOf=ot,B.inRange=function(f,p,_){return p=+p||0,typeof _>"u"?(_=p,p=0):_=+_||0,f>=p&&f<_},B.isArguments=Hr,B.isArray=Ue,B.isBoolean=function(f){return f===!0||f===!1||q(f)&&Cn.call(f)==ue},B.isDate=function(f){return q(f)&&Cn.call(f)==bn},B.isElement=Iu,B.isEmpty=function(f){if(f==null)return!0;var p=f.length;return Se(p)&&(Ue(f)||tr(f)||Hr(f)||q(f)&&Qi(f.splice))?!p:!ar(f).length},B.isEqual=function(f,p,_,b){return _=typeof _=="function"&&xn(_,b,3),!_&&ir(f)&&ir(p)?f===p:(b=_?_(f,p):jt,typeof b>"u"?ni(f,p,_):!!b)},B.isError=ss,B.isFinite=Ka,B.isFunction=Qi,B.isMatch=function(f,p,_,b){var D=ar(p),j=D.length;if(!j)return!0;if(f==null)return!1;if(_=typeof _=="function"&&xn(_,b,3),!_&&j==1){var tt=D[0];if(b=p[tt],ir(b))return b===f[tt]&&(typeof b<"u"||tt in wn(f))}for(var tt=Q(j),J=Q(j);j--;)b=tt[j]=p[D[j]],J[j]=ir(b);return an(wn(f),D,tt,J,_)},B.isNaN=function(f){return Go(f)&&f!=+f},B.isNative=Me,B.isNull=function(f){return f===null},B.isNumber=Go,B.isObject=fn,B.isPlainObject=Wa,B.isRegExp=En,B.isString=tr,B.isTypedArray=bs,B.isUndefined=function(f){return typeof f>"u"},B.kebabCase=hn,B.last=gt,B.lastIndexOf=function(f,p,_){var b=f?f.length:0;if(!b)return-1;var D=b;if(typeof _=="number")D=(0>_?Kn(b+_,0):$i(_||0,b-1))+1;else if(_)return D=ws(f,p,!0)-1,f=f[D],(p===p?p===f:f!==f)?D:-1;if(p!==p)return d(f,D,!0);for(;D--;)if(f[D]===p)return D;return-1},B.max=su,B.min=rl,B.noConflict=function(){return Ct._=Nu,this},B.noop=X,B.now=So,B.pad=function(f,p,_){f=o(f),p=+p;var b=f.length;return b<p&&Ri(p)?(b=(p-b)/2,p=vo(b),b=Wo(b),_=z("",b,_),_.slice(0,p)+f+_):f},B.padLeft=er,B.padRight=Lu,B.parseInt=va,B.random=function(f,p,_){_&&ae(f,p,_)&&(p=_=null);var b=f==null,D=p==null;return _==null&&(D&&typeof f=="boolean"?(_=f,f=1):typeof p=="boolean"&&(_=p,D=!0)),b&&D&&(p=1,D=!1),f=+f||0,D?(p=f,f=0):p=+p||0,_||f%1||p%1?(_=jn(),$i(f+_*(p-f+parseFloat("1e-"+((_+"").length-1))),p)):ma(f,p)},B.reduce=Wl,B.reduceRight=Jl,B.repeat=Ys,B.result=function(f,p,_){return p=f==null?jt:f[p],typeof p>"u"&&(p=_),Qi(p)?p.call(f):p},B.runInContext=Ft,B.size=function(f){var p=f?f.length:0;return Se(p)?p:ar(f).length},B.snakeCase=nl,B.some=Ha,B.sortedIndex=hp,B.sortedLastIndex=dp,B.startCase=Ro,B.startsWith=function(f,p,_){return f=o(f),_=_==null?0:$i(0>_?0:+_||0,f.length),f.lastIndexOf(p,_)==_},B.sum=function(f,p,_){_&&ae(f,p,_)&&(p=null);var b=$t(),D=p==null;if(b===es&&D||(D=!1,p=b(p,_,3)),D){for(f=Ue(f)?f:_r(f),p=f.length,_=0;p--;)_+=+f[p]||0;f=_}else f=rs(f,p);return f},B.template=function(f,p,_){var b=B.templateSettings;_&&ae(f,p,_)&&(p=_=null),f=o(f),p=dr(dr({},_||p),b,Pa),_=dr(dr({},p.imports),b.imports,Pa);var D,j,tt=ar(_),J=Fs(_,tt),lt=0;_=p.interpolate||ys;var Et="__p+='";_=ge((p.escape||ys).source+"|"+_.source+"|"+(_===js?Dn:ys).source+"|"+(p.evaluate||ys).source+"|$","g");var kt="sourceURL"in p?"//# sourceURL="+p.sourceURL+`
`:"";if(f.replace(_,function(Dt,Xt,je,on,xs,wr){return je||(je=on),Et+=f.slice(lt,wr).replace(ha,M),Xt&&(D=!0,Et+="'+__e("+Xt+")+'"),xs&&(j=!0,Et+="';"+xs+`;
__p+='`),je&&(Et+="'+((__t=("+je+"))==null?'':__t)+'"),lt=wr+Dt.length,Dt}),Et+="';",(p=p.variable)||(Et="with(obj){"+Et+"}"),Et=(j?Et.replace(ka,""):Et).replace(La,"$1").replace(Sn,"$1;"),Et="function("+(p||"obj")+"){"+(p?"":"obj||(obj={});")+"var __t,__p=''"+(D?",__e=_.escape":"")+(j?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+Et+"return __p}",p=iu(function(){return xt(tt,kt+"return "+Et).apply(jt,J)}),p.source=Et,ss(p))throw p;return p},B.trim=Fa,B.trimLeft=function(f,p,_){var b=f;return(f=o(f))?f.slice((_?ae(b,p,_):p==null)?_t(f):y(f,p+"")):f},B.trimRight=function(f,p,_){var b=f;return(f=o(f))?(_?ae(b,p,_):p==null)?f.slice(0,Ut(f)+1):f.slice(0,E(f,p+"")+1):f},B.trunc=function(f,p,_){_&&ae(f,p,_)&&(p=null);var b=un;if(_=wt,p!=null)if(fn(p)){var D="separator"in p?p.separator:D,b="length"in p?+p.length||0:b;_="omission"in p?o(p.omission):_}else b=+p||0;if(f=o(f),b>=f.length)return f;if(b-=_.length,1>b)return _;if(p=f.slice(0,b),D==null)return p+_;if(En(D)){if(f.slice(b).search(D)){var j,tt=f.slice(0,b);for(D.global||(D=ge(D.source,(fa.exec(D)||"")+"g")),D.lastIndex=0;f=D.exec(tt);)j=f.index;p=p.slice(0,j??b)}}else f.indexOf(D,b)!=b&&(D=p.lastIndexOf(D),-1<D&&(p=p.slice(0,D)));return p+_},B.unescape=function(f){return(f=o(f))&&fr.test(f)?f.replace(Ke,Tt):f},B.uniqueId=function(f){var p=++as;return o(f)+p},B.words=zl,B.all=ii,B.any=Ha,B.contains=Ti,B.detect=Kl,B.foldl=Wl,B.foldr=Jl,B.head=L,B.include=Ti,B.inject=Wl,U(B,(function(){var f={};return sn(B,function(p,_){B.prototype[_]||(f[_]=p)}),f})(),!1),B.sample=za,B.prototype.sample=function(f){return this.__chain__||f!=null?this.thru(function(p){return za(p,f)}):za(this.value())},B.VERSION=Qt,Qn("bind bindKey curry curryRight partial partialRight".split(" "),function(f){B[f].placeholder=B}),Qn(["dropWhile","filter","map","takeWhile"],function(f,p){var _=p!=Mt,b=p==Oe;_e.prototype[f]=function(D,j){var tt=this.__filtered__,J=tt&&b?new _e(this):this.clone();return(J.__iteratees__||(J.__iteratees__=[])).push({done:!1,count:0,index:0,iteratee:$t(D,j,1),limit:-1,type:p}),J.__filtered__=tt||_,J}}),Qn(["drop","take"],function(f,p){var _=f+"While";_e.prototype[f]=function(b){var D=this.__filtered__,j=D&&!p?this.dropWhile():this.clone();return b=b==null?1:Kn(vo(b)||0,0),D?p?j.__takeCount__=$i(j.__takeCount__,b):gt(j.__iteratees__).limit=b:(j.__views__||(j.__views__=[])).push({size:b,type:f+(0>j.__dir__?"Right":"")}),j},_e.prototype[f+"Right"]=function(b){return this.reverse()[f](b).reverse()},_e.prototype[f+"RightWhile"]=function(b,D){return this.reverse()[_](b,D).reverse()}}),Qn(["first","last"],function(f,p){var _="take"+(p?"Right":"");_e.prototype[f]=function(){return this[_](1).value()[0]}}),Qn(["initial","rest"],function(f,p){var _="drop"+(p?"":"Right");_e.prototype[f]=function(){return this[_](1)}}),Qn(["pluck","where"],function(f,p){var _=p?"filter":"map",b=p?Rn:ji;_e.prototype[f]=function(D){return this[_](b(D))}}),_e.prototype.compact=function(){return this.filter(Fi)},_e.prototype.reject=function(f,p){return f=$t(f,p,1),this.filter(function(_){return!f(_)})},_e.prototype.slice=function(f,p){f=f==null?0:+f||0;var _=0>f?this.takeRight(-f):this.drop(f);return typeof p<"u"&&(p=+p||0,_=0>p?_.dropRight(-p):_.take(p-f)),_},_e.prototype.toArray=function(){return this.drop(0)},sn(_e.prototype,function(f,p){var _=B[p];if(_){var b=/^(?:filter|map|reject)|While$/.test(p),D=/^(?:first|last)$/.test(p);B.prototype[p]=function(){function j(je){return je=[je],Ea.apply(je,tt),_.apply(B,je)}var tt=arguments,J=this.__chain__,lt=this.__wrapped__,Et=!!this.__actions__.length,kt=lt instanceof _e,Dt=tt[0],Xt=kt||Ue(lt);return Xt&&b&&typeof Dt=="function"&&Dt.length!=1&&(kt=Xt=!1),kt=kt&&!Et,D&&!J?kt?f.call(lt):_.call(B,this.value()):Xt?(lt=f.apply(kt?lt:new _e(this),tt),D||!Et&&!lt.__actions__||(lt.__actions__||(lt.__actions__=[])).push({func:Vn,args:[j],thisArg:B}),new we(lt,J)):this.thru(j)}}}),Qn("concat join pop push replace shift sort splice split unshift".split(" "),function(f){var p=(/^(?:replace|split)$/.test(f)?Qe:Ve)[f],_=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",b=/^(?:join|pop|replace|shift)$/.test(f);B.prototype[f]=function(){var D=arguments;return b&&!this.__chain__?p.apply(this.value(),D):this[_](function(j){return p.apply(j,D)})}}),sn(_e.prototype,function(f,p){var _=B[p];if(_){var b=_.name;(Qa[b]||(Qa[b]=[])).push({name:p,func:_})}}),Qa[V(null,K).name]=[{name:"wrapper",func:null}],_e.prototype.clone=function(){var f=this.__actions__,p=this.__iteratees__,_=this.__views__,b=new _e(this.__wrapped__);return b.__actions__=f?We(f):null,b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=p?We(p):null,b.__takeCount__=this.__takeCount__,b.__views__=_?We(_):null,b},_e.prototype.reverse=function(){if(this.__filtered__){var f=new _e(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f},_e.prototype.value=function(){var f=this.__wrapped__.value();if(!Ue(f))return yo(f,this.__actions__);var p,_=this.__dir__,b=0>_;p=f.length;for(var D=this.__views__,j=0,tt=-1,J=D?D.length:0;++tt<J;){var lt=D[tt],Et=lt.size;switch(lt.type){case"drop":j+=Et;break;case"dropRight":p-=Et;break;case"take":p=$i(p,j+Et);break;case"takeRight":j=Kn(j,p-Et)}}p={start:j,end:p},D=p.start,j=p.end,p=j-D,D=b?j:D-1,j=$i(p,this.__takeCount__),J=(tt=this.__iteratees__)?tt.length:0,lt=0,Et=[];t:for(;p--&&lt<j;){for(var D=D+_,kt=-1,Dt=f[D];++kt<J;){var Xt=tt[kt],je=Xt.iteratee,on=Xt.type;if(on==Oe){if(Xt.done&&(b?D>Xt.index:D<Xt.index)&&(Xt.count=0,Xt.done=!1),Xt.index=D,!(Xt.done||(on=Xt.limit,Xt.done=-1<on?Xt.count++>=on:!je(Dt))))continue t}else if(Xt=je(Dt),on==Mt)Dt=Xt;else if(!Xt){if(on==Y)continue t;break t}}Et[lt++]=Dt}return Et},B.prototype.chain=function(){return Hn(this)},B.prototype.commit=function(){return new we(this.value(),this.__chain__)},B.prototype.plant=function(f){for(var p,_=this;_ instanceof pe;){var b=h(_);p?D.__wrapped__=b:p=b;var D=b,_=_.__wrapped__}return D.__wrapped__=f,p},B.prototype.reverse=function(){var f=this.__wrapped__;return f instanceof _e?(this.__actions__.length&&(f=new _e(this)),new we(f.reverse(),this.__chain__)):this.thru(function(p){return p.reverse()})},B.prototype.toString=function(){return this.value()+""},B.prototype.run=B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=function(){return yo(this.__wrapped__,this.__actions__)},B.prototype.collect=B.prototype.map,B.prototype.head=B.prototype.first,B.prototype.select=B.prototype.filter,B.prototype.tail=B.prototype.rest,B}var jt,Qt="3.6.0",se=1,K=2,P=4,H=8,Z=16,W=32,rt=64,F=128,rn=256,un=30,wt="...",zt=150,oe=16,Oe=0,Y=1,Mt=2,qt="Expected a function",Lt="__lodash_placeholder__",ie="[object Arguments]",be="[object Array]",ue="[object Boolean]",bn="[object Date]",$e="[object Error]",Nn="[object Function]",cr="[object Number]",pn="[object Object]",Jr="[object RegExp]",Zr="[object String]",ps="[object ArrayBuffer]",la="[object Float32Array]",ua="[object Float64Array]",Rr="[object Int8Array]",Ls="[object Int16Array]",yi="[object Int32Array]",ms="[object Uint8Array]",Yi="[object Uint8ClampedArray]",Va="[object Uint16Array]",Ps="[object Uint32Array]",ka=/\b__p\+='';/g,La=/\b(__p\+=)''\+/g,Sn=/(__e\(.*?\)|\b__t\))\+'';/g,Ke=/&(?:amp|lt|gt|quot|#39|#96);/g,xr=/[&<>"'`]/g,fr=RegExp(Ke.source),zo=RegExp(xr.source),jl=/<%-([\s\S]+?)%>/g,Us=/<%([\s\S]+?)%>/g,js=/<%=([\s\S]+?)%>/g,ca=/[\u0300-\u036f\ufe20-\ufe23]/g,Dn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fa=/\w*$/,gs=/^0[xX]/,qn=/^\[object .+?Constructor\]$/,po=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,ys=/($^)/,Oi=/[.*+?^${}()|[\]\/\\]/g,Ki=RegExp(Oi.source),ha=/['\n\r\u2028\u2029\\]/g,Mi=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),mo=` 	\v\f \uFEFF
\r\u2028\u2029 ᠎             　`,_i="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window".split(" "),Je={};Je[la]=Je[ua]=Je[Rr]=Je[Ls]=Je[yi]=Je[ms]=Je[Yi]=Je[Va]=Je[Ps]=!0,Je[ie]=Je[be]=Je[ps]=Je[ue]=Je[bn]=Je[$e]=Je[Nn]=Je["[object Map]"]=Je[cr]=Je[pn]=Je[Jr]=Je["[object Set]"]=Je[Zr]=Je["[object WeakMap]"]=!1;var Ge={};Ge[ie]=Ge[be]=Ge[ps]=Ge[ue]=Ge[bn]=Ge[la]=Ge[ua]=Ge[Rr]=Ge[Ls]=Ge[yi]=Ge[cr]=Ge[pn]=Ge[Jr]=Ge[Zr]=Ge[ms]=Ge[Yi]=Ge[Va]=Ge[Ps]=!0,Ge[$e]=Ge[Nn]=Ge["[object Map]"]=Ge["[object Set]"]=Ge["[object WeakMap]"]=!1;var Wi={leading:!1,maxWait:0,trailing:!1},mn={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss"},On={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},cn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Zi={function:!0,object:!0},Zn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_s=Zi[typeof Ef]&&Ef&&!Ef.nodeType&&Ef,Bs=Zi[typeof Al]&&Al&&!Al.nodeType&&Al,Ji=Zi[typeof self]&&self&&self.Object&&self,Zi=Zi[typeof window]&&window&&window.Object&&window,da=Bs&&Bs.exports===_s&&_s,Cr=_s&&Bs&&typeof global=="object"&&global||Zi!==(this&&this.window)&&Zi||Ji||this,hr=Ft();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Cr._=hr,define(function(){return hr})):_s&&Bs?da?(Bs.exports=hr)._=hr:_s._=hr:Cr._=hr}).call(void 0);function TS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Am={exports:{}},sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function AS(){if(_0)return sf;_0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,c){var y=null;if(c!==void 0&&(y=""+c),o.key!==void 0&&(y=""+o.key),"key"in o){c={};for(var E in o)E!=="key"&&(c[E]=o[E])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:y,ref:o!==void 0?o:null,props:c}}return sf.Fragment=t,sf.jsx=n,sf.jsxs=n,sf}var v0;function bS(){return v0||(v0=1,Am.exports=AS()),Am.exports}var Zt=bS(),_d="tircnick",SS=[];const Ug="eOp9LjtwzApDNb-TbPbCEZ2V74XTSwrV",SE=i=>{localStorage&&(localStorage.setItem(_d,i),console.log("user saved: "+i))};function RE(){return localStorage!==void 0&&localStorage.getItem(_d)!==null?localStorage.getItem(_d):"taho"}function RS(){console.log("loading phrases from mongo....");var i="https://api.mongolab.com/api/1/databases/tirc/collections/phrase?apiKey="+Ug;return $.ajax({type:"GET",url:i,contentType:"application/json;charset=UTF-8"})}function xS(){var i={_id:"client"},t="https://api.mongolab.com/api/1/databases/tirc/collections/configuration?q="+JSON.stringify(i)+"&l=1&apiKey="+Ug;return $.ajax({type:"GET",url:t,contentType:"application/json;charset=UTF-8"})}const fc={saveUser:SE,loadUser:RE,loadPhrases:RS,loadFromDb:xS,API_KEY:Ug,KEY:_d,users:SS};var bm={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function CS(){if(w0)return Le;w0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),y=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.iterator;function d(Y){return Y===null||typeof Y!="object"?null:(Y=M&&Y[M]||Y["@@iterator"],typeof Y=="function"?Y:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,dt={};function _t(Y,Mt,qt){this.props=Y,this.context=Mt,this.refs=dt,this.updater=qt||q}_t.prototype.isReactComponent={},_t.prototype.setState=function(Y,Mt){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Mt,"setState")},_t.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function Ut(){}Ut.prototype=_t.prototype;function Tt(Y,Mt,qt){this.props=Y,this.context=Mt,this.refs=dt,this.updater=qt||q}var Ft=Tt.prototype=new Ut;Ft.constructor=Tt,nt(Ft,_t.prototype),Ft.isPureReactComponent=!0;var jt=Array.isArray,Qt={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function K(Y,Mt,qt,Lt,ie,be){return qt=be.ref,{$$typeof:i,type:Y,key:Mt,ref:qt!==void 0?qt:null,props:be}}function P(Y,Mt){return K(Y.type,Mt,void 0,void 0,void 0,Y.props)}function H(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===i}function Z(Y){var Mt={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(qt){return Mt[qt]})}var W=/\/+/g;function rt(Y,Mt){return typeof Y=="object"&&Y!==null&&Y.key!=null?Z(""+Y.key):Mt.toString(36)}function F(){}function rn(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(F,F):(Y.status="pending",Y.then(function(Mt){Y.status==="pending"&&(Y.status="fulfilled",Y.value=Mt)},function(Mt){Y.status==="pending"&&(Y.status="rejected",Y.reason=Mt)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function un(Y,Mt,qt,Lt,ie){var be=typeof Y;(be==="undefined"||be==="boolean")&&(Y=null);var ue=!1;if(Y===null)ue=!0;else switch(be){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(Y.$$typeof){case i:case t:ue=!0;break;case O:return ue=Y._init,un(ue(Y._payload),Mt,qt,Lt,ie)}}if(ue)return ie=ie(Y),ue=Lt===""?"."+rt(Y,0):Lt,jt(ie)?(qt="",ue!=null&&(qt=ue.replace(W,"$&/")+"/"),un(ie,Mt,qt,"",function(Nn){return Nn})):ie!=null&&(H(ie)&&(ie=P(ie,qt+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(W,"$&/")+"/")+ue)),Mt.push(ie)),1;ue=0;var bn=Lt===""?".":Lt+":";if(jt(Y))for(var $e=0;$e<Y.length;$e++)Lt=Y[$e],be=bn+rt(Lt,$e),ue+=un(Lt,Mt,qt,be,ie);else if($e=d(Y),typeof $e=="function")for(Y=$e.call(Y),$e=0;!(Lt=Y.next()).done;)Lt=Lt.value,be=bn+rt(Lt,$e++),ue+=un(Lt,Mt,qt,be,ie);else if(be==="object"){if(typeof Y.then=="function")return un(rn(Y),Mt,qt,Lt,ie);throw Mt=String(Y),Error("Objects are not valid as a React child (found: "+(Mt==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Mt)+"). If you meant to render a collection of children, use an array instead.")}return ue}function wt(Y,Mt,qt){if(Y==null)return Y;var Lt=[],ie=0;return un(Y,Lt,"","",function(be){return Mt.call(qt,be,ie++)}),Lt}function zt(Y){if(Y._status===-1){var Mt=Y._result;Mt=Mt(),Mt.then(function(qt){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=qt)},function(qt){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=qt)}),Y._status===-1&&(Y._status=0,Y._result=Mt)}if(Y._status===1)return Y._result.default;throw Y._result}var oe=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Mt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(Mt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function Oe(){}return Le.Children={map:wt,forEach:function(Y,Mt,qt){wt(Y,function(){Mt.apply(this,arguments)},qt)},count:function(Y){var Mt=0;return wt(Y,function(){Mt++}),Mt},toArray:function(Y){return wt(Y,function(Mt){return Mt})||[]},only:function(Y){if(!H(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Le.Component=_t,Le.Fragment=n,Le.Profiler=o,Le.PureComponent=Tt,Le.StrictMode=s,Le.Suspense=S,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qt,Le.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return Qt.H.useMemoCache(Y)}},Le.cache=function(Y){return function(){return Y.apply(null,arguments)}},Le.cloneElement=function(Y,Mt,qt){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Lt=nt({},Y.props),ie=Y.key,be=void 0;if(Mt!=null)for(ue in Mt.ref!==void 0&&(be=void 0),Mt.key!==void 0&&(ie=""+Mt.key),Mt)!se.call(Mt,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&Mt.ref===void 0||(Lt[ue]=Mt[ue]);var ue=arguments.length-2;if(ue===1)Lt.children=qt;else if(1<ue){for(var bn=Array(ue),$e=0;$e<ue;$e++)bn[$e]=arguments[$e+2];Lt.children=bn}return K(Y.type,ie,void 0,void 0,be,Lt)},Le.createContext=function(Y){return Y={$$typeof:y,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:c,_context:Y},Y},Le.createElement=function(Y,Mt,qt){var Lt,ie={},be=null;if(Mt!=null)for(Lt in Mt.key!==void 0&&(be=""+Mt.key),Mt)se.call(Mt,Lt)&&Lt!=="key"&&Lt!=="__self"&&Lt!=="__source"&&(ie[Lt]=Mt[Lt]);var ue=arguments.length-2;if(ue===1)ie.children=qt;else if(1<ue){for(var bn=Array(ue),$e=0;$e<ue;$e++)bn[$e]=arguments[$e+2];ie.children=bn}if(Y&&Y.defaultProps)for(Lt in ue=Y.defaultProps,ue)ie[Lt]===void 0&&(ie[Lt]=ue[Lt]);return K(Y,be,void 0,void 0,null,ie)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(Y){return{$$typeof:E,render:Y}},Le.isValidElement=H,Le.lazy=function(Y){return{$$typeof:O,_payload:{_status:-1,_result:Y},_init:zt}},Le.memo=function(Y,Mt){return{$$typeof:R,type:Y,compare:Mt===void 0?null:Mt}},Le.startTransition=function(Y){var Mt=Qt.T,qt={};Qt.T=qt;try{var Lt=Y(),ie=Qt.S;ie!==null&&ie(qt,Lt),typeof Lt=="object"&&Lt!==null&&typeof Lt.then=="function"&&Lt.then(Oe,oe)}catch(be){oe(be)}finally{Qt.T=Mt}},Le.unstable_useCacheRefresh=function(){return Qt.H.useCacheRefresh()},Le.use=function(Y){return Qt.H.use(Y)},Le.useActionState=function(Y,Mt,qt){return Qt.H.useActionState(Y,Mt,qt)},Le.useCallback=function(Y,Mt){return Qt.H.useCallback(Y,Mt)},Le.useContext=function(Y){return Qt.H.useContext(Y)},Le.useDebugValue=function(){},Le.useDeferredValue=function(Y,Mt){return Qt.H.useDeferredValue(Y,Mt)},Le.useEffect=function(Y,Mt,qt){var Lt=Qt.H;if(typeof qt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Lt.useEffect(Y,Mt)},Le.useId=function(){return Qt.H.useId()},Le.useImperativeHandle=function(Y,Mt,qt){return Qt.H.useImperativeHandle(Y,Mt,qt)},Le.useInsertionEffect=function(Y,Mt){return Qt.H.useInsertionEffect(Y,Mt)},Le.useLayoutEffect=function(Y,Mt){return Qt.H.useLayoutEffect(Y,Mt)},Le.useMemo=function(Y,Mt){return Qt.H.useMemo(Y,Mt)},Le.useOptimistic=function(Y,Mt){return Qt.H.useOptimistic(Y,Mt)},Le.useReducer=function(Y,Mt,qt){return Qt.H.useReducer(Y,Mt,qt)},Le.useRef=function(Y){return Qt.H.useRef(Y)},Le.useState=function(Y){return Qt.H.useState(Y)},Le.useSyncExternalStore=function(Y,Mt,qt){return Qt.H.useSyncExternalStore(Y,Mt,qt)},Le.useTransition=function(){return Qt.H.useTransition()},Le.version="19.1.0",Le}var E0;function jg(){return E0||(E0=1,bm.exports=CS()),bm.exports}var Di=jg();const Bg=TS(Di),IS=({nick:i,state:t,text:n})=>{var s=i,o="col-md-9 col-md-offset-3 ";return t==="fixing"?(s+=" korjaa...",o+="fixing"):(o+="typing",s+=" kirjoittaa..."),Zt.jsx("div",{className:"row",children:Zt.jsx("div",{className:o,children:s})})},NS=()=>{};var T0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},DS=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],y=i[n++],E=i[n++],S=((o&7)<<18|(c&63)<<12|(y&63)<<6|E&63)-65536;t[s++]=String.fromCharCode(55296+(S>>10)),t[s++]=String.fromCharCode(56320+(S&1023))}else{const c=i[n++],y=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|y&63)}}return t.join("")},CE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],y=o+1<i.length,E=y?i[o+1]:0,S=o+2<i.length,R=S?i[o+2]:0,O=c>>2,M=(c&3)<<4|E>>4;let d=(E&15)<<2|R>>6,q=R&63;S||(q=64,y||(d=64)),s.push(n[O],n[M],n[d],n[q])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(xE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):DS(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],E=o<i.length?n[i.charAt(o)]:0;++o;const R=o<i.length?n[i.charAt(o)]:64;++o;const M=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||E==null||R==null||M==null)throw new OS;const d=c<<2|E>>4;if(s.push(d),R!==64){const q=E<<4&240|R>>2;if(s.push(q),M!==64){const nt=R<<6&192|M;s.push(nt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class OS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MS=function(i){const t=xE(i);return CE.encodeByteArray(t,!0)},vd=function(i){return MS(i).replace(/\./g,"")},VS=function(i){try{return CE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=()=>kS().__FIREBASE_DEFAULTS__,PS=()=>{if(typeof process>"u"||typeof T0>"u")return;const i=T0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},US=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&VS(i[1]);return t&&JSON.parse(t)},qg=()=>{try{return NS()||LS()||PS()||US()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},jS=i=>qg()?.emulatorHosts?.[i],BS=i=>{const t=jS(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},IE=()=>qg()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zS(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const y={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[vd(JSON.stringify(n)),vd(JSON.stringify(y)),""].join(".")}const Tf={};function FS(){const i={prod:[],emulator:[]};for(const t of Object.keys(Tf))Tf[t]?i.emulator.push(t):i.prod.push(t);return i}function $S(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let A0=!1;function GS(i,t){if(typeof window>"u"||typeof document>"u"||!zg(window.location.host)||Tf[i]===t||Tf[i]||A0)return;Tf[i]=t;function n(d){return`__firebase__banner__${d}`}const s="__firebase__banner",c=FS().prod.length>0;function y(){const d=document.getElementById(s);d&&d.remove()}function E(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function S(d,q){d.setAttribute("width","24"),d.setAttribute("id",q),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function R(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{A0=!0,y()},d}function O(d,q){d.setAttribute("id",q),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function M(){const d=$S(s),q=n("text"),nt=document.getElementById(q)||document.createElement("span"),dt=n("learnmore"),_t=document.getElementById(dt)||document.createElement("a"),Ut=n("preprendIcon"),Tt=document.getElementById(Ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const Ft=d.element;E(Ft),O(_t,dt);const jt=R();S(Tt,Ut),Ft.append(Tt,nt,_t,jt),document.body.appendChild(Ft)}c?(nt.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",M):M()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XS(){const i=qg()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function KS(){return!XS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NE(){try{return typeof indexedDB=="object"}catch{return!1}}function DE(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function WS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="FirebaseError";class Ul extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=JS,Object.setPrototypeOf(this,Ul.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zd.prototype.create)}}class zd{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],y=c?ZS(c,s):"Error",E=`${this.serviceName}: ${y} (${o}).`;return new Ul(o,E,s)}}function ZS(i,t){return i.replace(tR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const tR=/\{\$([^}]+)}/g;function wd(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=i[o],y=t[o];if(b0(c)&&b0(y)){if(!wd(c,y))return!1}else if(c!==y)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function b0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1e3,nR=2,rR=14400*1e3,iR=.5;function S0(i,t=eR,n=nR){const s=t*Math.pow(n,i),o=Math.round(iR*s*(Math.random()-.5)*2);return Math.min(rR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(i){return i&&i._delegate?i._delegate:i}class Uo{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new qS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oR(t))try{this.getOrInitializeService({instanceIdentifier:cu})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=cu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=cu){return this.instances.has(t)}getOptions(t=cu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,y]of this.instancesDeferred.entries()){const E=this.normalizeInstanceIdentifier(c);s===E&&y.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=cu){return this.component?this.component.multipleInstances?t:cu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(i){return i===cu?void 0:i}function oR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new sR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(nn||(nn={}));const uR={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},cR=nn.INFO,fR={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},hR=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=fR[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hg{constructor(t){this.name=t,this._logLevel=cR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...t),this._logHandler(this,nn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...t),this._logHandler(this,nn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...t),this._logHandler(this,nn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...t),this._logHandler(this,nn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...t),this._logHandler(this,nn.ERROR,...t)}}const dR=(i,t)=>t.some(n=>i instanceof n);let R0,x0;function pR(){return R0||(R0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mR(){return x0||(x0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OE=new WeakMap,Ym=new WeakMap,ME=new WeakMap,Sm=new WeakMap,Fg=new WeakMap;function gR(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",y)},c=()=>{n(bl(i.result)),o()},y=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",y)});return t.then(n=>{n instanceof IDBCursor&&OE.set(n,i)}).catch(()=>{}),Fg.set(t,i),t}function yR(i){if(Ym.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",y),i.removeEventListener("abort",y)},c=()=>{n(),o()},y=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",y),i.addEventListener("abort",y)});Ym.set(i,t)}let Km={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Ym.get(i);if(t==="objectStoreNames")return i.objectStoreNames||ME.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bl(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function _R(i){Km=i(Km)}function vR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Rm(this),t,...n);return ME.set(s,t.sort?t.sort():[t]),bl(s)}:mR().includes(i)?function(...t){return i.apply(Rm(this),t),bl(OE.get(this))}:function(...t){return bl(i.apply(Rm(this),t))}}function wR(i){return typeof i=="function"?vR(i):(i instanceof IDBTransaction&&yR(i),dR(i,pR())?new Proxy(i,Km):i)}function bl(i){if(i instanceof IDBRequest)return gR(i);if(Sm.has(i))return Sm.get(i);const t=wR(i);return t!==i&&(Sm.set(i,t),Fg.set(t,i)),t}const Rm=i=>Fg.get(i);function VE(i,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const y=indexedDB.open(i,t),E=bl(y);return s&&y.addEventListener("upgradeneeded",S=>{s(bl(y.result),S.oldVersion,S.newVersion,bl(y.transaction),S)}),n&&y.addEventListener("blocked",S=>n(S.oldVersion,S.newVersion,S)),E.then(S=>{c&&S.addEventListener("close",()=>c()),o&&S.addEventListener("versionchange",R=>o(R.oldVersion,R.newVersion,R))}).catch(()=>{}),E}const ER=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],xm=new Map;function C0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(xm.get(t))return xm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=TR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ER.includes(n)))return;const c=async function(y,...E){const S=this.transaction(y,o?"readwrite":"readonly");let R=S.store;return s&&(R=R.index(E.shift())),(await Promise.all([R[n](...E),o&&S.done]))[0]};return xm.set(t,c),c}_R(i=>({...i,get:(t,n,s)=>C0(t,n)||i.get(t,n,s),has:(t,n)=>!!C0(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function bR(i){return i.getComponent()?.type==="VERSION"}const Wm="@firebase/app",I0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Hg("@firebase/app"),SR="@firebase/app-compat",RR="@firebase/analytics-compat",xR="@firebase/analytics",CR="@firebase/app-check-compat",IR="@firebase/app-check",NR="@firebase/auth",DR="@firebase/auth-compat",OR="@firebase/database",MR="@firebase/data-connect",VR="@firebase/database-compat",kR="@firebase/functions",LR="@firebase/functions-compat",PR="@firebase/installations",UR="@firebase/installations-compat",jR="@firebase/messaging",BR="@firebase/messaging-compat",qR="@firebase/performance",zR="@firebase/performance-compat",HR="@firebase/remote-config",FR="@firebase/remote-config-compat",$R="@firebase/storage",GR="@firebase/storage-compat",QR="@firebase/firestore",XR="@firebase/ai",YR="@firebase/firestore-compat",KR="firebase",WR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",JR={[Wm]:"fire-core",[SR]:"fire-core-compat",[xR]:"fire-analytics",[RR]:"fire-analytics-compat",[IR]:"fire-app-check",[CR]:"fire-app-check-compat",[NR]:"fire-auth",[DR]:"fire-auth-compat",[OR]:"fire-rtdb",[MR]:"fire-data-connect",[VR]:"fire-rtdb-compat",[kR]:"fire-fn",[LR]:"fire-fn-compat",[PR]:"fire-iid",[UR]:"fire-iid-compat",[jR]:"fire-fcm",[BR]:"fire-fcm-compat",[qR]:"fire-perf",[zR]:"fire-perf-compat",[HR]:"fire-rc",[FR]:"fire-rc-compat",[$R]:"fire-gcs",[GR]:"fire-gcs-compat",[QR]:"fire-fst",[YR]:"fire-fst-compat",[XR]:"fire-vertex","fire-js":"fire-js",[KR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map,ZR=new Map,Zm=new Map;function N0(i,t){try{i.container.addComponent(t)}catch(n){jo.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Dl(i){const t=i.name;if(Zm.has(t))return jo.debug(`There were multiple attempts to register component ${t}.`),!1;Zm.set(t,i);for(const n of Ed.values())N0(n,i);for(const n of ZR.values())N0(n,i);return!0}function $g(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function tx(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sl=new zd("app","Firebase",ex);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Sl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=WR;function kE(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:Jm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Sl.create("bad-app-name",{appName:String(o)});if(n||(n=IE()),!n)throw Sl.create("no-options");const c=Ed.get(o);if(c){if(wd(n,c.options)&&wd(s,c.config))return c;throw Sl.create("duplicate-app",{appName:o})}const y=new lR(o);for(const S of Zm.values())y.addComponent(S);const E=new nx(n,s,y);return Ed.set(o,E),E}function ix(i=Jm){const t=Ed.get(i);if(!t&&i===Jm&&IE())return kE();if(!t)throw Sl.create("no-app",{appName:i});return t}function oo(i,t,n){let s=JR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const y=[`Unable to register library "${s}" with version "${t}":`];o&&y.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&y.push("and"),c&&y.push(`version name "${t}" contains illegal characters (whitespace or "/")`),jo.warn(y.join(" "));return}Dl(new Uo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firebase-heartbeat-database",ax=1,Of="firebase-heartbeat-store";let Cm=null;function LE(){return Cm||(Cm=VE(sx,ax,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Of)}catch(n){console.warn(n)}}}}).catch(i=>{throw Sl.create("idb-open",{originalErrorMessage:i.message})})),Cm}async function ox(i){try{const n=(await LE()).transaction(Of),s=await n.objectStore(Of).get(PE(i));return await n.done,s}catch(t){if(t instanceof Ul)jo.warn(t.message);else{const n=Sl.create("idb-get",{originalErrorMessage:t?.message});jo.warn(n.message)}}}async function D0(i,t){try{const s=(await LE()).transaction(Of,"readwrite");await s.objectStore(Of).put(t,PE(i)),await s.done}catch(n){if(n instanceof Ul)jo.warn(n.message);else{const s=Sl.create("idb-set",{originalErrorMessage:n?.message});jo.warn(s.message)}}}function PE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=1024,ux=30;class cx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=O0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>ux){const o=dx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){jo.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O0(),{heartbeatsToSend:n,unsentEntries:s}=fx(this._heartbeatsCache.heartbeats),o=vd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return jo.warn(t),""}}}function O0(){return new Date().toISOString().substring(0,10)}function fx(i,t=lx){const n=[];let s=i.slice();for(const o of i){const c=n.find(y=>y.agent===o.agent);if(c){if(c.dates.push(o.date),M0(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),M0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NE()?DE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ox(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function M0(i){return vd(JSON.stringify({version:2,heartbeats:i})).length}function dx(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(i){Dl(new Uo("platform-logger",t=>new AR(t),"PRIVATE")),Dl(new Uo("heartbeat",t=>new cx(t),"PRIVATE")),oo(Wm,I0,i),oo(Wm,I0,"esm2020"),oo("fire-js","")}px("");var mx="firebase",gx="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oo(mx,gx,"app");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rl,UE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(K,P){function H(){}H.prototype=P.prototype,K.D=P.prototype,K.prototype=new H,K.prototype.constructor=K,K.C=function(Z,W,rt){for(var F=Array(arguments.length-2),rn=2;rn<arguments.length;rn++)F[rn-2]=arguments[rn];return P.prototype[W].apply(Z,F)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(K,P,H){H||(H=0);var Z=Array(16);if(typeof P=="string")for(var W=0;16>W;++W)Z[W]=P.charCodeAt(H++)|P.charCodeAt(H++)<<8|P.charCodeAt(H++)<<16|P.charCodeAt(H++)<<24;else for(W=0;16>W;++W)Z[W]=P[H++]|P[H++]<<8|P[H++]<<16|P[H++]<<24;P=K.g[0],H=K.g[1],W=K.g[2];var rt=K.g[3],F=P+(rt^H&(W^rt))+Z[0]+3614090360&4294967295;P=H+(F<<7&4294967295|F>>>25),F=rt+(W^P&(H^W))+Z[1]+3905402710&4294967295,rt=P+(F<<12&4294967295|F>>>20),F=W+(H^rt&(P^H))+Z[2]+606105819&4294967295,W=rt+(F<<17&4294967295|F>>>15),F=H+(P^W&(rt^P))+Z[3]+3250441966&4294967295,H=W+(F<<22&4294967295|F>>>10),F=P+(rt^H&(W^rt))+Z[4]+4118548399&4294967295,P=H+(F<<7&4294967295|F>>>25),F=rt+(W^P&(H^W))+Z[5]+1200080426&4294967295,rt=P+(F<<12&4294967295|F>>>20),F=W+(H^rt&(P^H))+Z[6]+2821735955&4294967295,W=rt+(F<<17&4294967295|F>>>15),F=H+(P^W&(rt^P))+Z[7]+4249261313&4294967295,H=W+(F<<22&4294967295|F>>>10),F=P+(rt^H&(W^rt))+Z[8]+1770035416&4294967295,P=H+(F<<7&4294967295|F>>>25),F=rt+(W^P&(H^W))+Z[9]+2336552879&4294967295,rt=P+(F<<12&4294967295|F>>>20),F=W+(H^rt&(P^H))+Z[10]+4294925233&4294967295,W=rt+(F<<17&4294967295|F>>>15),F=H+(P^W&(rt^P))+Z[11]+2304563134&4294967295,H=W+(F<<22&4294967295|F>>>10),F=P+(rt^H&(W^rt))+Z[12]+1804603682&4294967295,P=H+(F<<7&4294967295|F>>>25),F=rt+(W^P&(H^W))+Z[13]+4254626195&4294967295,rt=P+(F<<12&4294967295|F>>>20),F=W+(H^rt&(P^H))+Z[14]+2792965006&4294967295,W=rt+(F<<17&4294967295|F>>>15),F=H+(P^W&(rt^P))+Z[15]+1236535329&4294967295,H=W+(F<<22&4294967295|F>>>10),F=P+(W^rt&(H^W))+Z[1]+4129170786&4294967295,P=H+(F<<5&4294967295|F>>>27),F=rt+(H^W&(P^H))+Z[6]+3225465664&4294967295,rt=P+(F<<9&4294967295|F>>>23),F=W+(P^H&(rt^P))+Z[11]+643717713&4294967295,W=rt+(F<<14&4294967295|F>>>18),F=H+(rt^P&(W^rt))+Z[0]+3921069994&4294967295,H=W+(F<<20&4294967295|F>>>12),F=P+(W^rt&(H^W))+Z[5]+3593408605&4294967295,P=H+(F<<5&4294967295|F>>>27),F=rt+(H^W&(P^H))+Z[10]+38016083&4294967295,rt=P+(F<<9&4294967295|F>>>23),F=W+(P^H&(rt^P))+Z[15]+3634488961&4294967295,W=rt+(F<<14&4294967295|F>>>18),F=H+(rt^P&(W^rt))+Z[4]+3889429448&4294967295,H=W+(F<<20&4294967295|F>>>12),F=P+(W^rt&(H^W))+Z[9]+568446438&4294967295,P=H+(F<<5&4294967295|F>>>27),F=rt+(H^W&(P^H))+Z[14]+3275163606&4294967295,rt=P+(F<<9&4294967295|F>>>23),F=W+(P^H&(rt^P))+Z[3]+4107603335&4294967295,W=rt+(F<<14&4294967295|F>>>18),F=H+(rt^P&(W^rt))+Z[8]+1163531501&4294967295,H=W+(F<<20&4294967295|F>>>12),F=P+(W^rt&(H^W))+Z[13]+2850285829&4294967295,P=H+(F<<5&4294967295|F>>>27),F=rt+(H^W&(P^H))+Z[2]+4243563512&4294967295,rt=P+(F<<9&4294967295|F>>>23),F=W+(P^H&(rt^P))+Z[7]+1735328473&4294967295,W=rt+(F<<14&4294967295|F>>>18),F=H+(rt^P&(W^rt))+Z[12]+2368359562&4294967295,H=W+(F<<20&4294967295|F>>>12),F=P+(H^W^rt)+Z[5]+4294588738&4294967295,P=H+(F<<4&4294967295|F>>>28),F=rt+(P^H^W)+Z[8]+2272392833&4294967295,rt=P+(F<<11&4294967295|F>>>21),F=W+(rt^P^H)+Z[11]+1839030562&4294967295,W=rt+(F<<16&4294967295|F>>>16),F=H+(W^rt^P)+Z[14]+4259657740&4294967295,H=W+(F<<23&4294967295|F>>>9),F=P+(H^W^rt)+Z[1]+2763975236&4294967295,P=H+(F<<4&4294967295|F>>>28),F=rt+(P^H^W)+Z[4]+1272893353&4294967295,rt=P+(F<<11&4294967295|F>>>21),F=W+(rt^P^H)+Z[7]+4139469664&4294967295,W=rt+(F<<16&4294967295|F>>>16),F=H+(W^rt^P)+Z[10]+3200236656&4294967295,H=W+(F<<23&4294967295|F>>>9),F=P+(H^W^rt)+Z[13]+681279174&4294967295,P=H+(F<<4&4294967295|F>>>28),F=rt+(P^H^W)+Z[0]+3936430074&4294967295,rt=P+(F<<11&4294967295|F>>>21),F=W+(rt^P^H)+Z[3]+3572445317&4294967295,W=rt+(F<<16&4294967295|F>>>16),F=H+(W^rt^P)+Z[6]+76029189&4294967295,H=W+(F<<23&4294967295|F>>>9),F=P+(H^W^rt)+Z[9]+3654602809&4294967295,P=H+(F<<4&4294967295|F>>>28),F=rt+(P^H^W)+Z[12]+3873151461&4294967295,rt=P+(F<<11&4294967295|F>>>21),F=W+(rt^P^H)+Z[15]+530742520&4294967295,W=rt+(F<<16&4294967295|F>>>16),F=H+(W^rt^P)+Z[2]+3299628645&4294967295,H=W+(F<<23&4294967295|F>>>9),F=P+(W^(H|~rt))+Z[0]+4096336452&4294967295,P=H+(F<<6&4294967295|F>>>26),F=rt+(H^(P|~W))+Z[7]+1126891415&4294967295,rt=P+(F<<10&4294967295|F>>>22),F=W+(P^(rt|~H))+Z[14]+2878612391&4294967295,W=rt+(F<<15&4294967295|F>>>17),F=H+(rt^(W|~P))+Z[5]+4237533241&4294967295,H=W+(F<<21&4294967295|F>>>11),F=P+(W^(H|~rt))+Z[12]+1700485571&4294967295,P=H+(F<<6&4294967295|F>>>26),F=rt+(H^(P|~W))+Z[3]+2399980690&4294967295,rt=P+(F<<10&4294967295|F>>>22),F=W+(P^(rt|~H))+Z[10]+4293915773&4294967295,W=rt+(F<<15&4294967295|F>>>17),F=H+(rt^(W|~P))+Z[1]+2240044497&4294967295,H=W+(F<<21&4294967295|F>>>11),F=P+(W^(H|~rt))+Z[8]+1873313359&4294967295,P=H+(F<<6&4294967295|F>>>26),F=rt+(H^(P|~W))+Z[15]+4264355552&4294967295,rt=P+(F<<10&4294967295|F>>>22),F=W+(P^(rt|~H))+Z[6]+2734768916&4294967295,W=rt+(F<<15&4294967295|F>>>17),F=H+(rt^(W|~P))+Z[13]+1309151649&4294967295,H=W+(F<<21&4294967295|F>>>11),F=P+(W^(H|~rt))+Z[4]+4149444226&4294967295,P=H+(F<<6&4294967295|F>>>26),F=rt+(H^(P|~W))+Z[11]+3174756917&4294967295,rt=P+(F<<10&4294967295|F>>>22),F=W+(P^(rt|~H))+Z[2]+718787259&4294967295,W=rt+(F<<15&4294967295|F>>>17),F=H+(rt^(W|~P))+Z[9]+3951481745&4294967295,K.g[0]=K.g[0]+P&4294967295,K.g[1]=K.g[1]+(W+(F<<21&4294967295|F>>>11))&4294967295,K.g[2]=K.g[2]+W&4294967295,K.g[3]=K.g[3]+rt&4294967295}s.prototype.u=function(K,P){P===void 0&&(P=K.length);for(var H=P-this.blockSize,Z=this.B,W=this.h,rt=0;rt<P;){if(W==0)for(;rt<=H;)o(this,K,rt),rt+=this.blockSize;if(typeof K=="string"){for(;rt<P;)if(Z[W++]=K.charCodeAt(rt++),W==this.blockSize){o(this,Z),W=0;break}}else for(;rt<P;)if(Z[W++]=K[rt++],W==this.blockSize){o(this,Z),W=0;break}}this.h=W,this.o+=P},s.prototype.v=function(){var K=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);K[0]=128;for(var P=1;P<K.length-8;++P)K[P]=0;var H=8*this.o;for(P=K.length-8;P<K.length;++P)K[P]=H&255,H/=256;for(this.u(K),K=Array(16),P=H=0;4>P;++P)for(var Z=0;32>Z;Z+=8)K[H++]=this.g[P]>>>Z&255;return K};function c(K,P){var H=E;return Object.prototype.hasOwnProperty.call(H,K)?H[K]:H[K]=P(K)}function y(K,P){this.h=P;for(var H=[],Z=!0,W=K.length-1;0<=W;W--){var rt=K[W]|0;Z&&rt==P||(H[W]=rt,Z=!1)}this.g=H}var E={};function S(K){return-128<=K&&128>K?c(K,function(P){return new y([P|0],0>P?-1:0)}):new y([K|0],0>K?-1:0)}function R(K){if(isNaN(K)||!isFinite(K))return M;if(0>K)return _t(R(-K));for(var P=[],H=1,Z=0;K>=H;Z++)P[Z]=K/H|0,H*=4294967296;return new y(P,0)}function O(K,P){if(K.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(K.charAt(0)=="-")return _t(O(K.substring(1),P));if(0<=K.indexOf("-"))throw Error('number format error: interior "-" character');for(var H=R(Math.pow(P,8)),Z=M,W=0;W<K.length;W+=8){var rt=Math.min(8,K.length-W),F=parseInt(K.substring(W,W+rt),P);8>rt?(rt=R(Math.pow(P,rt)),Z=Z.j(rt).add(R(F))):(Z=Z.j(H),Z=Z.add(R(F)))}return Z}var M=S(0),d=S(1),q=S(16777216);i=y.prototype,i.m=function(){if(dt(this))return-_t(this).m();for(var K=0,P=1,H=0;H<this.g.length;H++){var Z=this.i(H);K+=(0<=Z?Z:4294967296+Z)*P,P*=4294967296}return K},i.toString=function(K){if(K=K||10,2>K||36<K)throw Error("radix out of range: "+K);if(nt(this))return"0";if(dt(this))return"-"+_t(this).toString(K);for(var P=R(Math.pow(K,6)),H=this,Z="";;){var W=jt(H,P).g;H=Ut(H,W.j(P));var rt=((0<H.g.length?H.g[0]:H.h)>>>0).toString(K);if(H=W,nt(H))return rt+Z;for(;6>rt.length;)rt="0"+rt;Z=rt+Z}},i.i=function(K){return 0>K?0:K<this.g.length?this.g[K]:this.h};function nt(K){if(K.h!=0)return!1;for(var P=0;P<K.g.length;P++)if(K.g[P]!=0)return!1;return!0}function dt(K){return K.h==-1}i.l=function(K){return K=Ut(this,K),dt(K)?-1:nt(K)?0:1};function _t(K){for(var P=K.g.length,H=[],Z=0;Z<P;Z++)H[Z]=~K.g[Z];return new y(H,~K.h).add(d)}i.abs=function(){return dt(this)?_t(this):this},i.add=function(K){for(var P=Math.max(this.g.length,K.g.length),H=[],Z=0,W=0;W<=P;W++){var rt=Z+(this.i(W)&65535)+(K.i(W)&65535),F=(rt>>>16)+(this.i(W)>>>16)+(K.i(W)>>>16);Z=F>>>16,rt&=65535,F&=65535,H[W]=F<<16|rt}return new y(H,H[H.length-1]&-2147483648?-1:0)};function Ut(K,P){return K.add(_t(P))}i.j=function(K){if(nt(this)||nt(K))return M;if(dt(this))return dt(K)?_t(this).j(_t(K)):_t(_t(this).j(K));if(dt(K))return _t(this.j(_t(K)));if(0>this.l(q)&&0>K.l(q))return R(this.m()*K.m());for(var P=this.g.length+K.g.length,H=[],Z=0;Z<2*P;Z++)H[Z]=0;for(Z=0;Z<this.g.length;Z++)for(var W=0;W<K.g.length;W++){var rt=this.i(Z)>>>16,F=this.i(Z)&65535,rn=K.i(W)>>>16,un=K.i(W)&65535;H[2*Z+2*W]+=F*un,Tt(H,2*Z+2*W),H[2*Z+2*W+1]+=rt*un,Tt(H,2*Z+2*W+1),H[2*Z+2*W+1]+=F*rn,Tt(H,2*Z+2*W+1),H[2*Z+2*W+2]+=rt*rn,Tt(H,2*Z+2*W+2)}for(Z=0;Z<P;Z++)H[Z]=H[2*Z+1]<<16|H[2*Z];for(Z=P;Z<2*P;Z++)H[Z]=0;return new y(H,0)};function Tt(K,P){for(;(K[P]&65535)!=K[P];)K[P+1]+=K[P]>>>16,K[P]&=65535,P++}function Ft(K,P){this.g=K,this.h=P}function jt(K,P){if(nt(P))throw Error("division by zero");if(nt(K))return new Ft(M,M);if(dt(K))return P=jt(_t(K),P),new Ft(_t(P.g),_t(P.h));if(dt(P))return P=jt(K,_t(P)),new Ft(_t(P.g),P.h);if(30<K.g.length){if(dt(K)||dt(P))throw Error("slowDivide_ only works with positive integers.");for(var H=d,Z=P;0>=Z.l(K);)H=Qt(H),Z=Qt(Z);var W=se(H,1),rt=se(Z,1);for(Z=se(Z,2),H=se(H,2);!nt(Z);){var F=rt.add(Z);0>=F.l(K)&&(W=W.add(H),rt=F),Z=se(Z,1),H=se(H,1)}return P=Ut(K,W.j(P)),new Ft(W,P)}for(W=M;0<=K.l(P);){for(H=Math.max(1,Math.floor(K.m()/P.m())),Z=Math.ceil(Math.log(H)/Math.LN2),Z=48>=Z?1:Math.pow(2,Z-48),rt=R(H),F=rt.j(P);dt(F)||0<F.l(K);)H-=Z,rt=R(H),F=rt.j(P);nt(rt)&&(rt=d),W=W.add(rt),K=Ut(K,F)}return new Ft(W,K)}i.A=function(K){return jt(this,K).h},i.and=function(K){for(var P=Math.max(this.g.length,K.g.length),H=[],Z=0;Z<P;Z++)H[Z]=this.i(Z)&K.i(Z);return new y(H,this.h&K.h)},i.or=function(K){for(var P=Math.max(this.g.length,K.g.length),H=[],Z=0;Z<P;Z++)H[Z]=this.i(Z)|K.i(Z);return new y(H,this.h|K.h)},i.xor=function(K){for(var P=Math.max(this.g.length,K.g.length),H=[],Z=0;Z<P;Z++)H[Z]=this.i(Z)^K.i(Z);return new y(H,this.h^K.h)};function Qt(K){for(var P=K.g.length+1,H=[],Z=0;Z<P;Z++)H[Z]=K.i(Z)<<1|K.i(Z-1)>>>31;return new y(H,K.h)}function se(K,P){var H=P>>5;P%=32;for(var Z=K.g.length-H,W=[],rt=0;rt<Z;rt++)W[rt]=0<P?K.i(rt+H)>>>P|K.i(rt+H+1)<<32-P:K.i(rt+H);return new y(W,K.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,UE=s,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=R,y.fromString=O,Rl=y}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jE,lf,BE,rd,tg,qE,zE,HE;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,A,C){return h==Array.prototype||h==Object.prototype||(h[A]=C.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var A=0;A<h.length;++A){var C=h[A];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=n(this);function o(h,A){if(A)t:{var C=s;h=h.split(".");for(var L=0;L<h.length-1;L++){var ot=h[L];if(!(ot in C))break t;C=C[ot]}h=h[h.length-1],L=C[h],A=A(L),A!=L&&A!=null&&t(C,h,{configurable:!0,writable:!0,value:A})}}function c(h,A){h instanceof String&&(h+="");var C=0,L=!1,ot={next:function(){if(!L&&C<h.length){var gt=C++;return{value:A(gt,h[gt]),done:!1}}return L=!0,{done:!0,value:void 0}}};return ot[Symbol.iterator]=function(){return ot},ot}o("Array.prototype.values",function(h){return h||function(){return c(this,function(A,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var y=y||{},E=this||self;function S(h){var A=typeof h;return A=A!="object"?A:h?Array.isArray(h)?"array":A:"null",A=="array"||A=="object"&&typeof h.length=="number"}function R(h){var A=typeof h;return A=="object"&&h!=null||A=="function"}function O(h,A,C){return h.call.apply(h.bind,arguments)}function M(h,A,C){if(!h)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var ot=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ot,L),h.apply(A,ot)}}return function(){return h.apply(A,arguments)}}function d(h,A,C){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O:M,d.apply(null,arguments)}function q(h,A){var C=Array.prototype.slice.call(arguments,1);return function(){var L=C.slice();return L.push.apply(L,arguments),h.apply(this,L)}}function nt(h,A){function C(){}C.prototype=A.prototype,h.aa=A.prototype,h.prototype=new C,h.prototype.constructor=h,h.Qb=function(L,ot,gt){for(var Bt=Array(arguments.length-2),te=2;te<arguments.length;te++)Bt[te-2]=arguments[te];return A.prototype[ot].apply(L,Bt)}}function dt(h){const A=h.length;if(0<A){const C=Array(A);for(let L=0;L<A;L++)C[L]=h[L];return C}return[]}function _t(h,A){for(let C=1;C<arguments.length;C++){const L=arguments[C];if(S(L)){const ot=h.length||0,gt=L.length||0;h.length=ot+gt;for(let Bt=0;Bt<gt;Bt++)h[ot+Bt]=L[Bt]}else h.push(L)}}class Ut{constructor(A,C){this.i=A,this.j=C,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function Tt(h){return/^[\s\xa0]*$/.test(h)}function Ft(){var h=E.navigator;return h&&(h=h.userAgent)?h:""}function jt(h){return jt[" "](h),h}jt[" "]=function(){};var Qt=Ft().indexOf("Gecko")!=-1&&!(Ft().toLowerCase().indexOf("webkit")!=-1&&Ft().indexOf("Edge")==-1)&&!(Ft().indexOf("Trident")!=-1||Ft().indexOf("MSIE")!=-1)&&Ft().indexOf("Edge")==-1;function se(h,A,C){for(const L in h)A.call(C,h[L],L,h)}function K(h,A){for(const C in h)A.call(void 0,h[C],C,h)}function P(h){const A={};for(const C in h)A[C]=h[C];return A}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(h,A){let C,L;for(let ot=1;ot<arguments.length;ot++){L=arguments[ot];for(C in L)h[C]=L[C];for(let gt=0;gt<H.length;gt++)C=H[gt],Object.prototype.hasOwnProperty.call(L,C)&&(h[C]=L[C])}}function W(h){var A=1;h=h.split(":");const C=[];for(;0<A&&h.length;)C.push(h.shift()),A--;return h.length&&C.push(h.join(":")),C}function rt(h){E.setTimeout(()=>{throw h},0)}function F(){var h=Oe;let A=null;return h.g&&(A=h.g,h.g=h.g.next,h.g||(h.h=null),A.next=null),A}class rn{constructor(){this.h=this.g=null}add(A,C){const L=un.get();L.set(A,C),this.h?this.h.next=L:this.g=L,this.h=L}}var un=new Ut(()=>new wt,h=>h.reset());class wt{constructor(){this.next=this.g=this.h=null}set(A,C){this.h=A,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,oe=!1,Oe=new rn,Y=()=>{const h=E.Promise.resolve(void 0);zt=()=>{h.then(Mt)}};var Mt=()=>{for(var h;h=F();){try{h.h.call(h.g)}catch(C){rt(C)}var A=un;A.j(h),100>A.h&&(A.h++,h.next=A.g,A.g=h)}oe=!1};function qt(){this.s=this.s,this.C=this.C}qt.prototype.s=!1,qt.prototype.ma=function(){this.s||(this.s=!0,this.N())},qt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Lt(h,A){this.type=h,this.g=this.target=A,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var ie=(function(){if(!E.addEventListener||!Object.defineProperty)return!1;var h=!1,A=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const C=()=>{};E.addEventListener("test",C,A),E.removeEventListener("test",C,A)}catch{}return h})();function be(h,A){if(Lt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var C=this.type=h.type,L=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=A,A=h.relatedTarget){if(Qt){t:{try{jt(A.nodeName);var ot=!0;break t}catch{}ot=!1}ot||(A=null)}}else C=="mouseover"?A=h.fromElement:C=="mouseout"&&(A=h.toElement);this.relatedTarget=A,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ue[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}nt(be,Lt);var ue={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var bn="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Nn(h,A,C,L,ot){this.listener=h,this.proxy=null,this.src=A,this.type=C,this.capture=!!L,this.ha=ot,this.key=++$e,this.da=this.fa=!1}function cr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pn(h){this.src=h,this.g={},this.h=0}pn.prototype.add=function(h,A,C,L,ot){var gt=h.toString();h=this.g[gt],h||(h=this.g[gt]=[],this.h++);var Bt=Zr(h,A,L,ot);return-1<Bt?(A=h[Bt],C||(A.fa=!1)):(A=new Nn(A,this.src,gt,!!L,ot),A.fa=C,h.push(A)),A};function Jr(h,A){var C=A.type;if(C in h.g){var L=h.g[C],ot=Array.prototype.indexOf.call(L,A,void 0),gt;(gt=0<=ot)&&Array.prototype.splice.call(L,ot,1),gt&&(cr(A),h.g[C].length==0&&(delete h.g[C],h.h--))}}function Zr(h,A,C,L){for(var ot=0;ot<h.length;++ot){var gt=h[ot];if(!gt.da&&gt.listener==A&&gt.capture==!!C&&gt.ha==L)return ot}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),la={};function ua(h,A,C,L,ot){if(Array.isArray(A)){for(var gt=0;gt<A.length;gt++)ua(h,A[gt],C,L,ot);return null}return C=La(C),h&&h[bn]?h.K(A,C,R(L)?!!L.capture:!1,ot):Rr(h,A,C,!1,L,ot)}function Rr(h,A,C,L,ot,gt){if(!A)throw Error("Invalid event type");var Bt=R(ot)?!!ot.capture:!!ot,te=Ps(h);if(te||(h[ps]=te=new pn(h)),C=te.add(A,C,L,Bt,gt),C.proxy)return C;if(L=Ls(),C.proxy=L,L.src=h,L.listener=C,h.addEventListener)ie||(ot=Bt),ot===void 0&&(ot=!1),h.addEventListener(A.toString(),L,ot);else if(h.attachEvent)h.attachEvent(Yi(A.toString()),L);else if(h.addListener&&h.removeListener)h.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ls(){function h(C){return A.call(h.src,h.listener,C)}const A=Va;return h}function yi(h,A,C,L,ot){if(Array.isArray(A))for(var gt=0;gt<A.length;gt++)yi(h,A[gt],C,L,ot);else L=R(L)?!!L.capture:!!L,C=La(C),h&&h[bn]?(h=h.i,A=String(A).toString(),A in h.g&&(gt=h.g[A],C=Zr(gt,C,L,ot),-1<C&&(cr(gt[C]),Array.prototype.splice.call(gt,C,1),gt.length==0&&(delete h.g[A],h.h--)))):h&&(h=Ps(h))&&(A=h.g[A.toString()],h=-1,A&&(h=Zr(A,C,L,ot)),(C=-1<h?A[h]:null)&&ms(C))}function ms(h){if(typeof h!="number"&&h&&!h.da){var A=h.src;if(A&&A[bn])Jr(A.i,h);else{var C=h.type,L=h.proxy;A.removeEventListener?A.removeEventListener(C,L,h.capture):A.detachEvent?A.detachEvent(Yi(C),L):A.addListener&&A.removeListener&&A.removeListener(L),(C=Ps(A))?(Jr(C,h),C.h==0&&(C.src=null,A[ps]=null)):cr(h)}}}function Yi(h){return h in la?la[h]:la[h]="on"+h}function Va(h,A){if(h.da)h=!0;else{A=new be(A,this);var C=h.listener,L=h.ha||h.src;h.fa&&ms(h),h=C.call(L,A)}return h}function Ps(h){return h=h[ps],h instanceof pn?h:null}var ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(h){return typeof h=="function"?h:(h[ka]||(h[ka]=function(A){return h.handleEvent(A)}),h[ka])}function Sn(){qt.call(this),this.i=new pn(this),this.M=this,this.F=null}nt(Sn,qt),Sn.prototype[bn]=!0,Sn.prototype.removeEventListener=function(h,A,C,L){yi(this,h,A,C,L)};function Ke(h,A){var C,L=h.F;if(L)for(C=[];L;L=L.F)C.push(L);if(h=h.M,L=A.type||A,typeof A=="string")A=new Lt(A,h);else if(A instanceof Lt)A.target=A.target||h;else{var ot=A;A=new Lt(L,h),Z(A,ot)}if(ot=!0,C)for(var gt=C.length-1;0<=gt;gt--){var Bt=A.g=C[gt];ot=xr(Bt,L,!0,A)&&ot}if(Bt=A.g=h,ot=xr(Bt,L,!0,A)&&ot,ot=xr(Bt,L,!1,A)&&ot,C)for(gt=0;gt<C.length;gt++)Bt=A.g=C[gt],ot=xr(Bt,L,!1,A)&&ot}Sn.prototype.N=function(){if(Sn.aa.N.call(this),this.i){var h=this.i,A;for(A in h.g){for(var C=h.g[A],L=0;L<C.length;L++)cr(C[L]);delete h.g[A],h.h--}}this.F=null},Sn.prototype.K=function(h,A,C,L){return this.i.add(String(h),A,!1,C,L)},Sn.prototype.L=function(h,A,C,L){return this.i.add(String(h),A,!0,C,L)};function xr(h,A,C,L){if(A=h.i.g[String(A)],!A)return!0;A=A.concat();for(var ot=!0,gt=0;gt<A.length;++gt){var Bt=A[gt];if(Bt&&!Bt.da&&Bt.capture==C){var te=Bt.listener,gn=Bt.ha||Bt.src;Bt.fa&&Jr(h.i,Bt),ot=te.call(gn,L)!==!1&&ot}}return ot&&!L.defaultPrevented}function fr(h,A,C){if(typeof h=="function")C&&(h=d(h,C));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:E.setTimeout(h,A||0)}function zo(h){h.g=fr(()=>{h.g=null,h.i&&(h.i=!1,zo(h))},h.l);const A=h.h;h.h=null,h.m.apply(null,A)}class jl extends qt{constructor(A,C){super(),this.m=A,this.l=C,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(E.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(h){qt.call(this),this.h=h,this.g={}}nt(Us,qt);var js=[];function ca(h){se(h.g,function(A,C){this.g.hasOwnProperty(C)&&ms(A)},h),h.g={}}Us.prototype.N=function(){Us.aa.N.call(this),ca(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=E.JSON.stringify,fa=E.JSON.parse,gs=class{stringify(h){return E.JSON.stringify(h,void 0)}parse(h){return E.JSON.parse(h,void 0)}};function qn(){}qn.prototype.h=null;function po(h){return h.h||(h.h=h.i())}function ys(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ki(){Lt.call(this,"d")}nt(Ki,Lt);function ha(){Lt.call(this,"c")}nt(ha,Lt);var Mi={},mo=null;function _i(){return mo=mo||new Sn}Mi.La="serverreachability";function Je(h){Lt.call(this,Mi.La,h)}nt(Je,Lt);function Ge(h){const A=_i();Ke(A,new Je(A))}Mi.STAT_EVENT="statevent";function Wi(h,A){Lt.call(this,Mi.STAT_EVENT,h),this.stat=A}nt(Wi,Lt);function mn(h){const A=_i();Ke(A,new Wi(A,h))}Mi.Ma="timingevent";function On(h,A){Lt.call(this,Mi.Ma,h),this.size=A}nt(On,Lt);function cn(h,A){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return E.setTimeout(function(){h()},A)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function _s(h,A,C,L,ot,gt){h.info(function(){if(h.g)if(gt)for(var Bt="",te=gt.split("&"),gn=0;gn<te.length;gn++){var Pe=te[gn].split("=");if(1<Pe.length){var Hn=Pe[0];Pe=Pe[1];var Vn=Hn.split("_");Bt=2<=Vn.length&&Vn[1]=="type"?Bt+(Hn+"="+Pe+"&"):Bt+(Hn+"=redacted&")}}else Bt=null;else Bt=gt;return"XMLHTTP REQ ("+L+") [attempt "+ot+"]: "+A+`
`+C+`
`+Bt})}function Bs(h,A,C,L,ot,gt,Bt){h.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+ot+"]: "+A+`
`+C+`
`+gt+" "+Bt})}function Ji(h,A,C,L){h.info(function(){return"XMLHTTP TEXT ("+A+"): "+da(h,C)+(L?" "+L:"")})}function Zi(h,A){h.info(function(){return"TIMEOUT: "+A})}Zn.prototype.info=function(){};function da(h,A){if(!h.g)return A;if(!A)return null;try{var C=JSON.parse(A);if(C){for(h=0;h<C.length;h++)if(Array.isArray(C[h])){var L=C[h];if(!(2>L.length)){var ot=L[1];if(Array.isArray(ot)&&!(1>ot.length)){var gt=ot[0];if(gt!="noop"&&gt!="stop"&&gt!="close")for(var Bt=1;Bt<ot.length;Bt++)ot[Bt]=""}}}}return Dn(C)}catch{return A}}var Cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ct;function B(){}nt(B,qn),B.prototype.g=function(){return new XMLHttpRequest},B.prototype.i=function(){return{}},Ct=new B;function pe(h,A,C,L){this.j=h,this.i=A,this.l=C,this.R=L||1,this.U=new Us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new we}function we(){this.i=null,this.g="",this.h=!1}var _e={},Ur={};function ti(h,A,C){h.L=1,h.v=ri(Ir(A)),h.m=C,h.P=!0,ei(h,null)}function ei(h,A){h.F=Date.now(),ts(h),h.A=Ir(h.v);var C=h.A,L=h.R;Array.isArray(L)||(L=[String(L)]),Fs(C.i,"t",L),h.C=0,C=h.j.J,h.h=new we,h.g=ir(h.j,C?A:null,!h.m),0<h.O&&(h.M=new jl(d(h.Y,h,h.g),h.O)),A=h.U,C=h.g,L=h.ca;var ot="readystatechange";Array.isArray(ot)||(ot&&(js[0]=ot.toString()),ot=js);for(var gt=0;gt<ot.length;gt++){var Bt=ua(C,ot[gt],L||A.handleEvent,!1,A.h||A);if(!Bt)break;A.g[Bt.key]=Bt}A=h.H?P(h.H):{},h.m?(h.u||(h.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,A)):(h.u="GET",h.g.ea(h.A,h.u,null,A)),Ge(),_s(h.i,h.u,h.A,h.l,h.R,h.m)}pe.prototype.ca=function(h){h=h.target;const A=this.M;A&&g(h)==3?A.j():this.Y(h)},pe.prototype.Y=function(h){try{if(h==this.g)t:{const Vn=g(this.g);var A=this.g.Ba();const ii=this.g.Z();if(!(3>Vn)&&(Vn!=3||this.g&&(this.h.h||this.g.oa()||v(this.g)))){this.J||Vn!=4||A==7||(A==8||0>=ii?Ge(3):Ge(2)),vi(this);var C=this.g.Z();this.X=C;e:if(We(this)){var L=v(this.g);h="";var ot=L.length,gt=g(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),Vi(this);var Bt="";break e}this.h.i=new E.TextDecoder}for(A=0;A<ot;A++)this.h.h=!0,h+=this.h.i.decode(L[A],{stream:!(gt&&A==ot-1)});L.length=0,this.h.g+=h,this.C=0,Bt=this.h.g}else Bt=this.g.oa();if(this.o=C==200,Bs(this.i,this.u,this.A,this.l,this.R,Vn,C),this.o){if(this.T&&!this.K){e:{if(this.g){var te,gn=this.g;if((te=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tt(te)){var Pe=te;break e}}Pe=null}if(C=Pe)Ji(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ki(this,C);else{this.o=!1,this.s=3,mn(12),zn(this),Vi(this);break t}}if(this.P){C=!0;let Xn;for(;!this.J&&this.C<Bt.length;)if(Xn=Qn(this,Bt),Xn==Ur){Vn==4&&(this.s=4,mn(14),C=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==_e){this.s=4,mn(15),Ji(this.i,this.l,Bt,"[Invalid Chunk]"),C=!1;break}else Ji(this.i,this.l,Xn,null),ki(this,Xn);if(We(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vn!=4||Bt.length!=0||this.h.h||(this.s=1,mn(16),C=!1),this.o=this.o&&C,!C)Ji(this.i,this.l,Bt,"[Invalid Chunked Response]"),zn(this),Vi(this);else if(0<Bt.length&&!this.W){this.W=!0;var Hn=this.j;Hn.g==this&&Hn.ba&&!Hn.M&&(Hn.j.info("Great, no buffering proxy detected. Bytes received: "+Bt.length),fe(Hn),Hn.M=!0,mn(11))}}else Ji(this.i,this.l,Bt,null),ki(this,Bt);Vn==4&&zn(this),this.o&&!this.J&&(Vn==4?Hi(this.j,this):(this.o=!1,ts(this)))}else T(this.g),C==400&&0<Bt.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),zn(this),Vi(this)}}}catch{}finally{}};function We(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Qn(h,A){var C=h.C,L=A.indexOf(`
`,C);return L==-1?Ur:(C=Number(A.substring(C,L)),isNaN(C)?_e:(L+=1,L+C>A.length?Ur:(A=A.slice(L,L+C),h.C=L+C,A)))}pe.prototype.cancel=function(){this.J=!0,zn(this)};function ts(h){h.S=Date.now()+h.I,go(h,h.I)}function go(h,A){if(h.B!=null)throw Error("WatchDog timer not null");h.B=cn(d(h.ba,h),A)}function vi(h){h.B&&(E.clearTimeout(h.B),h.B=null)}pe.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Zi(this.i,this.A),this.L!=2&&(Ge(),mn(17)),zn(this),this.s=2,Vi(this)):go(this,this.S-h)};function Vi(h){h.j.G==0||h.J||Hi(h.j,h)}function zn(h){vi(h);var A=h.M;A&&typeof A.ma=="function"&&A.ma(),h.M=null,ca(h.U),h.g&&(A=h.g,h.g=null,A.abort(),A.ma())}function ki(h,A){try{var C=h.j;if(C.G!=0&&(C.g==h||es(C.h,h))){if(!h.K&&es(C.h,h)&&C.G==3){try{var L=C.Da.g.parse(A)}catch{L=null}if(Array.isArray(L)&&L.length==3){var ot=L;if(ot[0]==0){t:if(!C.u){if(C.g)if(C.g.F+3e3<h.F)Un(C),z(C);else break t;$t(C),mn(18)}}else C.za=ot[1],0<C.za-C.T&&37500>ot[2]&&C.F&&C.v==0&&!C.C&&(C.C=cn(d(C.Za,C),6e3));if(1>=vs(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else ae(C,11)}else if((h.K||C.g==h)&&Un(C),!Tt(A))for(ot=C.Da.g.parse(A),A=0;A<ot.length;A++){let Pe=ot[A];if(C.T=Pe[0],Pe=Pe[1],C.G==2)if(Pe[0]=="c"){C.K=Pe[1],C.ia=Pe[2];const Hn=Pe[3];Hn!=null&&(C.la=Hn,C.j.info("VER="+C.la));const Vn=Pe[4];Vn!=null&&(C.Aa=Vn,C.j.info("SVER="+C.Aa));const ii=Pe[5];ii!=null&&typeof ii=="number"&&0<ii&&(L=1.5*ii,C.L=L,C.j.info("backChannelRequestTimeoutMs_="+L)),L=C;const Xn=h.g;if(Xn){const Ti=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var gt=L.h;gt.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(gt.j=gt.l,gt.g=new Set,gt.h&&(Li(gt,gt.h),gt.h=null))}if(L.D){const _a=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(L.ya=_a,an(L.I,L.D,_a))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-h.F,C.j.info("Handshake RTT: "+C.R+"ms")),L=C;var Bt=h;if(L.qa=Se(L,L.J?L.ia:null,L.W),Bt.K){pr(L.h,Bt);var te=Bt,gn=L.L;gn&&(te.I=gn),te.B&&(vi(te),ts(te)),L.g=Bt}else me(L);0<C.i.length&&at(C)}else Pe[0]!="stop"&&Pe[0]!="close"||ae(C,7);else C.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?ae(C,7):V(C):Pe[0]!="noop"&&C.l&&C.l.ta(Pe),C.v=0)}}Ge(4)}catch{}}var Pa=class{constructor(h,A){this.g=h,this.map=A}};function dr(h){this.l=h||10,E.PerformanceNavigationTiming?(h=E.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(E.chrome&&E.chrome.loadTimes&&E.chrome.loadTimes()&&E.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function vs(h){return h.h?1:h.g?h.g.size:0}function es(h,A){return h.h?h.h==A:h.g?h.g.has(A):!1}function Li(h,A){h.g?h.g.add(A):h.h=A}function pr(h,A){h.h&&h.h==A?h.h=null:h.g&&h.g.has(A)&&h.g.delete(A)}dr.prototype.cancel=function(){if(this.i=jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function jr(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let A=h.i;for(const C of h.g.values())A=A.concat(C.D);return A}return dt(h.i)}function Ho(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(S(h)){for(var A=[],C=h.length,L=0;L<C;L++)A.push(h[L]);return A}A=[],C=0;for(L in h)A[C++]=h[L];return A}function Br(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(S(h)||typeof h=="string"){var A=[];h=h.length;for(var C=0;C<h;C++)A.push(C);return A}A=[],C=0;for(const L in h)A[C++]=L;return A}}}function zs(h,A){if(h.forEach&&typeof h.forEach=="function")h.forEach(A,void 0);else if(S(h)||typeof h=="string")Array.prototype.forEach.call(h,A,void 0);else for(var C=Br(h),L=Ho(h),ot=L.length,gt=0;gt<ot;gt++)A.call(void 0,L[gt],C&&C[gt],h)}var vn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(h,A){if(h){h=h.split("&");for(var C=0;C<h.length;C++){var L=h[C].indexOf("="),ot=null;if(0<=L){var gt=h[C].substring(0,L);ot=h[C].substring(L+1)}else gt=h[C];A(gt,ot?decodeURIComponent(ot.replace(/\+/g," ")):"")}}}function sn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof sn){this.h=h.h,Pi(this,h.j),this.o=h.o,this.g=h.g,ni(this,h.s),this.l=h.l;var A=h.i,C=new Bi;C.i=A.i,A.g&&(C.g=new Map(A.g),C.h=A.h),Ui(this,C),this.m=h.m}else h&&(A=String(h).match(vn))?(this.h=!1,Pi(this,A[1]||"",!0),this.o=Rn(A[2]||""),this.g=Rn(A[3]||"",!0),ni(this,A[4]),this.l=Rn(A[5]||"",!0),Ui(this,A[6]||"",!0),this.m=Rn(A[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}sn.prototype.toString=function(){var h=[],A=this.j;A&&h.push(Hs(A,ji,!0),":");var C=this.g;return(C||A=="file")&&(h.push("//"),(A=this.o)&&h.push(Hs(A,ji,!0),"@"),h.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&h.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&h.push("/"),h.push(Hs(C,C.charAt(0)=="/"?Bl:ma,!0))),(C=this.i.toString())&&h.push("?",C),(C=this.m)&&h.push("#",Hs(C,ga)),h.join("")};function Ir(h){return new sn(h)}function Pi(h,A,C){h.j=C?Rn(A,!0):A,h.j&&(h.j=h.j.replace(/:$/,""))}function ni(h,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);h.s=A}else h.s=null}function Ui(h,A,C){A instanceof Bi?(h.i=A,yo(h.i,h.h)):(C||(A=Hs(A,ns)),h.i=new Bi(A,h.h))}function an(h,A,C){h.i.set(A,C)}function ri(h){return an(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Rn(h,A){return h?A?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hs(h,A,C){return typeof h=="string"?(h=encodeURI(h).replace(A,Ua),C&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ua(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ji=/[#\/\?@]/g,ma=/[#\?:]/g,Bl=/[#\?]/g,ns=/[#\?@]/g,ga=/#/g;function Bi(h,A){this.h=this.g=null,this.i=h||null,this.j=!!A}function Nr(h){h.g||(h.g=new Map,h.h=0,h.i&&pa(h.i,function(A,C){h.add(decodeURIComponent(A.replace(/\+/g," ")),C)}))}i=Bi.prototype,i.add=function(h,A){Nr(this),this.i=null,h=Dr(this,h);var C=this.g.get(h);return C||this.g.set(h,C=[]),C.push(A),this.h+=1,this};function rs(h,A){Nr(h),A=Dr(h,A),h.g.has(A)&&(h.i=null,h.h-=h.g.get(A).length,h.g.delete(A))}function wi(h,A){return Nr(h),A=Dr(h,A),h.g.has(A)}i.forEach=function(h,A){Nr(this),this.g.forEach(function(C,L){C.forEach(function(ot){h.call(A,ot,L,this)},this)},this)},i.na=function(){Nr(this);const h=Array.from(this.g.values()),A=Array.from(this.g.keys()),C=[];for(let L=0;L<A.length;L++){const ot=h[L];for(let gt=0;gt<ot.length;gt++)C.push(A[L])}return C},i.V=function(h){Nr(this);let A=[];if(typeof h=="string")wi(this,h)&&(A=A.concat(this.g.get(Dr(this,h))));else{h=Array.from(this.g.values());for(let C=0;C<h.length;C++)A=A.concat(h[C])}return A},i.set=function(h,A){return Nr(this),this.i=null,h=Dr(this,h),wi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[A]),this.h+=1,this},i.get=function(h,A){return h?(h=this.V(h),0<h.length?String(h[0]):A):A};function Fs(h,A,C){rs(h,A),0<C.length&&(h.i=null,h.g.set(Dr(h,A),dt(C)),h.h+=C.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],A=Array.from(this.g.keys());for(var C=0;C<A.length;C++){var L=A[C];const gt=encodeURIComponent(String(L)),Bt=this.V(L);for(L=0;L<Bt.length;L++){var ot=gt;Bt[L]!==""&&(ot+="="+encodeURIComponent(String(Bt[L]))),h.push(ot)}}return this.i=h.join("&")};function Dr(h,A){return A=String(A),h.j&&(A=A.toLowerCase()),A}function yo(h,A){A&&!h.j&&(Nr(h),h.i=null,h.g.forEach(function(C,L){var ot=L.toLowerCase();L!=ot&&(rs(this,L),Fs(this,ot,C))},h)),h.j=A}function ws(h,A){const C=new Zn;if(E.Image){const L=new Image;L.onload=q(xn,C,"TestLoadImage: loaded",!0,A,L),L.onerror=q(xn,C,"TestLoadImage: error",!1,A,L),L.onabort=q(xn,C,"TestLoadImage: abort",!1,A,L),L.ontimeout=q(xn,C,"TestLoadImage: timeout",!1,A,L),E.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=h}else A(!1)}function Ei(h,A){const C=new Zn,L=new AbortController,ot=setTimeout(()=>{L.abort(),xn(C,"TestPingServer: timeout",!1,A)},1e4);fetch(h,{signal:L.signal}).then(gt=>{clearTimeout(ot),gt.ok?xn(C,"TestPingServer: ok",!0,A):xn(C,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(ot),xn(C,"TestPingServer: error",!1,A)})}function xn(h,A,C,L,ot){try{ot&&(ot.onload=null,ot.onerror=null,ot.onabort=null,ot.ontimeout=null),L(C)}catch{}}function is(){this.g=new gs}function qi(h,A,C){const L=C||"";try{zs(h,function(ot,gt){let Bt=ot;R(ot)&&(Bt=Dn(ot)),A.push(L+gt+"="+encodeURIComponent(Bt))})}catch(ot){throw A.push(L+"type="+encodeURIComponent("_badmap")),ot}}function Es(h){this.l=h.Ub||null,this.j=h.eb||!1}nt(Es,qn),Es.prototype.g=function(){return new qr(this.l,this.j)},Es.prototype.i=(function(h){return function(){return h}})({});function qr(h,A){Sn.call(this),this.D=h,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}nt(qr,Sn),i=qr.prototype,i.open=function(h,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=A,this.readyState=1,Or(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(A.body=h),(this.D||E).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof E.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ja(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ja(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var A=h.value?h.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!h.done}))&&(this.response=this.responseText+=A)}h.done?zr(this):Or(this),this.readyState==3&&ja(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,zr(this))},i.Qa=function(h){this.g&&(this.response=h,zr(this))},i.ga=function(){this.g&&zr(this)};function zr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Or(h)}i.setRequestHeader=function(h,A){this.u.append(h,A)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],A=this.h.entries();for(var C=A.next();!C.done;)C=C.value,h.push(C[0]+": "+C[1]),C=A.next();return h.join(`\r
`)};function Or(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ba(h){let A="";return se(h,function(C,L){A+=L,A+=":",A+=C,A+=`\r
`}),A}function Pn(h,A,C){t:{for(L in C){var L=!1;break t}L=!0}L||(C=Ba(C),typeof h=="string"?C!=null&&encodeURIComponent(String(C)):an(h,A,C))}function Be(h){Sn.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}nt(Be,Sn);var Ts=/^https?$/i,As=["POST","PUT"];i=Be.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,A,C,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);A=A?A.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ct.g(),this.v=this.o?po(this.o):po(Ct),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(A,String(h),!0),this.B=!1}catch(gt){qa(this,gt);return}if(h=C||"",C=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var ot in L)C.set(ot,L[ot]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const gt of L.keys())C.set(gt,L.get(gt));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(C.keys()).find(gt=>gt.toLowerCase()=="content-type"),ot=E.FormData&&h instanceof E.FormData,!(0<=Array.prototype.indexOf.call(As,A,void 0))||L||ot||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[gt,Bt]of C)this.g.setRequestHeader(gt,Bt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{u(this),this.u=!0,this.g.send(h),this.u=!1}catch(gt){qa(this,gt)}};function qa(h,A){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=A,h.m=5,$s(h),zi(h)}function $s(h){h.A||(h.A=!0,Ke(h,"complete"),Ke(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ke(this,"complete"),Ke(this,"abort"),zi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Be.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},i.bb=function(){ya(this)};function ya(h){if(h.h&&typeof y<"u"&&(!h.v[1]||g(h)!=4||h.Z()!=2)){if(h.u&&g(h)==4)fr(h.Ea,0,h);else if(Ke(h,"readystatechange"),g(h)==4){h.h=!1;try{const Bt=h.Z();t:switch(Bt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break t;default:A=!1}var C;if(!(C=A)){var L;if(L=Bt===0){var ot=String(h.D).match(vn)[1]||null;!ot&&E.self&&E.self.location&&(ot=E.self.location.protocol.slice(0,-1)),L=!Ts.test(ot?ot.toLowerCase():"")}C=L}if(C)Ke(h,"complete"),Ke(h,"success");else{h.m=6;try{var gt=2<g(h)?h.g.statusText:""}catch{gt=""}h.l=gt+" ["+h.Z()+"]",$s(h)}}finally{zi(h)}}}}function zi(h,A){if(h.g){u(h);const C=h.g,L=h.v[0]?()=>{}:null;h.g=null,h.v=null,A||Ke(h,"ready");try{C.onreadystatechange=L}catch{}}}function u(h){h.I&&(E.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function g(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<g(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var A=this.g.responseText;return h&&A.indexOf(h)==0&&(A=A.substring(h.length)),fa(A)}};function v(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function T(h){const A={};h=(h.g&&2<=g(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<h.length;L++){if(Tt(h[L]))continue;var C=W(h[L]);const ot=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const gt=A[ot]||[];A[ot]=gt,gt.push(C)}K(A,function(L){return L.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function x(h,A,C){return C&&C.internalChannelParams&&C.internalChannelParams[h]||A}function I(h){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=x("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=x("baseRetryDelayMs",5e3,h),this.cb=x("retryDelaySeedMs",1e4,h),this.Wa=x("forwardChannelMaxRetries",2,h),this.wa=x("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new dr(h&&h.concurrentRequestLimit),this.Da=new is,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=I.prototype,i.la=8,i.G=1,i.connect=function(h,A,C,L){mn(0),this.W=h,this.H=A||{},C&&L!==void 0&&(this.H.OSID=C,this.H.OAID=L),this.F=this.X,this.I=Se(this,null,this.W),at(this)};function V(h){if(st(h),h.G==3){var A=h.U++,C=Ir(h.I);if(an(C,"SID",h.K),an(C,"RID",A),an(C,"TYPE","terminate"),St(h,C),A=new pe(h,h.j,A),A.L=2,A.v=ri(Ir(C)),C=!1,E.navigator&&E.navigator.sendBeacon)try{C=E.navigator.sendBeacon(A.v.toString(),"")}catch{}!C&&E.Image&&(new Image().src=A.v,C=!0),C||(A.g=ir(A.j,null),A.g.ea(A.v)),A.F=Date.now(),ts(A)}Ee(h)}function z(h){h.g&&(fe(h),h.g.cancel(),h.g=null)}function st(h){z(h),h.u&&(E.clearTimeout(h.u),h.u=null),Un(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&E.clearTimeout(h.s),h.s=null)}function at(h){if(!qs(h.h)&&!h.s){h.s=!0;var A=h.Ga;zt||Y(),oe||(zt(),oe=!0),Oe.add(A,h),h.B=0}}function ut(h,A){return vs(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=A.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=cn(d(h.Ga,h,A),Yt(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ot=new pe(this,this.j,h);let gt=this.o;if(this.S&&(gt?(gt=P(gt),Z(gt,this.S)):gt=this.S),this.m!==null||this.O||(ot.H=gt,gt=null),this.P)t:{for(var A=0,C=0;C<this.i.length;C++){e:{var L=this.i[C];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break e}L=void 0}if(L===void 0)break;if(A+=L,4096<A){A=C;break t}if(A===4096||C===this.i.length-1){A=C+1;break t}}A=1e3}else A=1e3;A=Pt(this,ot,A),C=Ir(this.I),an(C,"RID",h),an(C,"CVER",22),this.D&&an(C,"X-HTTP-Session-Id",this.D),St(this,C),gt&&(this.O?A="headers="+encodeURIComponent(String(Ba(gt)))+"&"+A:this.m&&Pn(C,this.m,gt)),Li(this.h,ot),this.Ua&&an(C,"TYPE","init"),this.P?(an(C,"$req",A),an(C,"SID","null"),ot.T=!0,ti(ot,C,null)):ti(ot,C,A),this.G=2}}else this.G==3&&(h?Vt(this,h):this.i.length==0||qs(this.h)||Vt(this))};function Vt(h,A){var C;A?C=A.l:C=h.U++;const L=Ir(h.I);an(L,"SID",h.K),an(L,"RID",C),an(L,"AID",h.T),St(h,L),h.m&&h.o&&Pn(L,h.m,h.o),C=new pe(h,h.j,C,h.B+1),h.m===null&&(C.H=h.o),A&&(h.i=A.D.concat(h.i)),A=Pt(h,C,1e3),C.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Li(h.h,C),ti(C,L,A)}function St(h,A){h.H&&se(h.H,function(C,L){an(A,L,C)}),h.l&&zs({},function(C,L){an(A,L,C)})}function Pt(h,A,C){C=Math.min(h.i.length,C);var L=h.l?d(h.l.Na,h.l,h):null;t:{var ot=h.i;let gt=-1;for(;;){const Bt=["count="+C];gt==-1?0<C?(gt=ot[0].g,Bt.push("ofs="+gt)):gt=0:Bt.push("ofs="+gt);let te=!0;for(let gn=0;gn<C;gn++){let Pe=ot[gn].g;const Hn=ot[gn].map;if(Pe-=gt,0>Pe)gt=Math.max(0,ot[gn].g-100),te=!1;else try{qi(Hn,Bt,"req"+Pe+"_")}catch{L&&L(Hn)}}if(te){L=Bt.join("&");break t}}}return h=h.i.splice(0,C),A.D=h,L}function me(h){if(!h.g&&!h.u){h.Y=1;var A=h.Fa;zt||Y(),oe||(zt(),oe=!0),Oe.add(A,h),h.v=0}}function $t(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=cn(d(h.Fa,h),Yt(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,mr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=cn(d(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),z(this),mr(this))};function fe(h){h.A!=null&&(E.clearTimeout(h.A),h.A=null)}function mr(h){h.g=new pe(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var A=Ir(h.qa);an(A,"RID","rpc"),an(A,"SID",h.K),an(A,"AID",h.T),an(A,"CI",h.F?"0":"1"),!h.F&&h.ja&&an(A,"TO",h.ja),an(A,"TYPE","xmlhttp"),St(h,A),h.m&&h.o&&Pn(A,h.m,h.o),h.L&&(h.g.I=h.L);var C=h.g;h=h.ia,C.L=1,C.v=ri(Ir(A)),C.m=null,C.P=!0,ei(C,h)}i.Za=function(){this.C!=null&&(this.C=null,z(this),$t(this),mn(19))};function Un(h){h.C!=null&&(E.clearTimeout(h.C),h.C=null)}function Hi(h,A){var C=null;if(h.g==A){Un(h),fe(h),h.g=null;var L=2}else if(es(h.h,A))C=A.D,pr(h.h,A),L=1;else return;if(h.G!=0){if(A.o)if(L==1){C=A.m?A.m.length:0,A=Date.now()-A.F;var ot=h.B;L=_i(),Ke(L,new On(L,C)),at(h)}else me(h);else if(ot=A.s,ot==3||ot==0&&0<A.X||!(L==1&&ut(h,A)||L==2&&$t(h)))switch(C&&0<C.length&&(A=h.h,A.i=A.i.concat(C)),ot){case 1:ae(h,5);break;case 4:ae(h,10);break;case 3:ae(h,6);break;default:ae(h,2)}}}function Yt(h,A){let C=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(C*=2),C*A}function ae(h,A){if(h.j.info("Error code "+A),A==2){var C=d(h.fb,h),L=h.Xa;const ot=!L;L=new sn(L||"//www.google.com/images/cleardot.gif"),E.location&&E.location.protocol=="http"||Pi(L,"https"),ri(L),ot?ws(L.toString(),C):Ei(L.toString(),C)}else mn(2);h.G=0,h.l&&h.l.sa(A),Ee(h),st(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function Ee(h){if(h.G=0,h.ka=[],h.l){const A=jr(h.h);(A.length!=0||h.i.length!=0)&&(_t(h.ka,A),_t(h.ka,h.i),h.h.i.length=0,dt(h.i),h.i.length=0),h.l.ra()}}function Se(h,A,C){var L=C instanceof sn?Ir(C):new sn(C);if(L.g!="")A&&(L.g=A+"."+L.g),ni(L,L.s);else{var ot=E.location;L=ot.protocol,A=A?A+"."+ot.hostname:ot.hostname,ot=+ot.port;var gt=new sn(null);L&&Pi(gt,L),A&&(gt.g=A),ot&&ni(gt,ot),C&&(gt.l=C),L=gt}return C=h.D,A=h.ya,C&&A&&an(L,C,A),an(L,"VER",h.la),St(h,L),L}function ir(h,A,C){if(A&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=h.Ca&&!h.pa?new Be(new Es({eb:C})):new Be(h.pa),A.Ha(h.J),A}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gs(){}i=Gs.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function gr(){}gr.prototype.g=function(h,A){return new Mn(h,A)};function Mn(h,A){Sn.call(this),this.g=new I(A),this.l=h,this.h=A&&A.messageUrlParams||null,h=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(h?h["X-WebChannel-Content-Type"]=A.messageContentType:h={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(h?h["X-WebChannel-Client-Profile"]=A.va:h={"X-WebChannel-Client-Profile":A.va}),this.g.S=h,(h=A&&A.Sb)&&!Tt(h)&&(this.g.m=h),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!Tt(A)&&(this.g.D=A,h=this.h,h!==null&&A in h&&(h=this.h,A in h&&delete h[A])),this.j=new wn(this)}nt(Mn,Sn),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){V(this.g)},Mn.prototype.o=function(h){var A=this.g;if(typeof h=="string"){var C={};C.__data__=h,h=C}else this.u&&(C={},C.__data__=Dn(h),h=C);A.i.push(new Pa(A.Ya++,h)),A.G==3&&at(A)},Mn.prototype.N=function(){this.g.l=null,delete this.j,V(this.g),delete this.g,Mn.aa.N.call(this)};function yr(h){Ki.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var A=h.__sm__;if(A){t:{for(const C in A){h=C;break t}h=void 0}(this.i=h)&&(h=this.i,A=A!==null&&h in A?A[h]:void 0),this.data=A}else this.data=h}nt(yr,Ki);function _r(){ha.call(this),this.status=1}nt(_r,ha);function wn(h){this.g=h}nt(wn,Gs),wn.prototype.ua=function(){Ke(this.g,"a")},wn.prototype.ta=function(h){Ke(this.g,new yr(h))},wn.prototype.sa=function(h){Ke(this.g,new _r)},wn.prototype.ra=function(){Ke(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,HE=function(){return new gr},zE=function(){return _i()},qE=Mi,tg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,rd=Cr,hr.COMPLETE="complete",BE=hr,ys.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",Sn.prototype.listen=Sn.prototype.K,lf=ys,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,jE=Be}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",L0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Hg("@firebase/firestore");function rc(){return vu.logLevel}function Wt(i,...t){if(vu.logLevel<=nn.DEBUG){const n=t.map(Gg);vu.debug(`Firestore (${vc}): ${i}`,...n)}}function Bo(i,...t){if(vu.logLevel<=nn.ERROR){const n=t.map(Gg);vu.error(`Firestore (${vc}): ${i}`,...n)}}function dc(i,...t){if(vu.logLevel<=nn.WARN){const n=t.map(Gg);vu.warn(`Firestore (${vc}): ${i}`,...n)}}function Gg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,FE(i,s,n)}function FE(i,t,n){let s=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Bo(s),new Error(s)}function dn(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||FE(t,o,s)}function De(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends Ul{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ii.UNAUTHENTICATED)))}shutdown(){}}class _x{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vx{constructor(t){this.t=t,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){dn(this.o===void 0,42304);let s=this.i;const o=S=>this.i!==s?(s=this.i,n(S)):Promise.resolve();let c=new xl;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xl,t.enqueueRetryable((()=>o(this.currentUser)))};const y=()=>{const S=c;t.enqueueRetryable((async()=>{await S.promise,await o(this.currentUser)}))},E=S=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.o&&(this.auth.addAuthTokenListener(this.o),y())};this.t.onInit((S=>E(S))),setTimeout((()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?E(S):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xl)}}),0),y()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(dn(typeof s.accessToken=="string",31837,{l:s}),new $E(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return dn(t===null||typeof t=="string",2055,{h:t}),new Ii(t)}}class wx{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ex{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new wx(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ii.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tx{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tx(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){dn(this.o===void 0,3512);const s=c=>{c.error!=null&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const y=c.token!==this.m;return this.m=c.token,Wt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const o=c=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(dn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new P0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ax(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function Xe(i,t){return i<t?-1:i>t?1:0}function eg(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=t.charAt(s);if(o!==c)return Im(o)===Im(c)?Xe(o,c):Im(o)?1:-1}return Xe(i.length,t.length)}const bx=55296,Sx=57343;function Im(i){const t=i.charCodeAt(0);return t>=bx&&t<=Sx}function pc(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="__name__";class io{constructor(t,n,s){n===void 0?n=0:n>t.length&&Ae(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Ae(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return io.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof io?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=io.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return Xe(t.length,n.length)}static compareSegments(t,n){const s=io.isNumericId(t),o=io.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?io.extractNumericId(t).compare(io.extractNumericId(n)):eg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Rl.fromString(t.substring(4,t.length-2))}}class Ln extends io{construct(t,n,s){return new Ln(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new Jt(Nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Ln(n)}static emptyPath(){return new Ln([])}}const Rx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends io{construct(t,n,s){return new pi(t,n,s)}static isValidIdentifier(t){return Rx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pi.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U0}static keyField(){return new pi([U0])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Jt(Nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let y=!1;for(;o<t.length;){const E=t[o];if(E==="\\"){if(o+1===t.length)throw new Jt(Nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const S=t[o+1];if(S!=="\\"&&S!=="."&&S!=="`")throw new Jt(Nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=S,o+=2}else E==="`"?(y=!y,o++):E!=="."||y?(s+=E,o++):(c(),o++)}if(c(),y)throw new Jt(Nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pi(n)}static emptyPath(){return new pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.path=t}static fromPath(t){return new ce(Ln.fromString(t))}static fromName(t){return new ce(Ln.fromString(t).popFirst(5))}static empty(){return new ce(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ln.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ln.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ce(new Ln(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(i,t,n){if(!n)throw new Jt(Nt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function xx(i,t,n,s){if(t===!0&&s===!0)throw new Jt(Nt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function j0(i){if(!ce.isDocumentKey(i))throw new Jt(Nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function B0(i){if(ce.isDocumentKey(i))throw new Jt(Nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function QE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Hd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function Cl(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Jt(Nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hd(i);throw new Jt(Nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(i,t){const n={typeString:i};return t&&(n.value=t),n}function qf(i,t){if(!QE(i))throw new Jt(Nt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const y=i[s];if(o&&typeof y!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&y!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new Jt(Nt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=-62135596800,z0=1e6;class Bn{static now(){return Bn.fromMillis(Date.now())}static fromDate(t){return Bn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*z0);return new Bn(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Jt(Nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Jt(Nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<q0)throw new Jt(Nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jt(Nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(t){return this.seconds===t.seconds?Xe(this.nanoseconds,t.nanoseconds):Xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qf(t,Bn._jsonSchema))return new Bn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-q0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bn._jsonSchemaVersion="firestore/timestamp/1.0",Bn._jsonSchema={type:Ar("string",Bn._jsonSchemaVersion),seconds:Ar("number"),nanoseconds:Ar("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(t){return new Ne(t)}static min(){return new Ne(new Bn(0,0))}static max(){return new Ne(new Bn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=-1;function Cx(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new Bn(n+1,0):new Bn(n,s));return new Ol(o,ce.empty(),t)}function Ix(i){return new Ol(i.readTime,i.key,Mf)}class Ol{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ol(Ne.min(),ce.empty(),Mf)}static max(){return new Ol(Ne.max(),ce.empty(),Mf)}}function Nx(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=ce.comparator(i.documentKey,t.documentKey),n!==0?n:Xe(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(i){if(i.code!==Nt.FAILED_PRECONDITION||i.message!==Dx)throw i;Wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ot(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Ot?n:Ot.resolve(n)}catch(n){return Ot.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Ot.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Ot.reject(n)}static resolve(t){return new Ot(((n,s)=>{n(t)}))}static reject(t){return new Ot(((n,s)=>{s(t)}))}static waitFor(t){return new Ot(((n,s)=>{let o=0,c=0,y=!1;t.forEach((E=>{++o,E.next((()=>{++c,y&&c===o&&n()}),(S=>s(S)))})),y=!0,c===o&&n()}))}static or(t){let n=Ot.resolve(!1);for(const s of t)n=n.next((o=>o?Ot.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(t,n){return new Ot(((s,o)=>{const c=t.length,y=new Array(c);let E=0;for(let S=0;S<c;S++){const R=S;n(t[R]).next((O=>{y[R]=O,++E,E===c&&s(y)}),(O=>o(O)))}}))}static doWhile(t,n){return new Ot(((s,o)=>{const c=()=>{t()===!0?n().next((()=>{c()}),o):s()};c()}))}}function Mx(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ec(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Fd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=-1;function $d(i){return i==null}function Td(i){return i===0&&1/i==-1/0}function Vx(i){return typeof i=="number"&&Number.isInteger(i)&&!Td(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="";function kx(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=H0(t)),t=Lx(i.get(n),t);return H0(t)}function Lx(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case XE:n+="";break;default:n+=c}}return n}function H0(i){return i+XE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function bu(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function YE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,n){this.comparator=t,this.root=n||di.EMPTY}insert(t,n){return new Jn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,di.BLACK,null,null))}remove(t){return new Jn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,di.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gh(this.root,t,this.comparator,!0)}}class Gh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class di{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??di.RED,this.left=o??di.EMPTY,this.right=c??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new di(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return di.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ae(27949);return t+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1;di.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(t,n,s,o,c){return this}insert(t,n,s){return new di(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.comparator=t,this.data=new Jn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(t){return new $0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Pr)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Pr(this.comparator);return n.data=t,n}}class $0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t){this.fields=t,t.sort(pi.comparator)}static empty(){return new Oa([])}unionWith(t){let n=new Pr(pi.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Oa(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return pc(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new KE("Invalid base64 string: "+c):c}})(t);return new mi(n)}static fromUint8Array(t){const n=(function(o){let c="";for(let y=0;y<o.length;++y)c+=String.fromCharCode(o[y]);return c})(t);return new mi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const Px=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(i){if(dn(!!i,39018),typeof i=="string"){let t=0;const n=Px.exec(i);if(dn(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ur(i.seconds),nanos:ur(i.nanos)}}function ur(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Vl(i){return typeof i=="string"?mi.fromBase64String(i):mi.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="server_timestamp",JE="__type__",ZE="__previous_value__",tT="__local_write_time__";function Yg(i){return(i?.mapValue?.fields||{})[JE]?.stringValue===WE}function Gd(i){const t=i.mapValue.fields[ZE];return Yg(t)?Gd(t):t}function Vf(i){const t=Ml(i.mapValue.fields[tT].timestampValue);return new Bn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t,n,s,o,c,y,E,S,R,O){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=y,this.autoDetectLongPolling=E,this.longPollingOptions=S,this.useFetchStreams=R,this.isUsingEmulator=O}}const ng="(default)";class kf{constructor(t,n){this.projectId=t,this.database=n||ng}static empty(){return new kf("","")}get isDefaultDatabase(){return this.database===ng}isEqual(t){return t instanceof kf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="__type__",jx="__max__",Qh={mapValue:{}},nT="__vector__",Ad="value";function kl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yg(i)?4:qx(i)?9007199254740991:Bx(i)?10:11:Ae(28295,{value:i})}function ho(i,t){if(i===t)return!0;const n=kl(i);if(n!==kl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Vf(i).isEqual(Vf(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const y=Ml(o.timestampValue),E=Ml(c.timestampValue);return y.seconds===E.seconds&&y.nanos===E.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,c){return Vl(o.bytesValue).isEqual(Vl(c.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,c){return ur(o.geoPointValue.latitude)===ur(c.geoPointValue.latitude)&&ur(o.geoPointValue.longitude)===ur(c.geoPointValue.longitude)})(i,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ur(o.integerValue)===ur(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const y=ur(o.doubleValue),E=ur(c.doubleValue);return y===E?Td(y)===Td(E):isNaN(y)&&isNaN(E)}return!1})(i,t);case 9:return pc(i.arrayValue.values||[],t.arrayValue.values||[],ho);case 10:case 11:return(function(o,c){const y=o.mapValue.fields||{},E=c.mapValue.fields||{};if(F0(y)!==F0(E))return!1;for(const S in y)if(y.hasOwnProperty(S)&&(E[S]===void 0||!ho(y[S],E[S])))return!1;return!0})(i,t);default:return Ae(52216,{left:i})}}function Lf(i,t){return(i.values||[]).find((n=>ho(n,t)))!==void 0}function mc(i,t){if(i===t)return 0;const n=kl(i),s=kl(t);if(n!==s)return Xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(i.booleanValue,t.booleanValue);case 2:return(function(c,y){const E=ur(c.integerValue||c.doubleValue),S=ur(y.integerValue||y.doubleValue);return E<S?-1:E>S?1:E===S?0:isNaN(E)?isNaN(S)?0:-1:1})(i,t);case 3:return G0(i.timestampValue,t.timestampValue);case 4:return G0(Vf(i),Vf(t));case 5:return eg(i.stringValue,t.stringValue);case 6:return(function(c,y){const E=Vl(c),S=Vl(y);return E.compareTo(S)})(i.bytesValue,t.bytesValue);case 7:return(function(c,y){const E=c.split("/"),S=y.split("/");for(let R=0;R<E.length&&R<S.length;R++){const O=Xe(E[R],S[R]);if(O!==0)return O}return Xe(E.length,S.length)})(i.referenceValue,t.referenceValue);case 8:return(function(c,y){const E=Xe(ur(c.latitude),ur(y.latitude));return E!==0?E:Xe(ur(c.longitude),ur(y.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return Q0(i.arrayValue,t.arrayValue);case 10:return(function(c,y){const E=c.fields||{},S=y.fields||{},R=E[Ad]?.arrayValue,O=S[Ad]?.arrayValue,M=Xe(R?.values?.length||0,O?.values?.length||0);return M!==0?M:Q0(R,O)})(i.mapValue,t.mapValue);case 11:return(function(c,y){if(c===Qh.mapValue&&y===Qh.mapValue)return 0;if(c===Qh.mapValue)return 1;if(y===Qh.mapValue)return-1;const E=c.fields||{},S=Object.keys(E),R=y.fields||{},O=Object.keys(R);S.sort(),O.sort();for(let M=0;M<S.length&&M<O.length;++M){const d=eg(S[M],O[M]);if(d!==0)return d;const q=mc(E[S[M]],R[O[M]]);if(q!==0)return q}return Xe(S.length,O.length)})(i.mapValue,t.mapValue);default:throw Ae(23264,{he:n})}}function G0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Xe(i,t);const n=Ml(i),s=Ml(t),o=Xe(n.seconds,s.seconds);return o!==0?o:Xe(n.nanos,s.nanos)}function Q0(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=mc(n[o],s[o]);if(c)return c}return Xe(n.length,s.length)}function gc(i){return rg(i)}function rg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Ml(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Vl(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ce.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=rg(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const y of s)c?c=!1:o+=",",o+=`${y}:${rg(n.fields[y])}`;return o+"}"})(i.mapValue):Ae(61005,{value:i})}function id(i){switch(kl(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gd(i);return t?16+id(t):16;case 5:return 2*i.stringValue.length;case 6:return Vl(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+id(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return bu(s.fields,((c,y)=>{o+=c.length+id(y)})),o})(i.mapValue);default:throw Ae(13486,{value:i})}}function X0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function ig(i){return!!i&&"integerValue"in i}function Kg(i){return!!i&&"arrayValue"in i}function Y0(i){return!!i&&"nullValue"in i}function K0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function sd(i){return!!i&&"mapValue"in i}function Bx(i){return(i?.mapValue?.fields||{})[eT]?.stringValue===nT}function Af(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return bu(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Af(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Af(i.arrayValue.values[n]);return t}return{...i}}function qx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===jx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this.value=t}static empty(){return new ia({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!sd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Af(n)}setAll(t){let n=pi.emptyPath(),s={},o=[];t.forEach(((y,E)=>{if(!n.isImmediateParentOf(E)){const S=this.getFieldsMap(n);this.applyChanges(S,s,o),s={},o=[],n=E.popLast()}y?s[E.lastSegment()]=Af(y):o.push(E.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ho(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];sd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){bu(n,((o,c)=>t[o]=c));for(const o of s)delete t[o]}clone(){return new ia(Af(this.value))}}function rT(i){const t=[];return bu(i.fields,((n,s)=>{const o=new pi([n]);if(sd(s)){const c=rT(s.mapValue).fields;if(c.length===0)t.push(o);else for(const y of c)t.push(o.child(y))}else t.push(o)})),new Oa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t,n,s,o,c,y,E){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=y,this.documentState=E}static newInvalidDocument(t){return new Ni(t,0,Ne.min(),Ne.min(),Ne.min(),ia.empty(),0)}static newFoundDocument(t,n,s,o){return new Ni(t,1,n,Ne.min(),s,o,0)}static newNoDocument(t,n){return new Ni(t,2,n,Ne.min(),Ne.min(),ia.empty(),0)}static newUnknownDocument(t,n){return new Ni(t,3,n,Ne.min(),Ne.min(),ia.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ia.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ia.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ni&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,n){this.position=t,this.inclusive=n}}function W0(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const c=t[o],y=i.position[o];if(c.field.isKeyField()?s=ce.comparator(ce.fromName(y.referenceValue),n.key):s=mc(y,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function J0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ho(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,n="asc"){this.field=t,this.dir=n}}function zx(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class Tr extends iT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Fx(t,n,s):n==="array-contains"?new Qx(t,s):n==="in"?new Xx(t,s):n==="not-in"?new Yx(t,s):n==="array-contains-any"?new Kx(t,s):new Tr(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new $x(t,s):new Gx(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mc(n,this.value)):n!==null&&kl(this.value)===kl(n)&&this.matchesComparison(mc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ma extends iT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ma(t,n)}matches(t){return sT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sT(i){return i.op==="and"}function aT(i){return Hx(i)&&sT(i)}function Hx(i){for(const t of i.filters)if(t instanceof Ma)return!1;return!0}function sg(i){if(i instanceof Tr)return i.field.canonicalString()+i.op.toString()+gc(i.value);if(aT(i))return i.filters.map((t=>sg(t))).join(",");{const t=i.filters.map((n=>sg(n))).join(",");return`${i.op}(${t})`}}function oT(i,t){return i instanceof Tr?(function(s,o){return o instanceof Tr&&s.op===o.op&&s.field.isEqual(o.field)&&ho(s.value,o.value)})(i,t):i instanceof Ma?(function(s,o){return o instanceof Ma&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,y,E)=>c&&oT(y,o.filters[E])),!0):!1})(i,t):void Ae(19439)}function lT(i){return i instanceof Tr?(function(n){return`${n.field.canonicalString()} ${n.op} ${gc(n.value)}`})(i):i instanceof Ma?(function(n){return n.op.toString()+" {"+n.getFilters().map(lT).join(" ,")+"}"})(i):"Filter"}class Fx extends Tr{constructor(t,n,s){super(t,n,s),this.key=ce.fromName(s.referenceValue)}matches(t){const n=ce.comparator(t.key,this.key);return this.matchesComparison(n)}}class $x extends Tr{constructor(t,n){super(t,"in",n),this.keys=uT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Gx extends Tr{constructor(t,n){super(t,"not-in",n),this.keys=uT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function uT(i,t){return(t.arrayValue?.values||[]).map((n=>ce.fromName(n.referenceValue)))}class Qx extends Tr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Kg(n)&&Lf(n.arrayValue,this.value)}}class Xx extends Tr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Lf(this.value.arrayValue,n)}}class Yx extends Tr{constructor(t,n){super(t,"not-in",n)}matches(t){if(Lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lf(this.value.arrayValue,n)}}class Kx extends Tr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Lf(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n=null,s=[],o=[],c=null,y=null,E=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=y,this.endAt=E,this.Te=null}}function Z0(i,t=null,n=[],s=[],o=null,c=null,y=null){return new Wx(i,t,n,s,o,c,y)}function Wg(i){const t=De(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>sg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),$d(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>gc(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>gc(s))).join(",")),t.Te=n}return t.Te}function Jg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!zx(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!oT(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!J0(i.startAt,t.startAt)&&J0(i.endAt,t.endAt)}function ag(i){return ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,n=null,s=[],o=[],c=null,y="F",E=null,S=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=y,this.startAt=E,this.endAt=S,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Jx(i,t,n,s,o,c,y,E){return new zf(i,t,n,s,o,c,y,E)}function Zg(i){return new zf(i)}function tw(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function cT(i){return i.collectionGroup!==null}function bf(i){const t=De(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(y){let E=new Pr(pi.comparator);return y.filters.forEach((S=>{S.getFlattenedFilters().forEach((R=>{R.isInequality()&&(E=E.add(R.field))}))})),E})(t).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Sd(c,s))})),n.has(pi.keyField().canonicalString())||t.Ie.push(new Sd(pi.keyField(),s))}return t.Ie}function lo(i){const t=De(i);return t.Ee||(t.Ee=Zx(t,bf(i))),t.Ee}function Zx(i,t){if(i.limitType==="F")return Z0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Sd(o.field,c)}));const n=i.endAt?new bd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new bd(i.startAt.position,i.startAt.inclusive):null;return Z0(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function og(i,t){const n=i.filters.concat([t]);return new zf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function lg(i,t,n){return new zf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Qd(i,t){return Jg(lo(i),lo(t))&&i.limitType===t.limitType}function fT(i){return`${Wg(lo(i))}|lt:${i.limitType}`}function ic(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>lT(o))).join(", ")}]`),$d(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(y){return`${y.field.canonicalString()} (${y.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>gc(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>gc(o))).join(",")),`Target(${s})`})(lo(i))}; limitType=${i.limitType})`}function Xd(i,t){return t.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ce.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,t)&&(function(s,o){for(const c of bf(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(y,E,S){const R=W0(y,E,S);return y.inclusive?R<=0:R<0})(s.startAt,bf(s),o)||s.endAt&&!(function(y,E,S){const R=W0(y,E,S);return y.inclusive?R>=0:R>0})(s.endAt,bf(s),o))})(i,t)}function tC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hT(i){return(t,n)=>{let s=!1;for(const o of bf(i)){const c=eC(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function eC(i,t,n){const s=i.field.isKeyField()?ce.comparator(t.key,n.key):(function(c,y,E){const S=y.data.field(c),R=E.data.field(c);return S!==null&&R!==null?mc(S,R):Ae(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){bu(this.inner,((n,s)=>{for(const[o,c]of s)t(o,c)}))}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new Jn(ce.comparator);function qo(){return nC}const dT=new Jn(ce.comparator);function uf(...i){let t=dT;for(const n of i)t=t.insert(n.key,n);return t}function pT(i){let t=dT;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function du(){return Sf()}function mT(){return Sf()}function Sf(){return new Su((i=>i.toString()),((i,t)=>i.isEqual(t)))}const rC=new Jn(ce.comparator),iC=new Pr(ce.comparator);function Ye(...i){let t=iC;for(const n of i)t=t.add(n);return t}const sC=new Pr(Xe);function aC(){return sC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(t)?"-0":t}}function gT(i){return{integerValue:""+i}}function oC(i,t){return Vx(t)?gT(t):ty(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this._=void 0}}function lC(i,t,n){return i instanceof Rd?(function(o,c){const y={fields:{[JE]:{stringValue:WE},[tT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Yg(c)&&(c=Gd(c)),c&&(y.fields[ZE]=c),{mapValue:y}})(n,t):i instanceof Pf?_T(i,t):i instanceof Uf?vT(i,t):(function(o,c){const y=yT(o,c),E=ew(y)+ew(o.Ae);return ig(y)&&ig(o.Ae)?gT(E):ty(o.serializer,E)})(i,t)}function uC(i,t,n){return i instanceof Pf?_T(i,t):i instanceof Uf?vT(i,t):n}function yT(i,t){return i instanceof xd?(function(s){return ig(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Rd extends Yd{}class Pf extends Yd{constructor(t){super(),this.elements=t}}function _T(i,t){const n=wT(t);for(const s of i.elements)n.some((o=>ho(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Uf extends Yd{constructor(t){super(),this.elements=t}}function vT(i,t){let n=wT(t);for(const s of i.elements)n=n.filter((o=>!ho(o,s)));return{arrayValue:{values:n}}}class xd extends Yd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function ew(i){return ur(i.integerValue||i.doubleValue)}function wT(i){return Kg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function cC(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof Pf&&o instanceof Pf||s instanceof Uf&&o instanceof Uf?pc(s.elements,o.elements,ho):s instanceof xd&&o instanceof xd?ho(s.Ae,o.Ae):s instanceof Rd&&o instanceof Rd})(i.transform,t.transform)}class fC{constructor(t,n){this.version=t,this.transformResults=n}}class Po{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Po}static exists(t){return new Po(void 0,t)}static updateTime(t){return new Po(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ad(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Kd{}function ET(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new AT(i.key,Po.none()):new Hf(i.key,i.data,Po.none());{const n=i.data,s=ia.empty();let o=new Pr(pi.comparator);for(let c of t.fields)if(!o.has(c)){let y=n.field(c);y===null&&c.length>1&&(c=c.popLast(),y=n.field(c)),y===null?s.delete(c):s.set(c,y),o=o.add(c)}return new Ru(i.key,s,new Oa(o.toArray()),Po.none())}}function hC(i,t,n){i instanceof Hf?(function(o,c,y){const E=o.value.clone(),S=rw(o.fieldTransforms,c,y.transformResults);E.setAll(S),c.convertToFoundDocument(y.version,E).setHasCommittedMutations()})(i,t,n):i instanceof Ru?(function(o,c,y){if(!ad(o.precondition,c))return void c.convertToUnknownDocument(y.version);const E=rw(o.fieldTransforms,c,y.transformResults),S=c.data;S.setAll(TT(o)),S.setAll(E),c.convertToFoundDocument(y.version,S).setHasCommittedMutations()})(i,t,n):(function(o,c,y){c.convertToNoDocument(y.version).setHasCommittedMutations()})(0,t,n)}function Rf(i,t,n,s){return i instanceof Hf?(function(c,y,E,S){if(!ad(c.precondition,y))return E;const R=c.value.clone(),O=iw(c.fieldTransforms,S,y);return R.setAll(O),y.convertToFoundDocument(y.version,R).setHasLocalMutations(),null})(i,t,n,s):i instanceof Ru?(function(c,y,E,S){if(!ad(c.precondition,y))return E;const R=iw(c.fieldTransforms,S,y),O=y.data;return O.setAll(TT(c)),O.setAll(R),y.convertToFoundDocument(y.version,O).setHasLocalMutations(),E===null?null:E.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((M=>M.field)))})(i,t,n,s):(function(c,y,E){return ad(c.precondition,y)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):E})(i,t,n)}function dC(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),c=yT(s.transform,o||null);c!=null&&(n===null&&(n=ia.empty()),n.set(s.field,c))}return n||null}function nw(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&pc(s,o,((c,y)=>cC(c,y)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Hf extends Kd{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ru extends Kd{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function TT(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function rw(i,t,n){const s=new Map;dn(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],y=c.transform,E=t.data.field(c.field);s.set(c.field,uC(y,E,n[o]))}return s}function iw(i,t,n){const s=new Map;for(const o of i){const c=o.transform,y=n.data.field(o.field);s.set(o.field,lC(c,y,t))}return s}class AT extends Kd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends Kd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&hC(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Rf(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Rf(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=mT();return this.mutations.forEach((o=>{const c=t.get(o.key),y=c.overlayedDocument;let E=this.applyToLocalView(y,c.mutatedFields);E=n.has(o.key)?null:E;const S=ET(y,E);S!==null&&s.set(o.key,S),y.isValidDocument()||y.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ye())}isEqual(t){return this.batchId===t.batchId&&pc(this.mutations,t.mutations,((n,s)=>nw(n,s)))&&pc(this.baseMutations,t.baseMutations,((n,s)=>nw(n,s)))}}class ey{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){dn(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return rC})();const c=t.mutations;for(let y=0;y<c.length;y++)o=o.insert(c[y].key,s[y].version);return new ey(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er,en;function _C(i){switch(i){case Nt.OK:return Ae(64938);case Nt.CANCELLED:case Nt.UNKNOWN:case Nt.DEADLINE_EXCEEDED:case Nt.RESOURCE_EXHAUSTED:case Nt.INTERNAL:case Nt.UNAVAILABLE:case Nt.UNAUTHENTICATED:return!1;case Nt.INVALID_ARGUMENT:case Nt.NOT_FOUND:case Nt.ALREADY_EXISTS:case Nt.PERMISSION_DENIED:case Nt.FAILED_PRECONDITION:case Nt.ABORTED:case Nt.OUT_OF_RANGE:case Nt.UNIMPLEMENTED:case Nt.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function bT(i){if(i===void 0)return Bo("GRPC error has no .code"),Nt.UNKNOWN;switch(i){case Er.OK:return Nt.OK;case Er.CANCELLED:return Nt.CANCELLED;case Er.UNKNOWN:return Nt.UNKNOWN;case Er.DEADLINE_EXCEEDED:return Nt.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return Nt.RESOURCE_EXHAUSTED;case Er.INTERNAL:return Nt.INTERNAL;case Er.UNAVAILABLE:return Nt.UNAVAILABLE;case Er.UNAUTHENTICATED:return Nt.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return Nt.INVALID_ARGUMENT;case Er.NOT_FOUND:return Nt.NOT_FOUND;case Er.ALREADY_EXISTS:return Nt.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return Nt.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return Nt.FAILED_PRECONDITION;case Er.ABORTED:return Nt.ABORTED;case Er.OUT_OF_RANGE:return Nt.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return Nt.UNIMPLEMENTED;case Er.DATA_LOSS:return Nt.DATA_LOSS;default:return Ae(39323,{code:i})}}(en=Er||(Er={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new Rl([4294967295,4294967295],0);function sw(i){const t=vC().encode(i),n=new UE;return n.update(t),new Uint8Array(n.digest())}function aw(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Rl([n,s],0),new Rl([o,c],0)]}class ny{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new cf(`Invalid padding: ${n}`);if(s<0)throw new cf(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new cf(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new cf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Rl.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Rl.fromNumber(s)));return o.compare(wC)===1&&(o=new Rl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=sw(t),[s,o]=aw(n);for(let c=0;c<this.hashCount;c++){const y=this.ye(s,o,c);if(!this.we(y))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),y=new ny(c,o,n);return s.forEach((E=>y.insert(E))),y}insert(t){if(this.ge===0)return;const n=sw(t),[s,o]=aw(n);for(let c=0;c<this.hashCount;c++){const y=this.ye(s,o,c);this.Se(y)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class cf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Ff.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Wd(Ne.min(),o,new Jn(Xe),qo(),Ye())}}class Ff{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ff(s,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class ST{constructor(t,n){this.targetId=t,this.Ce=n}}class RT{constructor(t,n,s=mi.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class ow{constructor(){this.ve=0,this.Fe=lw(),this.Me=mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ye(),n=Ye(),s=Ye();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:c})}})),new Ff(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=lw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,dn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EC{constructor(t){this.Ge=t,this.ze=new Map,this.je=qo(),this.Je=Xh(),this.He=Xh(),this.Ye=new Jn(Xe)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Ae(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const c=o.target;if(ag(c))if(s===0){const y=new ce(c.path);this.et(n,y,Ni.newNoDocument(y,Ne.min()))}else dn(s===1,20013,{expectedCount:s});else{const y=this._t(n);if(y!==s){const E=this.ut(t),S=E?this.ct(E,t,y):1;if(S!==0){this.it(n);const R=S===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,R)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let y,E;try{y=Vl(s).toUint8Array()}catch(S){if(S instanceof KE)return dc("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw S}try{E=new ny(y,o,c)}catch(S){return dc(S instanceof cf?"BloomFilter error: ":"Applying bloom filter failed: ",S),null}return E.ge===0?null:E}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const y=this.Ge.ht(),E=`projects/${y.projectId}/databases/${y.database}/documents/${c.path.canonicalString()}`;t.mightContain(E)||(this.et(n,c,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((c,y)=>{const E=this.ot(y);if(E){if(c.current&&ag(E.target)){const S=new ce(E.target.path);this.It(S).has(y)||this.Et(y,S)||this.et(y,S,Ni.newNoDocument(S,t))}c.Be&&(n.set(y,c.ke()),c.qe())}}));let s=Ye();this.He.forEach(((c,y)=>{let E=!0;y.forEachWhile((S=>{const R=this.ot(S);return!R||R.purpose==="TargetPurposeLimboResolution"||(E=!1,!1)})),E&&(s=s.add(c))})),this.je.forEach(((c,y)=>y.setReadTime(t)));const o=new Wd(t,n,this.Ye,this.je,s);return this.je=qo(),this.Je=Xh(),this.He=Xh(),this.Ye=new Jn(Xe),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new ow,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Pr(Xe),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Pr(Xe),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Wt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ow),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Xh(){return new Jn(ce.comparator)}function lw(){return new Jn(ce.comparator)}const TC={asc:"ASCENDING",desc:"DESCENDING"},AC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bC={and:"AND",or:"OR"};class SC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ug(i,t){return i.useProto3Json||$d(t)?t:{value:t}}function Cd(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xT(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function RC(i,t){return Cd(i,t.toTimestamp())}function uo(i){return dn(!!i,49232),Ne.fromTimestamp((function(n){const s=Ml(n);return new Bn(s.seconds,s.nanos)})(i))}function ry(i,t){return cg(i,t).canonicalString()}function cg(i,t){const n=(function(o){return new Ln(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function CT(i){const t=Ln.fromString(i);return dn(MT(t),10190,{key:t.toString()}),t}function fg(i,t){return ry(i.databaseId,t.path)}function Nm(i,t){const n=CT(t);if(n.get(1)!==i.databaseId.projectId)throw new Jt(Nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Jt(Nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ce(NT(n))}function IT(i,t){return ry(i.databaseId,t)}function xC(i){const t=CT(i);return t.length===4?Ln.emptyPath():NT(t)}function hg(i){return new Ln(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function NT(i){return dn(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function uw(i,t,n){return{name:fg(i,t),fields:n.value.mapValue.fields}}function CC(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(R){return R==="NO_CHANGE"?0:R==="ADD"?1:R==="REMOVE"?2:R==="CURRENT"?3:R==="RESET"?4:Ae(39313,{state:R})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(R,O){return R.useProto3Json?(dn(O===void 0||typeof O=="string",58123),mi.fromBase64String(O||"")):(dn(O===void 0||O instanceof Buffer||O instanceof Uint8Array,16193),mi.fromUint8Array(O||new Uint8Array))})(i,t.targetChange.resumeToken),y=t.targetChange.cause,E=y&&(function(R){const O=R.code===void 0?Nt.UNKNOWN:bT(R.code);return new Jt(O,R.message||"")})(y);n=new RT(s,o,c,E||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Nm(i,s.document.name),c=uo(s.document.updateTime),y=s.document.createTime?uo(s.document.createTime):Ne.min(),E=new ia({mapValue:{fields:s.document.fields}}),S=Ni.newFoundDocument(o,c,y,E),R=s.targetIds||[],O=s.removedTargetIds||[];n=new od(R,O,S.key,S)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Nm(i,s.document),c=s.readTime?uo(s.readTime):Ne.min(),y=Ni.newNoDocument(o,c),E=s.removedTargetIds||[];n=new od([],E,y.key,y)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Nm(i,s.document),c=s.removedTargetIds||[];n=new od([],c,o,null)}else{if(!("filter"in t))return Ae(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,y=new yC(o,c),E=s.targetId;n=new ST(E,y)}}return n}function IC(i,t){let n;if(t instanceof Hf)n={update:uw(i,t.key,t.value)};else if(t instanceof AT)n={delete:fg(i,t.key)};else if(t instanceof Ru)n={update:uw(i,t.key,t.data),updateMask:UC(t.fieldMask)};else{if(!(t instanceof pC))return Ae(16599,{Vt:t.type});n={verify:fg(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(c,y){const E=y.transform;if(E instanceof Rd)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Pf)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Uf)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof xd)return{fieldPath:y.field.canonicalString(),increment:E.Ae};throw Ae(20930,{transform:y.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:RC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(i,t.precondition)),n}function NC(i,t){return i&&i.length>0?(dn(t!==void 0,14353),i.map((n=>(function(o,c){let y=o.updateTime?uo(o.updateTime):uo(c);return y.isEqual(Ne.min())&&(y=uo(c)),new fC(y,o.transformResults||[])})(n,t)))):[]}function DC(i,t){return{documents:[IT(i,t.path)]}}function OC(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IT(i,o);const c=(function(R){if(R.length!==0)return OT(Ma.create(R,"and"))})(t.filters);c&&(n.structuredQuery.where=c);const y=(function(R){if(R.length!==0)return R.map((O=>(function(d){return{field:sc(d.field),direction:kC(d.dir)}})(O)))})(t.orderBy);y&&(n.structuredQuery.orderBy=y);const E=ug(i,t.limit);return E!==null&&(n.structuredQuery.limit=E),t.startAt&&(n.structuredQuery.startAt=(function(R){return{before:R.inclusive,values:R.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(R){return{before:!R.inclusive,values:R.position}})(t.endAt)),{ft:n,parent:o}}function MC(i){let t=xC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){dn(s===1,65062);const O=n.from[0];O.allDescendants?o=O.collectionId:t=t.child(O.collectionId)}let c=[];n.where&&(c=(function(M){const d=DT(M);return d instanceof Ma&&aT(d)?d.getFilters():[d]})(n.where));let y=[];n.orderBy&&(y=(function(M){return M.map((d=>(function(nt){return new Sd(ac(nt.field),(function(_t){switch(_t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(nt.direction))})(d)))})(n.orderBy));let E=null;n.limit&&(E=(function(M){let d;return d=typeof M=="object"?M.value:M,$d(d)?null:d})(n.limit));let S=null;n.startAt&&(S=(function(M){const d=!!M.before,q=M.values||[];return new bd(q,d)})(n.startAt));let R=null;return n.endAt&&(R=(function(M){const d=!M.before,q=M.values||[];return new bd(q,d)})(n.endAt)),Jx(t,o,y,c,E,"F",S,R)}function VC(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function DT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ac(n.unaryFilter.field);return Tr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ac(n.unaryFilter.field);return Tr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ac(n.unaryFilter.field);return Tr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=ac(n.unaryFilter.field);return Tr.create(y,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Tr.create(ac(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ma.create(n.compositeFilter.filters.map((s=>DT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(i):Ae(30097,{filter:i})}function kC(i){return TC[i]}function LC(i){return AC[i]}function PC(i){return bC[i]}function sc(i){return{fieldPath:i.canonicalString()}}function ac(i){return pi.fromServerFormat(i.fieldPath)}function OT(i){return i instanceof Tr?(function(n){if(n.op==="=="){if(K0(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NAN"}};if(Y0(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K0(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NAN"}};if(Y0(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(n.field),op:LC(n.op),value:n.value}}})(i):i instanceof Ma?(function(n){const s=n.getFilters().map((o=>OT(o)));return s.length===1?s[0]:{compositeFilter:{op:PC(n.op),filters:s}}})(i):Ae(54877,{filter:i})}function UC(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function MT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t,n,s,o,c=Ne.min(),y=Ne.min(),E=mi.EMPTY_BYTE_STRING,S=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=E,this.expectedCount=S}withSequenceNumber(t){return new Tl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.yt=t}}function BC(i){const t=MC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.Cn=new zC}addToCollectionParentIndex(t,n){return this.Cn.add(n),Ot.resolve()}getCollectionParents(t,n){return Ot.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Ot.resolve()}deleteFieldIndex(t,n){return Ot.resolve()}deleteAllFieldIndexes(t){return Ot.resolve()}createTargetIndexes(t,n){return Ot.resolve()}getDocumentsMatchingTarget(t,n){return Ot.resolve(null)}getIndexType(t,n){return Ot.resolve(0)}getFieldIndexes(t,n){return Ot.resolve([])}getNextCollectionGroupToUpdate(t){return Ot.resolve(null)}getMinOffset(t,n){return Ot.resolve(Ol.min())}getMinOffsetFromCollectionGroup(t,n){return Ot.resolve(Ol.min())}updateCollectionGroup(t,n,s){return Ot.resolve()}updateIndexEntries(t,n){return Ot.resolve()}}class zC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Pr(Ln.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Pr(Ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class fs{static withCacheSize(t){return new fs(t,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(VT,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new yc(0)}static cr(){return new yc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="LruGarbageCollector",HC=1048576;function hw([i,t],[n,s]){const o=Xe(i,n);return o===0?Xe(t,s):o}class FC{constructor(t){this.Ir=t,this.buffer=new Pr(hw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();hw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $C{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Wt(fw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ec(n)?Wt(fw,"Ignoring IndexedDB error during garbage collection: ",n):await wc(n)}await this.Vr(3e5)}))}}class GC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return Ot.resolve(Fd.ce);const s=new FC(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Wt("LruGarbageCollector","Garbage collection skipped; disabled"),Ot.resolve(cw)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cw):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,c,y,E,S,R;const O=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((M=>(M>this.params.maximumSequenceNumbersToCollect?(Wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),o=this.params.maximumSequenceNumbersToCollect):o=M,y=Date.now(),this.nthSequenceNumber(t,o)))).next((M=>(s=M,E=Date.now(),this.removeTargets(t,s,n)))).next((M=>(c=M,S=Date.now(),this.removeOrphanedDocuments(t,s)))).next((M=>(R=Date.now(),rc()<=nn.DEBUG&&Wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${y-O}ms
	Determined least recently used ${o} in `+(E-y)+`ms
	Removed ${c} targets in `+(S-E)+`ms
	Removed ${M} documents in `+(R-S)+`ms
Total Duration: ${R-O}ms`),Ot.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:M}))))}}function QC(i,t){return new GC(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.changes=new Su((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ni.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Ot.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Rf(s.mutation,o,Oa.empty(),Bn.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ye()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ye()){const o=du();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((c=>{let y=uf();return c.forEach(((E,S)=>{y=y.insert(E,S.overlayedDocument)})),y}))))}getOverlayedDocuments(t,n){const s=du();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ye())))}populateOverlays(t,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((y,E)=>{n.set(y,E)}))}))}computeViews(t,n,s,o){let c=qo();const y=Sf(),E=(function(){return Sf()})();return n.forEach(((S,R)=>{const O=s.get(R.key);o.has(R.key)&&(O===void 0||O.mutation instanceof Ru)?c=c.insert(R.key,R):O!==void 0?(y.set(R.key,O.mutation.getFieldMask()),Rf(O.mutation,R,O.mutation.getFieldMask(),Bn.now())):y.set(R.key,Oa.empty())})),this.recalculateAndSaveOverlays(t,c).next((S=>(S.forEach(((R,O)=>y.set(R,O))),n.forEach(((R,O)=>E.set(R,new YC(O,y.get(R)??null)))),E)))}recalculateAndSaveOverlays(t,n){const s=Sf();let o=new Jn(((y,E)=>y-E)),c=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((y=>{for(const E of y)E.keys().forEach((S=>{const R=n.get(S);if(R===null)return;let O=s.get(S)||Oa.empty();O=E.applyToLocalView(R,O),s.set(S,O);const M=(o.get(E.batchId)||Ye()).add(S);o=o.insert(E.batchId,M)}))})).next((()=>{const y=[],E=o.getReverseIterator();for(;E.hasNext();){const S=E.getNext(),R=S.key,O=S.value,M=mT();O.forEach((d=>{if(!c.has(d)){const q=ET(n.get(d),s.get(d));q!==null&&M.set(d,q),c=c.add(d)}})),y.push(this.documentOverlayCache.saveOverlays(t,R,M))}return Ot.waitFor(y)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(y){return ce.isDocumentKey(y.path)&&y.collectionGroup===null&&y.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):cT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((c=>{const y=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):Ot.resolve(du());let E=Mf,S=c;return y.next((R=>Ot.forEach(R,((O,M)=>(E<M.largestBatchId&&(E=M.largestBatchId),c.get(O)?Ot.resolve():this.remoteDocumentCache.getEntry(t,O).next((d=>{S=S.insert(O,d)}))))).next((()=>this.populateOverlays(t,R,c))).next((()=>this.computeViews(t,S,R,Ye()))).next((O=>({batchId:E,changes:pT(O)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ce(n)).next((s=>{let o=uf();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let y=uf();return this.indexManager.getCollectionParents(t,c).next((E=>Ot.forEach(E,(S=>{const R=(function(M,d){return new zf(d,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)})(n,S.child(c));return this.getDocumentsMatchingCollectionQuery(t,R,s,o).next((O=>{O.forEach(((M,d)=>{y=y.insert(M,d)}))}))})).next((()=>y))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((y=>(c=y,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o)))).next((y=>{c.forEach(((S,R)=>{const O=R.getKey();y.get(O)===null&&(y=y.insert(O,Ni.newInvalidDocument(O)))}));let E=uf();return y.forEach(((S,R)=>{const O=c.get(S);O!==void 0&&Rf(O.mutation,R,Oa.empty(),Bn.now()),Xd(n,R)&&(E=E.insert(S,R))})),E}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Ot.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:uo(o.createTime)}})(n)),Ot.resolve()}getNamedQuery(t,n){return Ot.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:BC(o.bundledQuery),readTime:uo(o.readTime)}})(n)),Ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.overlays=new Jn(ce.comparator),this.qr=new Map}getOverlay(t,n){return Ot.resolve(this.overlays.get(n))}getOverlays(t,n){const s=du();return Ot.forEach(n,(o=>this.getOverlay(t,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,c)=>{this.St(t,n,c)})),Ot.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Ot.resolve()}getOverlaysForCollection(t,n,s){const o=du(),c=n.length+1,y=new ce(n.child("")),E=this.overlays.getIteratorFrom(y);for(;E.hasNext();){const S=E.getNext().value,R=S.getKey();if(!n.isPrefixOf(R.path))break;R.path.length===c&&S.largestBatchId>s&&o.set(S.getKey(),S)}return Ot.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new Jn(((R,O)=>R-O));const y=this.overlays.getIterator();for(;y.hasNext();){const R=y.getNext().value;if(R.getKey().getCollectionGroup()===n&&R.largestBatchId>s){let O=c.get(R.largestBatchId);O===null&&(O=du(),c=c.insert(R.largestBatchId,O)),O.set(R.getKey(),R)}}const E=du(),S=c.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach(((R,O)=>E.set(R,O))),!(E.size()>=o)););return Ot.resolve(E)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const y=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new gC(n,s));let c=this.qr.get(n);c===void 0&&(c=Ye(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.sessionToken=mi.EMPTY_BYTE_STRING}getSessionToken(t){return Ot.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.Qr=new Pr(Wr.$r),this.Ur=new Pr(Wr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Wr(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Wr(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new ce(new Ln([])),s=new Wr(n,t),o=new Wr(n,t+1),c=[];return this.Ur.forEachInRange([s,o],(y=>{this.Gr(y),c.push(y.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ce(new Ln([])),s=new Wr(n,t),o=new Wr(n,t+1);let c=Ye();return this.Ur.forEachInRange([s,o],(y=>{c=c.add(y.key)})),c}containsKey(t){const n=new Wr(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Wr{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ce.comparator(t.key,n.key)||Xe(t.Yr,n.Yr)}static Kr(t,n){return Xe(t.Yr,n.Yr)||ce.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pr(Wr.$r)}checkEmpty(t){return Ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const y=new mC(c,n,s,o);this.mutationQueue.push(y);for(const E of o)this.Zr=this.Zr.add(new Wr(E.key,c)),this.indexManager.addToCollectionParentIndex(t,E.key.path.popLast());return Ot.resolve(y)}lookupMutationBatch(t,n){return Ot.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return Ot.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ot.resolve(this.mutationQueue.length===0?Xg:this.tr-1)}getAllMutationBatches(t){return Ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Wr(n,0),o=new Wr(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(y=>{const E=this.Xr(y.Yr);c.push(E)})),Ot.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Pr(Xe);return n.forEach((o=>{const c=new Wr(o,0),y=new Wr(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,y],(E=>{s=s.add(E.Yr)}))})),Ot.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;ce.isDocumentKey(c)||(c=c.child(""));const y=new Wr(new ce(c),0);let E=new Pr(Xe);return this.Zr.forEachWhile((S=>{const R=S.key.path;return!!s.isPrefixOf(R)&&(R.length===o&&(E=E.add(S.Yr)),!0)}),y),Ot.resolve(this.ti(E))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){dn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Ot.forEach(n.mutations,(o=>{const c=new Wr(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Wr(n,0),o=this.Zr.firstAfterOrEqual(s);return Ot.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ot.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.ri=t,this.docs=(function(){return new Jn(ce.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,y=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:y}),this.size+=y-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Ot.resolve(s?s.document.mutableCopy():Ni.newInvalidDocument(n))}getEntries(t,n){let s=qo();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ni.newInvalidDocument(o))})),Ot.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=qo();const y=n.path,E=new ce(y.child("__id-9223372036854775808__")),S=this.docs.getIteratorFrom(E);for(;S.hasNext();){const{key:R,value:{document:O}}=S.getNext();if(!y.isPrefixOf(R.path))break;R.path.length>y.length+1||Nx(Ix(O),s)<=0||(o.has(O.key)||Xd(n,O))&&(c=c.insert(O.key,O.mutableCopy()))}return Ot.resolve(c)}getAllFromCollectionGroup(t,n,s,o){Ae(9500)}ii(t,n){return Ot.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new n2(this)}getSize(t){return Ot.resolve(this.size)}}class n2 extends XC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),Ot.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.persistence=t,this.si=new Su((n=>Wg(n)),Jg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new iy,this.targetCount=0,this.ai=yc.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),Ot.resolve()}getLastRemoteSnapshotVersion(t){return Ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ot.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Ot.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Ot.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new yc(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Ot.resolve()}updateTargetData(t,n){return this.Pr(n),Ot.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ot.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.si.forEach(((y,E)=>{E.sequenceNumber<=n&&s.get(E.targetId)===null&&(this.si.delete(y),c.push(this.removeMatchingKeysForTargetId(t,E.targetId)),o++)})),Ot.waitFor(c).next((()=>o))}getTargetCount(t){return Ot.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return Ot.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),Ot.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((y=>{c.push(o.markPotentiallyOrphaned(t,y))})),Ot.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Ot.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return Ot.resolve(s)}containsKey(t,n){return Ot.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n){this.ui={},this.overlays={},this.ci=new Fd(0),this.li=!1,this.li=!0,this.hi=new ZC,this.referenceDelegate=t(this),this.Pi=new r2(this),this.indexManager=new qC,this.remoteDocumentCache=(function(o){return new e2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new jC(n),this.Ii=new WC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new JC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new t2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Wt("MemoryPersistence","Starting transaction:",t);const o=new i2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,n){return Ot.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class i2 extends Ox{constructor(t){super(),this.currentSequenceNumber=t}}class sy{constructor(t){this.persistence=t,this.Ri=new iy,this.Vi=null}static mi(t){return new sy(t)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Ot.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Ot.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Ot.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ot.forEach(this.fi,(s=>{const o=ce.fromPath(s);return this.gi(t,o).next((c=>{c||n.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Ot.or([()=>Ot.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Id{constructor(t,n){this.persistence=t,this.pi=new Su((s=>kx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=QC(this,n)}static mi(t,n){return new Id(t,n)}Ei(){}di(t){return Ot.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return Ot.forEach(this.pi,((s,o)=>this.br(t,s,o).next((c=>c?Ot.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(y=>this.br(t,y,n).next((E=>{E||(s++,c.removeEntry(y,Ne.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Ot.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Ot.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Ot.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Ot.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=id(t.data.value)),n}br(t,n,s){return Ot.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return Ot.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ye(),o=Ye();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ay(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KS()?8:Mx(QS())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.ys(t,n).next((y=>{c.result=y})).next((()=>{if(!c.result)return this.ws(t,n,o,s).next((y=>{c.result=y}))})).next((()=>{if(c.result)return;const y=new s2;return this.Ss(t,n,y).next((E=>{if(c.result=E,this.Vs)return this.bs(t,n,y,E.size)}))})).next((()=>c.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(rc()<=nn.DEBUG&&Wt("QueryEngine","SDK will not create cache indexes for query:",ic(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ot.resolve()):(rc()<=nn.DEBUG&&Wt("QueryEngine","Query:",ic(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(rc()<=nn.DEBUG&&Wt("QueryEngine","The SDK decides to create cache indexes for query:",ic(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lo(n))):Ot.resolve())}ys(t,n){if(tw(n))return Ot.resolve(null);let s=lo(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lg(n,null,"F"),s=lo(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const y=Ye(...c);return this.ps.getDocuments(t,y).next((E=>this.indexManager.getMinOffset(t,s).next((S=>{const R=this.Ds(n,E);return this.Cs(n,R,y,S.readTime)?this.ys(t,lg(n,null,"F")):this.vs(t,R,n,S)}))))})))))}ws(t,n,s,o){return tw(n)||o.isEqual(Ne.min())?Ot.resolve(null):this.ps.getDocuments(t,s).next((c=>{const y=this.Ds(n,c);return this.Cs(n,y,s,o)?Ot.resolve(null):(rc()<=nn.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ic(n)),this.vs(t,y,n,Cx(o,Mf)).next((E=>E)))}))}Ds(t,n){let s=new Pr(hT(t));return n.forEach(((o,c)=>{Xd(t,c)&&(s=s.add(c))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,n,s){return rc()<=nn.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",ic(n)),this.ps.getDocumentsMatchingQuery(t,n,Ol.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((c=>(n.forEach((y=>{c=c.insert(y.key,y)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="LocalStore",o2=3e8;class l2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Jn(Xe),this.xs=new Su((c=>Wg(c)),Jg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new KC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function u2(i,t,n,s){return new l2(i,t,n,s)}async function LT(i,t){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const y=[],E=[];let S=Ye();for(const R of o){y.push(R.batchId);for(const O of R.mutations)S=S.add(O.key)}for(const R of c){E.push(R.batchId);for(const O of R.mutations)S=S.add(O.key)}return n.localDocuments.getDocuments(s,S).next((R=>({Ls:R,removedBatchIds:y,addedBatchIds:E})))}))}))}function c2(i,t){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(E,S,R,O){const M=R.batch,d=M.keys();let q=Ot.resolve();return d.forEach((nt=>{q=q.next((()=>O.getEntry(S,nt))).next((dt=>{const _t=R.docVersions.get(nt);dn(_t!==null,48541),dt.version.compareTo(_t)<0&&(M.applyToRemoteDocument(dt,R),dt.isValidDocument()&&(dt.setReadTime(R.commitVersion),O.addEntry(dt)))}))})),q.next((()=>E.mutationQueue.removeMutationBatch(S,M)))})(n,s,t,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(E){let S=Ye();for(let R=0;R<E.mutationResults.length;++R)E.mutationResults[R].transformResults.length>0&&(S=S.add(E.batch.mutations[R].key));return S})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function PT(i){const t=De(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function f2(i,t){const n=De(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const y=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const E=[];t.targetChanges.forEach(((O,M)=>{const d=o.get(M);if(!d)return;E.push(n.Pi.removeMatchingKeys(c,O.removedDocuments,M).next((()=>n.Pi.addMatchingKeys(c,O.addedDocuments,M))));let q=d.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(M)!==null?q=q.withResumeToken(mi.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):O.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(O.resumeToken,s)),o=o.insert(M,q),(function(dt,_t,Ut){return dt.resumeToken.approximateByteSize()===0||_t.snapshotVersion.toMicroseconds()-dt.snapshotVersion.toMicroseconds()>=o2?!0:Ut.addedDocuments.size+Ut.modifiedDocuments.size+Ut.removedDocuments.size>0})(d,q,O)&&E.push(n.Pi.updateTargetData(c,q))}));let S=qo(),R=Ye();if(t.documentUpdates.forEach((O=>{t.resolvedLimboDocuments.has(O)&&E.push(n.persistence.referenceDelegate.updateLimboDocument(c,O))})),E.push(h2(c,y,t.documentUpdates).next((O=>{S=O.ks,R=O.qs}))),!s.isEqual(Ne.min())){const O=n.Pi.getLastRemoteSnapshotVersion(c).next((M=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));E.push(O)}return Ot.waitFor(E).next((()=>y.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,S,R))).next((()=>S))})).then((c=>(n.Ms=o,c)))}function h2(i,t,n){let s=Ye(),o=Ye();return n.forEach((c=>s=s.add(c))),t.getEntries(i,s).next((c=>{let y=qo();return n.forEach(((E,S)=>{const R=c.get(E);S.isFoundDocument()!==R.isFoundDocument()&&(o=o.add(E)),S.isNoDocument()&&S.version.isEqual(Ne.min())?(t.removeEntry(E,S.readTime),y=y.insert(E,S)):!R.isValidDocument()||S.version.compareTo(R.version)>0||S.version.compareTo(R.version)===0&&R.hasPendingWrites?(t.addEntry(S),y=y.insert(E,S)):Wt(oy,"Ignoring outdated watch update for ",E,". Current version:",R.version," Watch version:",S.version)})),{ks:y,qs:o}}))}function d2(i,t){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Xg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function p2(i,t){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((c=>c?(o=c,Ot.resolve(o)):n.Pi.allocateTargetId(s).next((y=>(o=new Tl(t,y,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function dg(i,t,n){const s=De(i),o=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(y=>s.persistence.referenceDelegate.removeTarget(y,o)))}catch(y){if(!Ec(y))throw y;Wt(oy,`Failed to update sequence numbers for target ${t}: ${y}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function dw(i,t,n){const s=De(i);let o=Ne.min(),c=Ye();return s.persistence.runTransaction("Execute query","readwrite",(y=>(function(S,R,O){const M=De(S),d=M.xs.get(O);return d!==void 0?Ot.resolve(M.Ms.get(d)):M.Pi.getTargetData(R,O)})(s,y,lo(t)).next((E=>{if(E)return o=E.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(y,E.targetId).next((S=>{c=S}))})).next((()=>s.Fs.getDocumentsMatchingQuery(y,t,n?o:Ne.min(),n?c:Ye()))).next((E=>(m2(s,tC(t),E),{documents:E,Qs:c})))))}function m2(i,t,n){let s=i.Os.get(t)||Ne.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(t,s)}class pw{constructor(){this.activeTargetIds=aC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class g2{constructor(){this.Mo=new pw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new pw,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="ConnectivityMonitor";class gw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Wt(mw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Wt(mw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=null;function pg(){return Yh===null?Yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yh++,"0x"+Yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",_2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ng?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,c){const y=pg(),E=this.zo(t,n.toUriEncodedString());Wt(Dm,`Sending RPC '${t}' ${y}:`,E,s);const S={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(S,o,c);const{host:R}=new URL(E),O=zg(R);return this.Jo(t,E,S,s,O).then((M=>(Wt(Dm,`Received RPC '${t}' ${y}: `,M),M)),(M=>{throw dc(Dm,`RPC '${t}' ${y} failed with error: `,M,"url: ",E,"request:",s),M}))}Ho(t,n,s,o,c,y){return this.Go(t,n,s,o,c)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>t[c]=o)),s&&s.headers.forEach(((o,c)=>t[c]=o))}zo(t,n){const s=_2[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="WebChannelConnection";class E2 extends v2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,c){const y=pg();return new Promise(((E,S)=>{const R=new jE;R.setWithCredentials(!0),R.listenOnce(BE.COMPLETE,(()=>{try{switch(R.getLastErrorCode()){case rd.NO_ERROR:const M=R.getResponseJson();Wt(xi,`XHR for RPC '${t}' ${y} received:`,JSON.stringify(M)),E(M);break;case rd.TIMEOUT:Wt(xi,`RPC '${t}' ${y} timed out`),S(new Jt(Nt.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const d=R.getStatus();if(Wt(xi,`RPC '${t}' ${y} failed with status:`,d,"response text:",R.getResponseText()),d>0){let q=R.getResponseJson();Array.isArray(q)&&(q=q[0]);const nt=q?.error;if(nt&&nt.status&&nt.message){const dt=(function(Ut){const Tt=Ut.toLowerCase().replace(/_/g,"-");return Object.values(Nt).indexOf(Tt)>=0?Tt:Nt.UNKNOWN})(nt.status);S(new Jt(dt,nt.message))}else S(new Jt(Nt.UNKNOWN,"Server responded with status "+R.getStatus()))}else S(new Jt(Nt.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:t,streamId:y,h_:R.getLastErrorCode(),P_:R.getLastError()})}}finally{Wt(xi,`RPC '${t}' ${y} completed.`)}}));const O=JSON.stringify(o);Wt(xi,`RPC '${t}' ${y} sending request:`,o),R.send(n,"POST",O,s,15)}))}T_(t,n,s){const o=pg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],y=HE(),E=zE(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},R=this.longPollingOptions.timeoutSeconds;R!==void 0&&(S.longPollingTimeout=Math.round(1e3*R)),this.useFetchStreams&&(S.useFetchStreams=!0),this.jo(S.initMessageHeaders,n,s),S.encodeInitMessageHeaders=!0;const O=c.join("");Wt(xi,`Creating RPC '${t}' stream ${o}: ${O}`,S);const M=y.createWebChannel(O,S);this.I_(M);let d=!1,q=!1;const nt=new w2({Yo:_t=>{q?Wt(xi,`Not sending because RPC '${t}' stream ${o} is closed:`,_t):(d||(Wt(xi,`Opening RPC '${t}' stream ${o} transport.`),M.open(),d=!0),Wt(xi,`RPC '${t}' stream ${o} sending:`,_t),M.send(_t))},Zo:()=>M.close()}),dt=(_t,Ut,Tt)=>{_t.listen(Ut,(Ft=>{try{Tt(Ft)}catch(jt){setTimeout((()=>{throw jt}),0)}}))};return dt(M,lf.EventType.OPEN,(()=>{q||(Wt(xi,`RPC '${t}' stream ${o} transport opened.`),nt.o_())})),dt(M,lf.EventType.CLOSE,(()=>{q||(q=!0,Wt(xi,`RPC '${t}' stream ${o} transport closed`),nt.a_(),this.E_(M))})),dt(M,lf.EventType.ERROR,(_t=>{q||(q=!0,dc(xi,`RPC '${t}' stream ${o} transport errored. Name:`,_t.name,"Message:",_t.message),nt.a_(new Jt(Nt.UNAVAILABLE,"The operation could not be completed")))})),dt(M,lf.EventType.MESSAGE,(_t=>{if(!q){const Ut=_t.data[0];dn(!!Ut,16349);const Tt=Ut,Ft=Tt?.error||Tt[0]?.error;if(Ft){Wt(xi,`RPC '${t}' stream ${o} received error:`,Ft);const jt=Ft.status;let Qt=(function(P){const H=Er[P];if(H!==void 0)return bT(H)})(jt),se=Ft.message;Qt===void 0&&(Qt=Nt.INTERNAL,se="Unknown error status: "+jt+" with message "+Ft.message),q=!0,nt.a_(new Jt(Qt,se)),M.close()}else Wt(xi,`RPC '${t}' stream ${o} received:`,Ut),nt.u_(Ut)}})),dt(E,qE.STAT_EVENT,(_t=>{_t.stat===tg.PROXY?Wt(xi,`RPC '${t}' stream ${o} detected buffering proxy`):_t.stat===tg.NOPROXY&&Wt(xi,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{nt.__()}),0),nt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(i){return new SC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Wt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="PersistentStream";class jT{constructor(t,n,s,o,c,y,E,S){this.Mi=t,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=E,this.listener=S,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Nt.RESOURCE_EXHAUSTED?(Bo(n.toString()),Bo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new Jt(Nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Wt(yw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Wt(yw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class T2 extends jT{constructor(t,n,s,o,c,y){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,y),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=CC(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Ne.min();const y=c.targetChange;return y.targetIds&&y.targetIds.length?Ne.min():y.readTime?uo(y.readTime):Ne.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=hg(this.serializer),n.addTarget=(function(c,y){let E;const S=y.target;if(E=ag(S)?{documents:DC(c,S)}:{query:OC(c,S).ft},E.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){E.resumeToken=xT(c,y.resumeToken);const R=ug(c,y.expectedCount);R!==null&&(E.expectedCount=R)}else if(y.snapshotVersion.compareTo(Ne.min())>0){E.readTime=Cd(c,y.snapshotVersion.toTimestamp());const R=ug(c,y.expectedCount);R!==null&&(E.expectedCount=R)}return E})(this.serializer,t);const s=VC(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=hg(this.serializer),n.removeTarget=t,this.q_(n)}}class A2 extends jT{constructor(t,n,s,o,c,y){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,y),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return dn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,dn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){dn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=NC(t.writeResults,t.commitTime),s=uo(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=hg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>IC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{}class S2 extends b2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Jt(Nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,y])=>this.connection.Go(t,cg(n,s),o,c,y))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Jt(Nt.UNKNOWN,c.toString())}))}Ho(t,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([y,E])=>this.connection.Ho(t,cg(n,s),o,y,E,c))).catch((y=>{throw y.name==="FirebaseError"?(y.code===Nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new Jt(Nt.UNKNOWN,y.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class R2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bo(n),this.aa=!1):Wt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="RemoteStore";class x2{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((y=>{s.enqueueAndForget((async()=>{xu(this)&&(Wt(wu,"Restarting streams for network reachability change."),await(async function(S){const R=De(S);R.Ea.add(4),await $f(R),R.Ra.set("Unknown"),R.Ea.delete(4),await Zd(R)})(this))}))})),this.Ra=new R2(s,o)}}async function Zd(i){if(xu(i))for(const t of i.da)await t(!0)}async function $f(i){for(const t of i.da)await t(!1)}function BT(i,t){const n=De(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),fy(n)?cy(n):Tc(n).O_()&&uy(n,t))}function ly(i,t){const n=De(i),s=Tc(n);n.Ia.delete(t),s.O_()&&qT(n,t),n.Ia.size===0&&(s.O_()?s.L_():xu(n)&&n.Ra.set("Unknown"))}function uy(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ne.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Tc(i).Y_(t)}function qT(i,t){i.Va.Ue(t),Tc(i).Z_(t)}function cy(i){i.Va=new EC({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Tc(i).start(),i.Ra.ua()}function fy(i){return xu(i)&&!Tc(i).x_()&&i.Ia.size>0}function xu(i){return De(i).Ea.size===0}function zT(i){i.Va=void 0}async function C2(i){i.Ra.set("Online")}async function I2(i){i.Ia.forEach(((t,n)=>{uy(i,t)}))}async function N2(i,t){zT(i),fy(i)?(i.Ra.ha(t),cy(i)):i.Ra.set("Unknown")}async function D2(i,t,n){if(i.Ra.set("Online"),t instanceof RT&&t.state===2&&t.cause)try{await(async function(o,c){const y=c.cause;for(const E of c.targetIds)o.Ia.has(E)&&(await o.remoteSyncer.rejectListen(E,y),o.Ia.delete(E),o.Va.removeTarget(E))})(i,t)}catch(s){Wt(wu,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Nd(i,s)}else if(t instanceof od?i.Va.Ze(t):t instanceof ST?i.Va.st(t):i.Va.tt(t),!n.isEqual(Ne.min()))try{const s=await PT(i.localStore);n.compareTo(s)>=0&&await(function(c,y){const E=c.Va.Tt(y);return E.targetChanges.forEach(((S,R)=>{if(S.resumeToken.approximateByteSize()>0){const O=c.Ia.get(R);O&&c.Ia.set(R,O.withResumeToken(S.resumeToken,y))}})),E.targetMismatches.forEach(((S,R)=>{const O=c.Ia.get(S);if(!O)return;c.Ia.set(S,O.withResumeToken(mi.EMPTY_BYTE_STRING,O.snapshotVersion)),qT(c,S);const M=new Tl(O.target,S,R,O.sequenceNumber);uy(c,M)})),c.remoteSyncer.applyRemoteEvent(E)})(i,n)}catch(s){Wt(wu,"Failed to raise snapshot:",s),await Nd(i,s)}}async function Nd(i,t,n){if(!Ec(t))throw t;i.Ea.add(1),await $f(i),i.Ra.set("Offline"),n||(n=()=>PT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Wt(wu,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Zd(i)}))}function HT(i,t){return t().catch((n=>Nd(i,n,t)))}async function tp(i){const t=De(i),n=Ll(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xg;for(;O2(t);)try{const o=await d2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,M2(t,o)}catch(o){await Nd(t,o)}FT(t)&&$T(t)}function O2(i){return xu(i)&&i.Ta.length<10}function M2(i,t){i.Ta.push(t);const n=Ll(i);n.O_()&&n.X_&&n.ea(t.mutations)}function FT(i){return xu(i)&&!Ll(i).x_()&&i.Ta.length>0}function $T(i){Ll(i).start()}async function V2(i){Ll(i).ra()}async function k2(i){const t=Ll(i);for(const n of i.Ta)t.ea(n.mutations)}async function L2(i,t,n){const s=i.Ta.shift(),o=ey.from(s,t,n);await HT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await tp(i)}async function P2(i,t){t&&Ll(i).X_&&await(async function(s,o){if((function(y){return _C(y)&&y!==Nt.ABORTED})(o.code)){const c=s.Ta.shift();Ll(s).B_(),await HT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await tp(s)}})(i,t),FT(i)&&$T(i)}async function _w(i,t){const n=De(i);n.asyncQueue.verifyOperationInProgress(),Wt(wu,"RemoteStore received new credentials");const s=xu(n);n.Ea.add(3),await $f(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Zd(n)}async function U2(i,t){const n=De(i);t?(n.Ea.delete(2),await Zd(n)):t||(n.Ea.add(2),await $f(n),n.Ra.set("Unknown"))}function Tc(i){return i.ma||(i.ma=(function(n,s,o){const c=De(n);return c.sa(),new T2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:C2.bind(null,i),t_:I2.bind(null,i),r_:N2.bind(null,i),H_:D2.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),fy(i)?cy(i):i.Ra.set("Unknown")):(await i.ma.stop(),zT(i))}))),i.ma}function Ll(i){return i.fa||(i.fa=(function(n,s,o){const c=De(n);return c.sa(),new A2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:V2.bind(null,i),r_:P2.bind(null,i),ta:k2.bind(null,i),na:L2.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await tp(i)):(await i.fa.stop(),i.Ta.length>0&&(Wt(wu,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new xl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((y=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const y=Date.now()+s,E=new hy(t,n,y,o,c);return E.start(s),E}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Jt(Nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(i,t){if(Bo("AsyncQueue",`${t}: ${i}`),Ec(i))return new Jt(Nt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{static emptySet(t){return new hc(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ce.comparator(n.key,s.key):(n,s)=>ce.comparator(n.key,s.key),this.keyedMap=uf(),this.sortedSet=new Jn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof hc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new hc;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.ga=new Jn(ce.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ae(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class _c{constructor(t,n,s,o,c,y,E,S,R){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=y,this.syncStateChanged=E,this.excludesMetadataChanges=S,this.hasCachedResults=R}static fromInitialDocuments(t,n,s,o,c){const y=[];return n.forEach((E=>{y.push({type:0,doc:E})})),new _c(t,n,hc.emptySet(n),y,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class B2{constructor(){this.queries=ww(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=De(n),c=o.queries;o.queries=ww(),c.forEach(((y,E)=>{for(const S of E.Sa)S.onError(s)}))})(this,new Jt(Nt.ABORTED,"Firestore shutting down"))}}function ww(){return new Su((i=>fT(i)),Qd)}async function GT(i,t){const n=De(i);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.ba()&&t.Da()&&(s=2):(c=new j2,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(y){const E=dy(y,`Initialization of query '${ic(t.query)}' failed`);return void t.onError(E)}n.queries.set(o,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&py(n)}async function QT(i,t){const n=De(i),s=t.query;let o=3;const c=n.queries.get(s);if(c){const y=c.Sa.indexOf(t);y>=0&&(c.Sa.splice(y,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function q2(i,t){const n=De(i);let s=!1;for(const o of t){const c=o.query,y=n.queries.get(c);if(y){for(const E of y.Sa)E.Fa(o)&&(s=!0);y.wa=o}}s&&py(n)}function z2(i,t,n){const s=De(i),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(t)}function py(i){i.Ca.forEach((t=>{t.next()}))}var mg,Ew;(Ew=mg||(mg={})).Ma="default",Ew.Cache="cache";class XT{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new _c(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=_c.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t){this.key=t}}class KT{constructor(t){this.key=t}}class H2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=hT(t),this.tu=new hc(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new vw,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,y=o,E=!1;const S=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,R=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((O,M)=>{const d=o.get(O),q=Xd(this.query,M)?M:null,nt=!!d&&this.mutatedKeys.has(d.key),dt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let _t=!1;d&&q?d.data.isEqual(q.data)?nt!==dt&&(s.track({type:3,doc:q}),_t=!0):this.su(d,q)||(s.track({type:2,doc:q}),_t=!0,(S&&this.eu(q,S)>0||R&&this.eu(q,R)<0)&&(E=!0)):!d&&q?(s.track({type:0,doc:q}),_t=!0):d&&!q&&(s.track({type:1,doc:d}),_t=!0,(S||R)&&(E=!0)),_t&&(q?(y=y.add(q),c=dt?c.add(O):c.delete(O)):(y=y.delete(O),c=c.delete(O)))})),this.query.limit!==null)for(;y.size>this.query.limit;){const O=this.query.limitType==="F"?y.last():y.first();y=y.delete(O.key),c=c.delete(O.key),s.track({type:1,doc:O})}return{tu:y,iu:s,Cs:E,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const y=t.iu.ya();y.sort(((O,M)=>(function(q,nt){const dt=_t=>{switch(_t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:_t})}};return dt(q)-dt(nt)})(O.type,M.type)||this.eu(O.doc,M.doc))),this.ou(s),o=o??!1;const E=n&&!o?this._u():[],S=this.Xa.size===0&&this.current&&!o?1:0,R=S!==this.Za;return this.Za=S,y.length!==0||R?{snapshot:new _c(this.query,t.tu,c,y,t.mutatedKeys,S===0,R,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:E}:{au:E}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ye(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new KT(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new YT(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ye();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return _c.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const my="SyncEngine";class F2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class $2{constructor(t){this.key=t,this.hu=!1}}class G2{constructor(t,n,s,o,c,y){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=y,this.Pu={},this.Tu=new Su((E=>fT(E)),Qd),this.Iu=new Map,this.Eu=new Set,this.du=new Jn(ce.comparator),this.Au=new Map,this.Ru=new iy,this.Vu={},this.mu=new Map,this.fu=yc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Q2(i,t,n=!0){const s=n1(i);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await WT(s,t,n,!0),o}async function X2(i,t){const n=n1(i);await WT(n,t,!0,!1)}async function WT(i,t,n,s){const o=await p2(i.localStore,lo(t)),c=o.targetId,y=i.sharedClientState.addLocalQueryTarget(c,n);let E;return s&&(E=await Y2(i,t,c,y==="current",o.resumeToken)),i.isPrimaryClient&&n&&BT(i.remoteStore,o),E}async function Y2(i,t,n,s,o){i.pu=(M,d,q)=>(async function(dt,_t,Ut,Tt){let Ft=_t.view.ru(Ut);Ft.Cs&&(Ft=await dw(dt.localStore,_t.query,!1).then((({documents:K})=>_t.view.ru(K,Ft))));const jt=Tt&&Tt.targetChanges.get(_t.targetId),Qt=Tt&&Tt.targetMismatches.get(_t.targetId)!=null,se=_t.view.applyChanges(Ft,dt.isPrimaryClient,jt,Qt);return Aw(dt,_t.targetId,se.au),se.snapshot})(i,M,d,q);const c=await dw(i.localStore,t,!0),y=new H2(t,c.Qs),E=y.ru(c.documents),S=Ff.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),R=y.applyChanges(E,i.isPrimaryClient,S);Aw(i,n,R.au);const O=new F2(t,n,y);return i.Tu.set(t,O),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),R.snapshot}async function K2(i,t,n){const s=De(i),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((y=>!Qd(y,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ly(s.remoteStore,o.targetId),gg(s,o.targetId)})).catch(wc)):(gg(s,o.targetId),await dg(s.localStore,o.targetId,!0))}async function W2(i,t){const n=De(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ly(n.remoteStore,s.targetId))}async function J2(i,t,n){const s=sI(i);try{const o=await(function(y,E){const S=De(y),R=Bn.now(),O=E.reduce(((q,nt)=>q.add(nt.key)),Ye());let M,d;return S.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let nt=qo(),dt=Ye();return S.Ns.getEntries(q,O).next((_t=>{nt=_t,nt.forEach(((Ut,Tt)=>{Tt.isValidDocument()||(dt=dt.add(Ut))}))})).next((()=>S.localDocuments.getOverlayedDocuments(q,nt))).next((_t=>{M=_t;const Ut=[];for(const Tt of E){const Ft=dC(Tt,M.get(Tt.key).overlayedDocument);Ft!=null&&Ut.push(new Ru(Tt.key,Ft,rT(Ft.value.mapValue),Po.exists(!0)))}return S.mutationQueue.addMutationBatch(q,R,Ut,E)})).next((_t=>{d=_t;const Ut=_t.applyToLocalDocumentSet(M,dt);return S.documentOverlayCache.saveOverlays(q,_t.batchId,Ut)}))})).then((()=>({batchId:d.batchId,changes:pT(M)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(y,E,S){let R=y.Vu[y.currentUser.toKey()];R||(R=new Jn(Xe)),R=R.insert(E,S),y.Vu[y.currentUser.toKey()]=R})(s,o.batchId,n),await Gf(s,o.changes),await tp(s.remoteStore)}catch(o){const c=dy(o,"Failed to persist write");n.reject(c)}}async function JT(i,t){const n=De(i);try{const s=await f2(n.localStore,t);t.targetChanges.forEach(((o,c)=>{const y=n.Au.get(c);y&&(dn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?y.hu=!0:o.modifiedDocuments.size>0?dn(y.hu,14607):o.removedDocuments.size>0&&(dn(y.hu,42227),y.hu=!1))})),await Gf(n,s,t)}catch(s){await wc(s)}}function Tw(i,t,n){const s=De(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,y)=>{const E=y.view.va(t);E.snapshot&&o.push(E.snapshot)})),(function(y,E){const S=De(y);S.onlineState=E;let R=!1;S.queries.forEach(((O,M)=>{for(const d of M.Sa)d.va(E)&&(R=!0)})),R&&py(S)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Z2(i,t,n){const s=De(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),c=o&&o.key;if(c){let y=new Jn(ce.comparator);y=y.insert(c,Ni.newNoDocument(c,Ne.min()));const E=Ye().add(c),S=new Wd(Ne.min(),new Map,new Jn(Xe),y,E);await JT(s,S),s.du=s.du.remove(c),s.Au.delete(t),gy(s)}else await dg(s.localStore,t,!1).then((()=>gg(s,t,n))).catch(wc)}async function tI(i,t){const n=De(i),s=t.batch.batchId;try{const o=await c2(n.localStore,t);t1(n,s,null),ZT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Gf(n,o)}catch(o){await wc(o)}}async function eI(i,t,n){const s=De(i);try{const o=await(function(y,E){const S=De(y);return S.persistence.runTransaction("Reject batch","readwrite-primary",(R=>{let O;return S.mutationQueue.lookupMutationBatch(R,E).next((M=>(dn(M!==null,37113),O=M.keys(),S.mutationQueue.removeMutationBatch(R,M)))).next((()=>S.mutationQueue.performConsistencyCheck(R))).next((()=>S.documentOverlayCache.removeOverlaysForBatchId(R,O,E))).next((()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,O))).next((()=>S.localDocuments.getDocuments(R,O)))}))})(s.localStore,t);t1(s,t,n),ZT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Gf(s,o)}catch(o){await wc(o)}}function ZT(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function t1(i,t,n){const s=De(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function gg(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||e1(i,s)}))}function e1(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(ly(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),gy(i))}function Aw(i,t,n){for(const s of n)s instanceof YT?(i.Ru.addReference(s.key,t),nI(i,s)):s instanceof KT?(Wt(my,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||e1(i,s.key)):Ae(19791,{wu:s})}function nI(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(Wt(my,"New document in limbo: "+n),i.Eu.add(s),gy(i))}function gy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new ce(Ln.fromString(t)),s=i.fu.next();i.Au.set(s,new $2(n)),i.du=i.du.insert(n,s),BT(i.remoteStore,new Tl(lo(Zg(n.path)),s,"TargetPurposeLimboResolution",Fd.ce))}}async function Gf(i,t,n){const s=De(i),o=[],c=[],y=[];s.Tu.isEmpty()||(s.Tu.forEach(((E,S)=>{y.push(s.pu(S,t,n).then((R=>{if((R||n)&&s.isPrimaryClient){const O=R?!R.fromCache:n?.targetChanges.get(S.targetId)?.current;s.sharedClientState.updateQueryState(S.targetId,O?"current":"not-current")}if(R){o.push(R);const O=ay.As(S.targetId,R);c.push(O)}})))})),await Promise.all(y),s.Pu.H_(o),await(async function(S,R){const O=De(S);try{await O.persistence.runTransaction("notifyLocalViewChanges","readwrite",(M=>Ot.forEach(R,(d=>Ot.forEach(d.Es,(q=>O.persistence.referenceDelegate.addReference(M,d.targetId,q))).next((()=>Ot.forEach(d.ds,(q=>O.persistence.referenceDelegate.removeReference(M,d.targetId,q)))))))))}catch(M){if(!Ec(M))throw M;Wt(oy,"Failed to update sequence numbers: "+M)}for(const M of R){const d=M.targetId;if(!M.fromCache){const q=O.Ms.get(d),nt=q.snapshotVersion,dt=q.withLastLimboFreeSnapshotVersion(nt);O.Ms=O.Ms.insert(d,dt)}}})(s.localStore,c))}async function rI(i,t){const n=De(i);if(!n.currentUser.isEqual(t)){Wt(my,"User change. New user:",t.toKey());const s=await LT(n.localStore,t);n.currentUser=t,(function(c,y){c.mu.forEach((E=>{E.forEach((S=>{S.reject(new Jt(Nt.CANCELLED,y))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Gf(n,s.Ls)}}function iI(i,t){const n=De(i),s=n.Au.get(t);if(s&&s.hu)return Ye().add(s.key);{let o=Ye();const c=n.Iu.get(t);if(!c)return o;for(const y of c){const E=n.Tu.get(y);o=o.unionWith(E.view.nu)}return o}}function n1(i){const t=De(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Z2.bind(null,t),t.Pu.H_=q2.bind(null,t.eventManager),t.Pu.yu=z2.bind(null,t.eventManager),t}function sI(i){const t=De(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eI.bind(null,t),t}class Dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return u2(this.persistence,new a2,t.initialUser,this.serializer)}Cu(t){return new kT(sy.mi,this.serializer)}Du(t){return new g2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dd.provider={build:()=>new Dd};class aI extends Dd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){dn(this.persistence.referenceDelegate instanceof Id,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $C(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new kT((s=>Id.mi(s,n)),this.serializer)}}class yg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=rI.bind(null,this.syncEngine),await U2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new B2})()}createDatastore(t){const n=Jd(t.databaseInfo.databaseId),s=(function(c){return new E2(c)})(t.databaseInfo);return(function(c,y,E,S){return new S2(c,y,E,S)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,c,y,E){return new x2(s,o,c,y,E)})(this.localStore,this.datastore,t.asyncQueue,(n=>Tw(this.syncEngine,n,0)),(function(){return gw.v()?new gw:new y2})())}createSyncEngine(t,n){return(function(o,c,y,E,S,R,O){const M=new G2(o,c,y,E,S,R);return O&&(M.gu=!0),M})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);Wt(wu,"RemoteStore shutting down."),s.Ea.add(5),await $f(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Bo("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="FirestoreClient";class oI{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ii.UNAUTHENTICATED,this.clientId=Qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async y=>{Wt(Pl,"Received user=",y.uid),await this.authCredentialListener(y),this.user=y})),this.appCheckCredentials.start(s,(y=>(Wt(Pl,"Received new app check token=",y),this.appCheckCredentialListener(y,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=dy(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Mm(i,t){i.asyncQueue.verifyOperationInProgress(),Wt(Pl,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await LT(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function bw(i,t){i.asyncQueue.verifyOperationInProgress();const n=await lI(i);Wt(Pl,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>_w(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>_w(t.remoteStore,o))),i._onlineComponents=t}async function lI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Wt(Pl,"Using user provided OfflineComponentProvider");try{await Mm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Nt.FAILED_PRECONDITION||o.code===Nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;dc("Error using user provided cache. Falling back to memory cache: "+n),await Mm(i,new Dd)}}else Wt(Pl,"Using default OfflineComponentProvider"),await Mm(i,new aI(void 0));return i._offlineComponents}async function i1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Wt(Pl,"Using user provided OnlineComponentProvider"),await bw(i,i._uninitializedComponentsProvider._online)):(Wt(Pl,"Using default OnlineComponentProvider"),await bw(i,new yg))),i._onlineComponents}function uI(i){return i1(i).then((t=>t.syncEngine))}async function _g(i){const t=await i1(i),n=t.eventManager;return n.onListen=Q2.bind(null,t.syncEngine),n.onUnlisten=K2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=X2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=W2.bind(null,t.syncEngine),n}function cI(i,t,n={}){const s=new xl;return i.asyncQueue.enqueueAndForget((async()=>(function(c,y,E,S,R){const O=new r1({next:d=>{O.Nu(),y.enqueueAndForget((()=>QT(c,M))),d.fromCache&&S.source==="server"?R.reject(new Jt(Nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(d)},error:d=>R.reject(d)}),M=new XT(E,O,{includeMetadataChanges:!0,qa:!0});return GT(c,M)})(await _g(i),i.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firestore.googleapis.com",Rw=!0;class xw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Jt(Nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a1,this.ssl=Rw}else this.host=t.host,this.ssl=t.ssl??Rw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HC)throw new Jt(Nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Jt(Nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Jt(Nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Jt(Nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ep{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Jt(Nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Jt(Nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new yx;switch(s.type){case"firstParty":return new Ex(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Jt(Nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Sw.get(n);s&&(Wt("ComponentProvider","Removing Datastore"),Sw.delete(n),s.terminate())})(this),Promise.resolve()}}function fI(i,t,n,s={}){i=Cl(i,ep);const o=zg(t),c=i._getSettings(),y={...c,emulatorOptions:i._getEmulatorOptions()},E=`${t}:${n}`;o&&(zS(`https://${E}`),GS("Firestore",!0)),c.host!==a1&&c.host!==E&&dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const S={...c,host:E,ssl:o,emulatorOptions:s};if(!wd(S,y)&&(i._setSettings(S),s.mockUserToken)){let R,O;if(typeof s.mockUserToken=="string")R=s.mockUserToken,O=Ii.MOCK_USER;else{R=HS(s.mockUserToken,i._app?.options.projectId);const M=s.mockUserToken.sub||s.mockUserToken.user_id;if(!M)throw new Jt(Nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Ii(M)}i._authCredentials=new _x(new $E(R,O))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Cu(this.firestore,t,this._query)}}class br{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new br(this.firestore,t,this._key)}toJSON(){return{type:br._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(qf(n,br._jsonSchema))return new br(t,s||null,new ce(Ln.fromString(n.referencePath)))}}br._jsonSchemaVersion="firestore/documentReference/1.0",br._jsonSchema={type:Ar("string",br._jsonSchemaVersion),referencePath:Ar("string")};class Il extends Cu{constructor(t,n,s){super(t,n,Zg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new br(this.firestore,null,new ce(t))}withConverter(t){return new Il(this.firestore,t,this._path)}}function vg(i,t,...n){if(i=Nl(i),GE("collection","path",t),i instanceof ep){const s=Ln.fromString(t,...n);return B0(s),new Il(i,null,s)}{if(!(i instanceof br||i instanceof Il))throw new Jt(Nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ln.fromString(t,...n));return B0(s),new Il(i.firestore,null,s)}}function o1(i,t,...n){if(i=Nl(i),arguments.length===1&&(t=Qg.newId()),GE("doc","path",t),i instanceof ep){const s=Ln.fromString(t,...n);return j0(s),new br(i,null,new ce(s))}{if(!(i instanceof br||i instanceof Il))throw new Jt(Nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ln.fromString(t,...n));return j0(s),new br(i.firestore,i instanceof Il?i.converter:null,new ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="AsyncQueue";class Iw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UT(this,"async_queue_retry"),this._c=()=>{const s=Om();s&&Wt(Cw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ec(t))throw t;Wt(Cw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Bo("INTERNAL UNHANDLED ERROR: ",Nw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=hy.createAndSchedule(this,t,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Nw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Nw(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class jf extends ep{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Iw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Iw(t),this._firestoreClient=void 0,await t}}}function hI(i,t){const n=typeof i=="object"?i:ix(),s=typeof i=="string"?i:t,o=$g(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=BS("firestore");c&&fI(o,...c)}return o}function yy(i){if(i._terminated)throw new Jt(Nt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||dI(i),i._firestoreClient}function dI(i){const t=i._freezeSettings(),n=(function(o,c,y,E){return new Ux(o,c,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,s1(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new oI(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new sa(mi.fromBase64String(t))}catch(n){throw new Jt(Nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new sa(mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:sa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qf(t,sa._jsonSchema))return sa.fromBase64String(t.bytes)}}sa._jsonSchemaVersion="firestore/bytes/1.0",sa._jsonSchema={type:Ar("string",sa._jsonSchemaVersion),bytes:Ar("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Jt(Nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Jt(Nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Jt(Nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Xe(this._lat,t._lat)||Xe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:co._jsonSchemaVersion}}static fromJSON(t){if(qf(t,co._jsonSchema))return new co(t.latitude,t.longitude)}}co._jsonSchemaVersion="firestore/geoPoint/1.0",co._jsonSchema={type:Ar("string",co._jsonSchemaVersion),latitude:Ar("number"),longitude:Ar("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qf(t,fo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new fo(t.vectorValues);throw new Jt(Nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fo._jsonSchemaVersion="firestore/vectorValue/1.0",fo._jsonSchema={type:Ar("string",fo._jsonSchemaVersion),vectorValues:Ar("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=/^__.*__$/;class mI{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ru(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hf(t,this.data,n,this.fieldTransforms)}}function u1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:i})}}class vy{constructor(t,n,s,o,c,y){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new vy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Od(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(u1(this.Ac)&&pI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class gI{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Jd(t)}Cc(t,n,s,o=!1){return new vy({Ac:t,methodName:n,Dc:s,path:pi.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c1(i){const t=i._freezeSettings(),n=Jd(i._databaseId);return new gI(i._databaseId,!!t.ignoreUndefinedProperties,n)}function yI(i,t,n,s,o,c={}){const y=i.Cc(c.merge||c.mergeFields?2:0,t,n,o);d1("Data must be an object, but it was:",y,s);const E=f1(s,y);let S,R;if(c.merge)S=new Oa(y.fieldMask),R=y.fieldTransforms;else if(c.mergeFields){const O=[];for(const M of c.mergeFields){const d=vI(t,M,n);if(!y.contains(d))throw new Jt(Nt.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);EI(O,d)||O.push(d)}S=new Oa(O),R=y.fieldTransforms.filter((M=>S.covers(M.field)))}else S=null,R=y.fieldTransforms;return new mI(new ia(E),S,R)}function _I(i,t,n,s=!1){return wy(n,i.Cc(s?4:3,t))}function wy(i,t){if(h1(i=Nl(i)))return d1("Unsupported field value:",t,i),f1(i,t);if(i instanceof l1)return(function(s,o){if(!u1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let y=0;for(const E of s){let S=wy(E,o.wc(y));S==null&&(S={nullValue:"NULL_VALUE"}),c.push(S),y++}return{arrayValue:{values:c}}})(i,t)}return(function(s,o){if((s=Nl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Bn.fromDate(s);return{timestampValue:Cd(o.serializer,c)}}if(s instanceof Bn){const c=new Bn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cd(o.serializer,c)}}if(s instanceof co)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof sa)return{bytesValue:xT(o.serializer,s._byteString)};if(s instanceof br){const c=o.databaseId,y=s.firestore._databaseId;if(!y.isEqual(c))throw o.Sc(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ry(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fo)return(function(y,E){return{mapValue:{fields:{[eT]:{stringValue:nT},[Ad]:{arrayValue:{values:y.toArray().map((R=>{if(typeof R!="number")throw E.Sc("VectorValues must only contain numeric values.");return ty(E.serializer,R)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Hd(s)}`)})(i,t)}function f1(i,t){const n={};return YE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bu(i,((s,o)=>{const c=wy(o,t.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function h1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Bn||i instanceof co||i instanceof sa||i instanceof br||i instanceof l1||i instanceof fo)}function d1(i,t,n){if(!h1(n)||!QE(n)){const s=Hd(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function vI(i,t,n){if((t=Nl(t))instanceof _y)return t._internalPath;if(typeof t=="string")return p1(i,t);throw Od("Field path arguments must be of type string or ",i,!1,void 0,n)}const wI=new RegExp("[~\\*/\\[\\]]");function p1(i,t,n){if(t.search(wI)>=0)throw Od(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new _y(...t.split("."))._internalPath}catch{throw Od(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Od(i,t,n,s,o){const c=s&&!s.isEmpty(),y=o!==void 0;let E=`Function ${t}() called with invalid data`;n&&(E+=" (via `toFirestore()`)"),E+=". ";let S="";return(c||y)&&(S+=" (found",c&&(S+=` in field ${s}`),y&&(S+=` in document ${o}`),S+=")"),new Jt(Nt.INVALID_ARGUMENT,E+i+S)}function EI(i,t){return i.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ey("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TI extends m1{data(){return super.data()}}function Ey(i,t){return typeof t=="string"?p1(i,t):t instanceof _y?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Jt(Nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}class AI extends Ty{}function wg(i,t,...n){let s=[];t instanceof Ty&&s.push(t),s=s.concat(n),(function(c){const y=c.filter((S=>S instanceof Ay)).length,E=c.filter((S=>S instanceof np)).length;if(y>1||y>0&&E>0)throw new Jt(Nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class np extends AI{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new np(t,n,s)}_apply(t){const n=this._parse(t);return _1(t._query,n),new Cu(t.firestore,t.converter,og(t._query,n))}_parse(t){const n=c1(t.firestore);return(function(c,y,E,S,R,O,M){let d;if(R.isKeyField()){if(O==="array-contains"||O==="array-contains-any")throw new Jt(Nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${O}' queries on documentId().`);if(O==="in"||O==="not-in"){Mw(M,O);const nt=[];for(const dt of M)nt.push(Ow(S,c,dt));d={arrayValue:{values:nt}}}else d=Ow(S,c,M)}else O!=="in"&&O!=="not-in"&&O!=="array-contains-any"||Mw(M,O),d=_I(E,y,M,O==="in"||O==="not-in");return Tr.create(R,O,d)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function y1(i,t,n){const s=t,o=Ey("where",i);return np._create(o,s,n)}class Ay extends Ty{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ay(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ma.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,c){let y=o;const E=c.getFlattenedFilters();for(const S of E)_1(y,S),y=og(y,S)})(t._query,n),new Cu(t.firestore,t.converter,og(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ow(i,t,n){if(typeof(n=Nl(n))=="string"){if(n==="")throw new Jt(Nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(t)&&n.indexOf("/")!==-1)throw new Jt(Nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Ln.fromString(n));if(!ce.isDocumentKey(s))throw new Jt(Nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return X0(i,new ce(s))}if(n instanceof br)return X0(i,n._key);throw new Jt(Nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(n)}.`)}function Mw(i,t){if(!Array.isArray(i)||i.length===0)throw new Jt(Nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _1(i,t){const n=(function(o,c){for(const y of o)for(const E of y.getFlattenedFilters())if(c.indexOf(E.op)>=0)return E.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Jt(Nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Jt(Nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class bI{convertValue(t,n="none"){switch(kl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ur(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ae(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return bu(t,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(t){const n=t.fields?.[Ad].arrayValue?.values?.map((s=>ur(s.doubleValue)));return new fo(n)}convertGeoPoint(t){return new co(ur(t.latitude),ur(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Gd(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vf(t));default:return null}}convertTimestamp(t){const n=Ml(t);return new Bn(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Ln.fromString(t);dn(MT(s),9688,{name:t});const o=new kf(s.get(1),s.get(3)),c=new ce(s.popFirst(5));return o.isEqual(n)||Bo(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(i,t,n){let s;return s=i?i.toFirestore(t):t,s}class ff{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yu extends m1{constructor(t,n,s,o,c,y){super(t,n,s,o,y),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ey("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Jt(Nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=yu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yu._jsonSchemaVersion="firestore/documentSnapshot/1.0",yu._jsonSchema={type:Ar("string",yu._jsonSchemaVersion),bundleSource:Ar("string","DocumentSnapshot"),bundleName:Ar("string"),bundle:Ar("string")};class ld extends yu{data(t={}){return super.data(t)}}class _u{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ff(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ld(this._firestore,this._userDataWriter,s.key,s,new ff(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Jt(Nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let y=0;return o._snapshot.docChanges.map((E=>{const S=new ld(o._firestore,o._userDataWriter,E.doc.key,E.doc,new ff(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter);return E.doc,{type:"added",doc:S,oldIndex:-1,newIndex:y++}}))}{let y=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((E=>c||E.type!==3)).map((E=>{const S=new ld(o._firestore,o._userDataWriter,E.doc.key,E.doc,new ff(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter);let R=-1,O=-1;return E.type!==0&&(R=y.indexOf(E.doc.key),y=y.delete(E.doc.key)),E.type!==1&&(y=y.add(E.doc),O=y.indexOf(E.doc.key)),{type:RI(E.type),doc:S,oldIndex:R,newIndex:O}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Jt(Nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_u._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function RI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}_u._jsonSchemaVersion="firestore/querySnapshot/1.0",_u._jsonSchema={type:Ar("string",_u._jsonSchemaVersion),bundleSource:Ar("string","QuerySnapshot"),bundleName:Ar("string"),bundle:Ar("string")};class by extends bI{constructor(t){super(),this.firestore=t}convertBytes(t){return new sa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new br(this.firestore,null,n)}}function xI(i){i=Cl(i,Cu);const t=Cl(i.firestore,jf),n=yy(t),s=new by(t);return g1(i._query),cI(n,i._query).then((o=>new _u(t,s,i,o)))}function Eg(i,t,n){i=Cl(i,br);const s=Cl(i.firestore,jf),o=SI(i.converter,t);return CI(s,[yI(c1(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Po.none())])}function v1(i,...t){i=Nl(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Dw(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Dw(t[s])){const S=t[s];t[s]=S.next?.bind(S),t[s+1]=S.error?.bind(S),t[s+2]=S.complete?.bind(S)}let c,y,E;if(i instanceof br)y=Cl(i.firestore,jf),E=Zg(i._key.path),c={next:S=>{t[s]&&t[s](II(y,i,S))},error:t[s+1],complete:t[s+2]};else{const S=Cl(i,Cu);y=Cl(S.firestore,jf),E=S._query;const R=new by(y);c={next:O=>{t[s]&&t[s](new _u(y,R,S,O))},error:t[s+1],complete:t[s+2]},g1(i._query)}return(function(R,O,M,d){const q=new r1(d),nt=new XT(O,q,M);return R.asyncQueue.enqueueAndForget((async()=>GT(await _g(R),nt))),()=>{q.Nu(),R.asyncQueue.enqueueAndForget((async()=>QT(await _g(R),nt)))}})(yy(y),E,o,c)}function CI(i,t){return(function(s,o){const c=new xl;return s.asyncQueue.enqueueAndForget((async()=>J2(await uI(s),o,c))),c.promise})(yy(i),t)}function II(i,t,n){const s=n.docs.get(t._key),o=new by(i);return new yu(i,o,t._key,s,new ff(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){vc=o})(rx),Dl(new Uo("firestore",((s,{instanceIdentifier:o,options:c})=>{const y=s.getProvider("app").getImmediate(),E=new jf(new vx(s.getProvider("auth-internal")),new Tx(y,s.getProvider("app-check-internal")),(function(R,O){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new Jt(Nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(R.options.projectId,O)})(y,o),y);return c={useFetchStreams:n,...c},E._setSettings(c),E}),"PUBLIC").setMultipleInstances(!0)),oo(k0,L0,t),oo(k0,L0,"esm2020")})();const NI={apiKey:"AIzaSyDnKx5QIDiqC4NzZZrfyH-OAStrUAjNS4o",authDomain:"tirc-468716.firebaseapp.com",projectId:"tirc-468716",storageBucket:"tirc-468716.firebasestorage.app",messagingSenderId:"938581311149",appId:"1:938581311149:web:78cc73bdf36aa469f2d024",measurementId:"G-E7C10TGSVP"},DI=kE(NI),xf=hI(DI,"tirc-db"),Tg=async(i,t,n)=>{const s=Date.now(),o=o1(xf,"messages",s.toString());await Eg(o,{nick:i,type:t,line:n,time:s,source:"TIRC"}),console.log("send text success!")},OI=5,w1=()=>{const i="phantomrows",[t,n]=Di.useState([]),s=JSON.stringify(t);async function o(){const y=wg(vg(xf,i));v1(y,E=>{const S=E.docs.map(R=>R.data());n(S)})}Di.useEffect(()=>{o()},[s]);async function c(y,E){const S=wg(vg(xf,i),y1("nick","==",E)),R=await xI(S);if(R.empty){const O=Date.now(),M=o1(xf,i,O.toString());await Eg(M,{nick:E,state:y,time:O,source:"TIRC"})}else{console.log("on olemassa phantom rivi!",R.docs[0].data());const O=R.docs[0].data,M=R.docs[0].ref,d={...O,state:y};await Eg(M,d)}}return{phantomMessages:t,savePhantomMessage:c}},E1=()=>{const[i,t]=Di.useState([]);async function n(){const s=new Date().getTime()-OI-432e5,o=wg(vg(xf,"messages"),y1("time",">",s));v1(o,c=>{const y=c.docs.map(E=>E.data()).filter(E=>E.type!=="phantom");t(y)})}return Di.useEffect(()=>{n()},[i.length]),{messages:i,sendMessage:Tg}};class Vw extends Bg.Component{render(){let t="",n="";return this.props.items&&this.props.items.length>0&&(t=this.props.items.length,n=this.props.items.join(", ")),Zt.jsxs("div",{className:"emotion",children:[Zt.jsx("i",{title:n,onClick:this.props.toggleEmotion,className:this.props.classNames})," ",Zt.jsx("small",{className:"emo_count",children:t})]})}}const MI=()=>({t:n=>new Date(n).toLocaleString(),em:n=>{if(n)return n.replace(/:\)/g,"🙂").replace(/=\)/g,"🙂").replace(/:\(/g,"🙁").replace(/=\(/g,"🙁").replace(/:D/g,"😃").replace(/;\)/g,"😉").replace(/=D/g,"😃")},useWindowFocus:VI}),VI=()=>{const[i,t]=Di.useState(!1),[n,s]=Di.useState(!1);return Di.useEffect(()=>{const o=()=>{console.log("focused!"),t(!0),s(!0)},c=()=>{console.log("blurred!"),t(!1),s(!0)};window.addEventListener("focus",o),window.addEventListener("blur",c)},[i]),{focused:i,focusChanged:n}};class kI extends Bg.Component{getClassName(t){return this.isJoinOrPart(t)?"joinOrPart":""}isJoinOrPart(t){return t.indexOf("has joined #")!==-1||t.indexOf("has left #")!==-1}isQuit(t){return t.indexOf("has quit ")!==-1}isMePart(t){return t.indexOf(" * ")!==-1&&t.indexOf(" has ")===-1&&t.indexOf("<")===-1&&t.indexOf(">")===-1}isActionPart(t){return t.indexOf("is known as")!==-1}parseTime(t){return t.match(/[0-9][0-9]:[0-9][0-9](:[0-9][0-9])?/g)[0]}format(t){var n=/(\b(https?|ftp|file):\/\/[\-A-Z0-9+&@#\/%?=~_|!:,.;]*[\-A-Z0-9+&@#\/%=~_|])/ig,s=t.match(n);if(s){var o=this;$(s).each(function(c,y){if(Parser.isPic(y)){var E=o.formatImage(y);t=t.replace(y,E)}else{var S=o.formatLink(y);t=t.replace(y,S)}})}return t}formatImage(t){var n='<a href="'+t+'" target="_blank"><img src="'+t+'" title="'+t+'" /></a>';return n}formatLink(t){var n='<a href="'+t+'" target="_blank">'+t+'</a><div class="selector-wrapper"></div> ';return n}generateEmotionStyle(t,n){var s=0;return t&&t.length>0&&(s+=t.length*10),n&&n.length>0&&(s-=n.length*10),"size-"+(100+s)}handleText(t){return t.indexOf("lol")>-1?t.replace("lol",' <span class="icon" style="background-position: 65% 42.5%;"></span> '):t}rendercomment(t,n,s){var o="row comment textrow";return t.nick===fc.loadUser("taho")&&(o+=" own"),o+=" "+this.generateEmotionStyle(t.likes,t.dislikes),Zt.jsxs("div",{className:o,children:[Zt.jsx("div",{className:"nick columns col-md-3 col-xs-3 text-right",children:t.nick}),Zt.jsx("div",{className:"nicktext col-md-9 col-xs-9",children:Zt.jsxs("div",{className:"text",children:[Zt.jsx("span",{dangerouslySetInnerHTML:{__html:s(t.line)}}),Zt.jsx(Vw,{items:t.likes,toggleEmotion:()=>this.props.toggleEmotion(t.date,!0),classNames:"glyphicon glyphicon-thumbs-up text-primary"}),Zt.jsx(Vw,{items:t.dislikes,toggleEmotion:()=>this.props.toggleEmotion(t.date,!1),classNames:"glyphicon glyphicon-thumbs-down text-danger"}),Zt.jsxs("span",{className:"time small",children:[" - ",n(t.time)]})]})})]})}renderme(t){return Zt.jsx("div",{className:"row textrow",children:Zt.jsx("div",{className:"action",dangerouslySetInnerHTML:{__html:t.line+'<span class="time"> - '+t.time+"</span>"}})})}renderwelcome(t,n){return Zt.jsx("div",{className:"row textrow",children:Zt.jsx("div",{className:"action col-md-12 thumbnail",dangerouslySetInnerHTML:{__html:'<div><div class="caption" >'+t.nick+" saapui paikalle "+t.line+'</div><span class="time small"> - '+n(t.time)+"</span></div>"}})})}renderaction(t){return Zt.jsx("div",{className:"row textrow",children:Zt.jsx("div",{className:"star bg-warning col-md-12",dangerouslySetInnerHTML:{__html:t.line+'<span class="time"> - '+t.time+"</span>"}})})}renderquit(t,n){return Zt.jsx("div",{className:"row textrow",children:Zt.jsxs("div",{className:"bg-danger col-md-12 quit",children:[" ",t.nick," poistui kokonaan ircistä: ",t.line,n(t.time)]})})}renderjoin(t,n){return Zt.jsx("div",{className:"row textrow",children:Zt.jsxs("div",{className:"col-md-12 bg-info quit",children:[t.nick," saapui kanavalle - ",n(t.time)]})})}renderpart(t){return Zt.jsx("div",{className:"row textrow",children:Zt.jsxs("div",{className:"bg-warning col-md-12 quit",children:[" ",t.nick," jätti kanavan - ",t.time]})})}render(){const{t,em:n}=MI();return this["render"+this.props.elem.type]?this["render"+this.props.elem.type](this.props.elem,t,n):(console.log("ERROR! method: render"+this.props.elem.type+" cannot be found, row: "+JSON.stringify(this.props.elem)),null)}renderlogevent(t){return Zt.jsx("div",{className:"textrow row logevent alert-warning",children:Zt.jsx("div",{className:"col-md-12",children:t.line})})}}const LI=()=>{const i=Di.useRef(null),[t,n]=Di.useState(!0),{messages:s}=E1(),{phantomMessages:o}=w1();Di.useEffect(()=>{const q=i.current;console.log("scroll height:"+q.scrollHeight),q.scrollTop=q.scrollHeight},[s.length,o.length]);var c=s,y=0,E="tirc_screen",S=0,R="tirc_screen_"+S,O=c.map(q=>(y++,Zt.jsx(kI,{elem:q},y))),M=o.map((q,nt)=>Zt.jsx(IS,{...q}));let d=O.concat(M);return Zt.jsx("div",{ref:i,className:E,id:R,children:d})},PI="65fac812c50542dfb026115c52cff16a";$.embedly.defaults.key=PI;$.embedly.defaults.query={chars:400,autoplay:!1};const kw=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;class UI{embedly(t,n){}embedlyText(t,n){var s=t.replace(kw,function(c){return'<a  href="'+c+'" target="_blank">'+c+"</a>"}),o=$("<span>"+s+"</span>");$(o).embedly({done:function(){n(o.html())}})}calculateVideoHeight(){return $(".tirc_main_panel_middle").outerHeight()/2}hasLink(t){return!!kw.test(t)}}let Ag=new UI;const jI=i=>{i.tircusers.sort((s,o)=>o.time-s.time);var t=i.index,n="tirc_main_panel_middle_0";return Ag.calculateVideoHeight(),Zt.jsx("div",{className:"tirc_main_panel_middle  row",id:n,children:Zt.jsx(LI,{scrolling:i.scrolling,scroll:i.scroll,toggleEmotion:i.toggleEmotion,index:t,connectdata:i.connectdata,currentdata:i.currentdata,activedata:i.activedata})})};function xe(i,t,n,s,o){if(typeof t=="function"?i!==t||!0:!t.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(i,n),n}function pt(i,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?i!==t||!s:!t.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(i):s?s.value:t.get(i)}let T1=function(){const{crypto:i}=globalThis;if(i?.randomUUID)return T1=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),n=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};function bg(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Sg=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};class Te extends Error{}class gi extends Te{constructor(t,n,s,o){super(`${gi.makeMessage(t,n,s)}`),this.status=t,this.headers=o,this.requestID=o?.get("x-request-id"),this.error=n;const c=n;this.code=c?.code,this.param=c?.param,this.type=c?.type}static makeMessage(t,n,s){const o=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,s,o){if(!t||!o)return new rp({message:s,cause:Sg(n)});const c=n?.error;return t===400?new A1(t,c,s,o):t===401?new b1(t,c,s,o):t===403?new S1(t,c,s,o):t===404?new R1(t,c,s,o):t===409?new x1(t,c,s,o):t===422?new C1(t,c,s,o):t===429?new I1(t,c,s,o):t>=500?new N1(t,c,s,o):new gi(t,c,s,o)}}class aa extends gi{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class rp extends gi{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Sy extends rp{constructor({message:t}={}){super({message:t??"Request timed out."})}}class A1 extends gi{}class b1 extends gi{}class S1 extends gi{}class R1 extends gi{}class x1 extends gi{}class C1 extends gi{}class I1 extends gi{}class N1 extends gi{}class D1 extends Te{constructor(){super("Could not parse response content as the length limit was reached")}}class O1 extends Te{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class hf extends Error{constructor(t){super(t)}}const BI=/^[a-z][a-z0-9+.-]*:/i,qI=i=>BI.test(i);let hs=i=>(hs=Array.isArray,hs(i)),Lw=hs;function zI(i){return typeof i!="object"?{}:i??{}}function HI(i){if(!i)return!0;for(const t in i)return!1;return!0}function FI(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Vm(i){return i!=null&&typeof i=="object"&&!Array.isArray(i)}const $I=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Te(`${i} must be an integer`);if(t<0)throw new Te(`${i} must be a positive integer`);return t},GI=i=>{try{return JSON.parse(i)}catch{return}},Qf=i=>new Promise(t=>setTimeout(t,i)),oc="5.13.1",QI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function XI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const YI=()=>{const i=XI();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oc,"X-Stainless-OS":Uw(Deno.build.os),"X-Stainless-Arch":Pw(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oc,"X-Stainless-OS":Uw(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Pw(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=KI();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function KI(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of i){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,c=s[2]||0,y=s[3]||0;return{browser:t,version:`${o}.${c}.${y}`}}}return null}const Pw=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Uw=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let jw;const WI=()=>jw??(jw=YI());function JI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function M1(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function V1(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return M1({start(){},async pull(n){const{done:s,value:o}=await t.next();s?n.close():n.enqueue(o)},async cancel(){await t.return?.()}})}function k1(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const n=await t.read();return n?.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ZI(i){if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await i[Symbol.asyncIterator]().return?.();return}const t=i.getReader(),n=t.cancel();t.releaseLock(),await n}const tN=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),L1="RFC3986",P1=i=>String(i),Bw={RFC1738:i=>String(i).replace(/%20/g,"+"),RFC3986:P1},eN="RFC1738";let Rg=(i,t)=>(Rg=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Rg(i,t));const ro=(()=>{const i=[];for(let t=0;t<256;++t)i.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return i})(),km=1024,nN=(i,t,n,s,o)=>{if(i.length===0)return i;let c=i;if(typeof i=="symbol"?c=Symbol.prototype.toString.call(i):typeof i!="string"&&(c=String(i)),n==="iso-8859-1")return escape(c).replace(/%u[0-9a-f]{4}/gi,function(E){return"%26%23"+parseInt(E.slice(2),16)+"%3B"});let y="";for(let E=0;E<c.length;E+=km){const S=c.length>=km?c.slice(E,E+km):c,R=[];for(let O=0;O<S.length;++O){let M=S.charCodeAt(O);if(M===45||M===46||M===95||M===126||M>=48&&M<=57||M>=65&&M<=90||M>=97&&M<=122||o===eN&&(M===40||M===41)){R[R.length]=S.charAt(O);continue}if(M<128){R[R.length]=ro[M];continue}if(M<2048){R[R.length]=ro[192|M>>6]+ro[128|M&63];continue}if(M<55296||M>=57344){R[R.length]=ro[224|M>>12]+ro[128|M>>6&63]+ro[128|M&63];continue}O+=1,M=65536+((M&1023)<<10|S.charCodeAt(O)&1023),R[R.length]=ro[240|M>>18]+ro[128|M>>12&63]+ro[128|M>>6&63]+ro[128|M&63]}y+=R.join("")}return y};function rN(i){return!i||typeof i!="object"?!1:!!(i.constructor&&i.constructor.isBuffer&&i.constructor.isBuffer(i))}function qw(i,t){if(hs(i)){const n=[];for(let s=0;s<i.length;s+=1)n.push(t(i[s]));return n}return t(i)}const U1={brackets(i){return String(i)+"[]"},comma:"comma",indices(i,t){return String(i)+"["+t+"]"},repeat(i){return String(i)}},j1=function(i,t){Array.prototype.push.apply(i,hs(t)?t:[t])};let zw;const Lr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:nN,encodeValuesOnly:!1,format:L1,formatter:P1,indices:!1,serializeDate(i){return(zw??(zw=Function.prototype.call.bind(Date.prototype.toISOString)))(i)},skipNulls:!1,strictNullHandling:!1};function iN(i){return typeof i=="string"||typeof i=="number"||typeof i=="boolean"||typeof i=="symbol"||typeof i=="bigint"}const Lm={};function B1(i,t,n,s,o,c,y,E,S,R,O,M,d,q,nt,dt,_t,Ut){let Tt=i,Ft=Ut,jt=0,Qt=!1;for(;(Ft=Ft.get(Lm))!==void 0&&!Qt;){const Z=Ft.get(i);if(jt+=1,typeof Z<"u"){if(Z===jt)throw new RangeError("Cyclic object value");Qt=!0}typeof Ft.get(Lm)>"u"&&(jt=0)}if(typeof R=="function"?Tt=R(t,Tt):Tt instanceof Date?Tt=d?.(Tt):n==="comma"&&hs(Tt)&&(Tt=qw(Tt,function(Z){return Z instanceof Date?d?.(Z):Z})),Tt===null){if(c)return S&&!dt?S(t,Lr.encoder,_t,"key",q):t;Tt=""}if(iN(Tt)||rN(Tt)){if(S){const Z=dt?t:S(t,Lr.encoder,_t,"key",q);return[nt?.(Z)+"="+nt?.(S(Tt,Lr.encoder,_t,"value",q))]}return[nt?.(t)+"="+nt?.(String(Tt))]}const se=[];if(typeof Tt>"u")return se;let K;if(n==="comma"&&hs(Tt))dt&&S&&(Tt=qw(Tt,S)),K=[{value:Tt.length>0?Tt.join(",")||null:void 0}];else if(hs(R))K=R;else{const Z=Object.keys(Tt);K=O?Z.sort(O):Z}const P=E?String(t).replace(/\./g,"%2E"):String(t),H=s&&hs(Tt)&&Tt.length===1?P+"[]":P;if(o&&hs(Tt)&&Tt.length===0)return H+"[]";for(let Z=0;Z<K.length;++Z){const W=K[Z],rt=typeof W=="object"&&typeof W.value<"u"?W.value:Tt[W];if(y&&rt===null)continue;const F=M&&E?W.replace(/\./g,"%2E"):W,rn=hs(Tt)?typeof n=="function"?n(H,F):H:H+(M?"."+F:"["+F+"]");Ut.set(i,jt);const un=new WeakMap;un.set(Lm,Ut),j1(se,B1(rt,rn,n,s,o,c,y,E,n==="comma"&&dt&&hs(Tt)?null:S,R,O,M,d,q,nt,dt,_t,un))}return se}function sN(i=Lr){if(typeof i.allowEmptyArrays<"u"&&typeof i.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof i.encodeDotInKeys<"u"&&typeof i.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(i.encoder!==null&&typeof i.encoder<"u"&&typeof i.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=i.charset||Lr.charset;if(typeof i.charset<"u"&&i.charset!=="utf-8"&&i.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=L1;if(typeof i.format<"u"){if(!Rg(Bw,i.format))throw new TypeError("Unknown format option provided.");n=i.format}const s=Bw[n];let o=Lr.filter;(typeof i.filter=="function"||hs(i.filter))&&(o=i.filter);let c;if(i.arrayFormat&&i.arrayFormat in U1?c=i.arrayFormat:"indices"in i?c=i.indices?"indices":"repeat":c=Lr.arrayFormat,"commaRoundTrip"in i&&typeof i.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const y=typeof i.allowDots>"u"?i.encodeDotInKeys?!0:Lr.allowDots:!!i.allowDots;return{addQueryPrefix:typeof i.addQueryPrefix=="boolean"?i.addQueryPrefix:Lr.addQueryPrefix,allowDots:y,allowEmptyArrays:typeof i.allowEmptyArrays=="boolean"?!!i.allowEmptyArrays:Lr.allowEmptyArrays,arrayFormat:c,charset:t,charsetSentinel:typeof i.charsetSentinel=="boolean"?i.charsetSentinel:Lr.charsetSentinel,commaRoundTrip:!!i.commaRoundTrip,delimiter:typeof i.delimiter>"u"?Lr.delimiter:i.delimiter,encode:typeof i.encode=="boolean"?i.encode:Lr.encode,encodeDotInKeys:typeof i.encodeDotInKeys=="boolean"?i.encodeDotInKeys:Lr.encodeDotInKeys,encoder:typeof i.encoder=="function"?i.encoder:Lr.encoder,encodeValuesOnly:typeof i.encodeValuesOnly=="boolean"?i.encodeValuesOnly:Lr.encodeValuesOnly,filter:o,format:n,formatter:s,serializeDate:typeof i.serializeDate=="function"?i.serializeDate:Lr.serializeDate,skipNulls:typeof i.skipNulls=="boolean"?i.skipNulls:Lr.skipNulls,sort:typeof i.sort=="function"?i.sort:null,strictNullHandling:typeof i.strictNullHandling=="boolean"?i.strictNullHandling:Lr.strictNullHandling}}function aN(i,t={}){let n=i;const s=sN(t);let o,c;typeof s.filter=="function"?(c=s.filter,n=c("",n)):hs(s.filter)&&(c=s.filter,o=c);const y=[];if(typeof n!="object"||n===null)return"";const E=U1[s.arrayFormat],S=E==="comma"&&s.commaRoundTrip;o||(o=Object.keys(n)),s.sort&&o.sort(s.sort);const R=new WeakMap;for(let d=0;d<o.length;++d){const q=o[d];s.skipNulls&&n[q]===null||j1(y,B1(n[q],q,E,S,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,R))}const O=y.join(s.delimiter);let M=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?M+="utf8=%26%2310003%3B&":M+="utf8=%E2%9C%93&"),O.length>0?M+O:""}function oN(i){let t=0;for(const o of i)t+=o.length;const n=new Uint8Array(t);let s=0;for(const o of i)n.set(o,s),s+=o.length;return n}let Hw;function Ry(i){let t;return(Hw??(t=new globalThis.TextEncoder,Hw=t.encode.bind(t)))(i)}let Fw;function $w(i){let t;return(Fw??(t=new globalThis.TextDecoder,Fw=t.decode.bind(t)))(i)}var Ms,Vs;class ip{constructor(){Ms.set(this,void 0),Vs.set(this,void 0),xe(this,Ms,new Uint8Array),xe(this,Vs,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ry(t):t;xe(this,Ms,oN([pt(this,Ms,"f"),n]));const s=[];let o;for(;(o=lN(pt(this,Ms,"f"),pt(this,Vs,"f")))!=null;){if(o.carriage&&pt(this,Vs,"f")==null){xe(this,Vs,o.index);continue}if(pt(this,Vs,"f")!=null&&(o.index!==pt(this,Vs,"f")+1||o.carriage)){s.push($w(pt(this,Ms,"f").subarray(0,pt(this,Vs,"f")-1))),xe(this,Ms,pt(this,Ms,"f").subarray(pt(this,Vs,"f"))),xe(this,Vs,null);continue}const c=pt(this,Vs,"f")!==null?o.preceding-1:o.preceding,y=$w(pt(this,Ms,"f").subarray(0,c));s.push(y),xe(this,Ms,pt(this,Ms,"f").subarray(o.index)),xe(this,Vs,null)}return s}flush(){return pt(this,Ms,"f").length?this.decode(`
`):[]}}Ms=new WeakMap,Vs=new WeakMap;ip.NEWLINE_CHARS=new Set([`
`,"\r"]);ip.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function lN(i,t){for(let o=t??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function uN(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}const Md={off:0,error:200,warn:300,info:400,debug:500},Gw=(i,t,n)=>{if(i){if(FI(Md,i))return i;fi(n).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Md))}`)}};function df(){}function Kh(i,t,n){return!t||Md[i]>Md[n]?df:t[i].bind(t)}const cN={error:df,warn:df,info:df,debug:df};let Qw=new WeakMap;function fi(i){const t=i.logger,n=i.logLevel??"off";if(!t)return cN;const s=Qw.get(t);if(s&&s[0]===n)return s[1];const o={error:Kh("error",t,n),warn:Kh("warn",t,n),info:Kh("info",t,n),debug:Kh("debug",t,n)};return Qw.set(t,[n,o]),o}const fu=i=>(i.options&&(i.options={...i.options},delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,n])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);var af;class ao{constructor(t,n,s){this.iterator=t,af.set(this,void 0),this.controller=n,xe(this,af,s)}static fromSSEResponse(t,n,s){let o=!1;const c=s?fi(s):console;async function*y(){if(o)throw new Te("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let E=!1;try{for await(const S of fN(t,n))if(!E){if(S.data.startsWith("[DONE]")){E=!0;continue}if(S.event===null||!S.event.startsWith("thread.")){let R;try{R=JSON.parse(S.data)}catch(O){throw c.error("Could not parse message into JSON:",S.data),c.error("From chunk:",S.raw),O}if(R&&R.error)throw new gi(void 0,R.error,void 0,t.headers);yield R}else{let R;try{R=JSON.parse(S.data)}catch(O){throw console.error("Could not parse message into JSON:",S.data),console.error("From chunk:",S.raw),O}if(S.event=="error")throw new gi(void 0,R.error,R.message,void 0);yield{event:S.event,data:R}}}E=!0}catch(S){if(bg(S))return;throw S}finally{E||n.abort()}}return new ao(y,n,s)}static fromReadableStream(t,n,s){let o=!1;async function*c(){const E=new ip,S=k1(t);for await(const R of S)for(const O of E.decode(R))yield O;for(const R of E.flush())yield R}async function*y(){if(o)throw new Te("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let E=!1;try{for await(const S of c())E||S&&(yield JSON.parse(S));E=!0}catch(S){if(bg(S))return;throw S}finally{E||n.abort()}}return new ao(y,n,s)}[(af=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],s=this.iterator(),o=c=>({next:()=>{if(c.length===0){const y=s.next();t.push(y),n.push(y)}return c.shift()}});return[new ao(()=>o(t),this.controller,pt(this,af,"f")),new ao(()=>o(n),this.controller,pt(this,af,"f"))]}toReadableStream(){const t=this;let n;return M1({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:c}=await n.next();if(c)return s.close();const y=Ry(JSON.stringify(o)+`
`);s.enqueue(y)}catch(o){s.error(o)}},async cancel(){await n.return?.()}})}}async function*fN(i,t){if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Te("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Te("Attempted to iterate over a response with no body");const n=new dN,s=new ip,o=k1(i.body);for await(const c of hN(o))for(const y of s.decode(c)){const E=n.decode(y);E&&(yield E)}for(const c of s.flush()){const y=n.decode(c);y&&(yield y)}}async function*hN(i){let t=new Uint8Array;for await(const n of i){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Ry(n):n;let o=new Uint8Array(t.length+s.length);o.set(t),o.set(s,t.length),t=o;let c;for(;(c=uN(t))!==-1;)yield t.slice(0,c),t=t.slice(c)}t.length>0&&(yield t)}class dN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,s,o]=pN(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function pN(i,t){const n=i.indexOf(t);return n!==-1?[i.substring(0,n),t,i.substring(n+t.length)]:[i,"",""]}async function q1(i,t){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:c}=t,y=await(async()=>{if(t.options.stream)return fi(i).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,i):ao.fromSSEResponse(n,t.controller,i);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const S=n.headers.get("content-type")?.split(";")[0]?.trim();if(S?.includes("application/json")||S?.endsWith("+json")){const M=await n.json();return z1(M,n)}return await n.text()})();return fi(i).debug(`[${s}] response parsed`,fu({retryOfRequestLogID:o,url:n.url,status:n.status,body:y,durationMs:Date.now()-c})),y}function z1(i,t){return!i||typeof i!="object"||Array.isArray(i)?i:Object.defineProperty(i,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var pf;class sp extends Promise{constructor(t,n,s=q1){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,pf.set(this,void 0),xe(this,pf,t)}_thenUnwrap(t){return new sp(pt(this,pf,"f"),this.responsePromise,async(n,s)=>z1(t(await this.parseResponse(n,s),s),s.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(pt(this,pf,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}pf=new WeakMap;var Wh;class H1{constructor(t,n,s,o){Wh.set(this,void 0),xe(this,Wh,t),this.options=o,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new Te("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await pt(this,Wh,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Wh=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class mN extends sp{constructor(t,n,s){super(t,n,async(o,c)=>new s(o,c.response,await q1(o,c),c.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}class ap extends H1{constructor(t,n,s,o){super(t,n,s,o),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Sr extends H1{constructor(t,n,s,o){super(t,n,s,o),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.getPaginatedItems(),n=t[t.length-1]?.id;return n?{...this.options,query:{...zI(this.options.query),after:n}}:null}}const F1=()=>{if(typeof File>"u"){const{process:i}=globalThis,t=typeof i?.versions?.node=="string"&&parseInt(i.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Cf(i,t,n){return F1(),new File(i,t??"unknown_file",n)}function ud(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const $1=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function",Eu=async(i,t)=>({...i,body:await yN(i.body,t)}),Xw=new WeakMap;function gN(i){const t=typeof i=="function"?i:i.fetch,n=Xw.get(t);if(n)return n;const s=(async()=>{try{const o="Response"in t?t.Response:(await t("data:,")).constructor,c=new FormData;return c.toString()!==await new o(c).text()}catch{return!0}})();return Xw.set(t,s),s}const yN=async(i,t)=>{if(!await gN(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(i||{}).map(([s,o])=>xg(n,s,o))),n},_N=i=>i instanceof Blob&&"name"in i,xg=async(i,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")i.append(t,String(n));else if(n instanceof Response)i.append(t,Cf([await n.blob()],ud(n)));else if($1(n))i.append(t,Cf([await new Response(V1(n)).blob()],ud(n)));else if(_N(n))i.append(t,n,ud(n));else if(Array.isArray(n))await Promise.all(n.map(s=>xg(i,t+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,o])=>xg(i,`${t}[${s}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},G1=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",vN=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&G1(i),wN=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function EN(i,t,n){if(F1(),i=await i,vN(i))return i instanceof File?i:Cf([await i.arrayBuffer()],i.name);if(wN(i)){const o=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Cf(await Cg(o),t,n)}const s=await Cg(i);if(t||(t=ud(i)),!n?.type){const o=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof o=="string"&&(n={...n,type:o})}return Cf(s,t,n)}async function Cg(i){let t=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)t.push(i);else if(G1(i))t.push(i instanceof Blob?i:await i.arrayBuffer());else if($1(i))for await(const n of i)t.push(...await Cg(n));else{const n=i?.constructor?.name;throw new Error(`Unexpected data type: ${typeof i}${n?`; constructor: ${n}`:""}${TN(i)}`)}return t}function TN(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}class Ce{constructor(t){this._client=t}}function Q1(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Yw=Object.freeze(Object.create(null)),AN=(i=Q1)=>function(n,...s){if(n.length===1)return n[0];let o=!1;const c=[],y=n.reduce((O,M,d)=>{/[?#]/.test(M)&&(o=!0);const q=s[d];let nt=(o?encodeURIComponent:i)(""+q);return d!==s.length&&(q==null||typeof q=="object"&&q.toString===Object.getPrototypeOf(Object.getPrototypeOf(q.hasOwnProperty??Yw)??Yw)?.toString)&&(nt=q+"",c.push({start:O.length+M.length,length:nt.length,error:`Value of type ${Object.prototype.toString.call(q).slice(8,-1)} is not a valid path parameter`})),O+M+(d===s.length?"":nt)},""),E=y.split(/[?#]/,1)[0],S=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let R;for(;(R=S.exec(E))!==null;)c.push({start:R.index,length:R[0].length,error:`Value "${R[0]}" can't be safely passed as a path parameter`});if(c.sort((O,M)=>O.start-M.start),c.length>0){let O=0;const M=c.reduce((d,q)=>{const nt=" ".repeat(q.start-O),dt="^".repeat(q.length);return O=q.start+q.length,d+nt+dt},"");throw new Te(`Path parameters result in path with invalid segments:
${c.map(d=>d.error).join(`
`)}
${y}
${M}`)}return y},Gt=AN(Q1);let X1=class extends Ce{list(t,n={},s){return this._client.getAPIList(Gt`/chat/completions/${t}/messages`,Sr,{query:n,...s})}};function Vd(i){return i!==void 0&&"function"in i&&i.function!==void 0}function xy(i){return i?.$brand==="auto-parseable-response-format"}function Xf(i){return i?.$brand==="auto-parseable-tool"}function bN(i,t){return!t||!Y1(t)?{...i,choices:i.choices.map(n=>(K1(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Cy(i,t)}function Cy(i,t){const n=i.choices.map(s=>{if(s.finish_reason==="length")throw new D1;if(s.finish_reason==="content_filter")throw new O1;return K1(s.message.tool_calls),{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:s.message.tool_calls?.map(o=>RN(t,o))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?SN(t,s.message.content):null}}});return{...i,choices:n}}function SN(i,t){return i.response_format?.type!=="json_schema"?null:i.response_format?.type==="json_schema"?"$parseRaw"in i.response_format?i.response_format.$parseRaw(t):JSON.parse(t):null}function RN(i,t){const n=i.tools?.find(s=>Vd(s)&&s.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:Xf(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}function xN(i,t){if(!i||!("tools"in i)||!i.tools)return!1;const n=i.tools?.find(s=>Vd(s)&&s.function?.name===t.function.name);return Vd(n)&&(Xf(n)||n?.function.strict||!1)}function Y1(i){return xy(i.response_format)?!0:i.tools?.some(t=>Xf(t)||t.type==="function"&&t.function.strict===!0)??!1}function K1(i){for(const t of i||[])if(t.type!=="function")throw new Te(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function CN(i){for(const t of i??[]){if(t.type!=="function")throw new Te(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new Te(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const kd=i=>i?.role==="assistant",W1=i=>i?.role==="tool";var Ig,cd,fd,mf,gf,hd,yf,Lo,_f,Ld,Pd,lc,J1;class Iy{constructor(){Ig.add(this),this.controller=new AbortController,cd.set(this,void 0),fd.set(this,()=>{}),mf.set(this,()=>{}),gf.set(this,void 0),hd.set(this,()=>{}),yf.set(this,()=>{}),Lo.set(this,{}),_f.set(this,!1),Ld.set(this,!1),Pd.set(this,!1),lc.set(this,!1),xe(this,cd,new Promise((t,n)=>{xe(this,fd,t,"f"),xe(this,mf,n,"f")})),xe(this,gf,new Promise((t,n)=>{xe(this,hd,t,"f"),xe(this,yf,n,"f")})),pt(this,cd,"f").catch(()=>{}),pt(this,gf,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},pt(this,Ig,"m",J1).bind(this))},0)}_connected(){this.ended||(pt(this,fd,"f").call(this),this._emit("connect"))}get ended(){return pt(this,_f,"f")}get errored(){return pt(this,Ld,"f")}get aborted(){return pt(this,Pd,"f")}abort(){this.controller.abort()}on(t,n){return(pt(this,Lo,"f")[t]||(pt(this,Lo,"f")[t]=[])).push({listener:n}),this}off(t,n){const s=pt(this,Lo,"f")[t];if(!s)return this;const o=s.findIndex(c=>c.listener===n);return o>=0&&s.splice(o,1),this}once(t,n){return(pt(this,Lo,"f")[t]||(pt(this,Lo,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,s)=>{xe(this,lc,!0),t!=="error"&&this.once("error",s),this.once(t,n)})}async done(){xe(this,lc,!0),await pt(this,gf,"f")}_emit(t,...n){if(pt(this,_f,"f"))return;t==="end"&&(xe(this,_f,!0),pt(this,hd,"f").call(this));const s=pt(this,Lo,"f")[t];if(s&&(pt(this,Lo,"f")[t]=s.filter(o=>!o.once),s.forEach(({listener:o})=>o(...n))),t==="abort"){const o=n[0];!pt(this,lc,"f")&&!s?.length&&Promise.reject(o),pt(this,mf,"f").call(this,o),pt(this,yf,"f").call(this,o),this._emit("end");return}if(t==="error"){const o=n[0];!pt(this,lc,"f")&&!s?.length&&Promise.reject(o),pt(this,mf,"f").call(this,o),pt(this,yf,"f").call(this,o),this._emit("end")}}_emitFinal(){}}cd=new WeakMap,fd=new WeakMap,mf=new WeakMap,gf=new WeakMap,hd=new WeakMap,yf=new WeakMap,Lo=new WeakMap,_f=new WeakMap,Ld=new WeakMap,Pd=new WeakMap,lc=new WeakMap,Ig=new WeakSet,J1=function(t){if(xe(this,Ld,!0),t instanceof Error&&t.name==="AbortError"&&(t=new aa),t instanceof aa)return xe(this,Pd,!0),this._emit("abort",t);if(t instanceof Te)return this._emit("error",t);if(t instanceof Error){const n=new Te(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new Te(String(t)))};function IN(i){return typeof i.parse=="function"}var Xi,Ng,Ud,Dg,Og,Mg,Z1,tA;const NN=10;class eA extends Iy{constructor(){super(...arguments),Xi.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=t.choices[0]?.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),W1(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(kd(t)&&t.tool_calls)for(const s of t.tool_calls)s.type==="function"&&this._emit("functionToolCall",s.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new Te("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),pt(this,Xi,"m",Ng).call(this)}async finalMessage(){return await this.done(),pt(this,Xi,"m",Ud).call(this)}async finalFunctionToolCall(){return await this.done(),pt(this,Xi,"m",Dg).call(this)}async finalFunctionToolCallResult(){return await this.done(),pt(this,Xi,"m",Og).call(this)}async totalUsage(){return await this.done(),pt(this,Xi,"m",Mg).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=pt(this,Xi,"m",Ud).call(this);n&&this._emit("finalMessage",n);const s=pt(this,Xi,"m",Ng).call(this);s&&this._emit("finalContent",s);const o=pt(this,Xi,"m",Dg).call(this);o&&this._emit("finalFunctionToolCall",o);const c=pt(this,Xi,"m",Og).call(this);c!=null&&this._emit("finalFunctionToolCallResult",c),this._chatCompletions.some(y=>y.usage)&&this._emit("totalUsage",pt(this,Xi,"m",Mg).call(this))}async _createChatCompletion(t,n,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),pt(this,Xi,"m",Z1).call(this,n);const c=await t.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Cy(c,n))}async _runChatCompletion(t,n,s){for(const o of n.messages)this._addMessage(o,!1);return await this._createChatCompletion(t,n,s)}async _runTools(t,n,s){const o="tool",{tool_choice:c="auto",stream:y,...E}=n,S=typeof c!="string"&&c.type==="function"&&c?.function?.name,{maxChatCompletions:R=NN}=s||{},O=n.tools.map(q=>{if(Xf(q)){if(!q.$callback)throw new Te("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:q.$callback,name:q.function.name,description:q.function.description||"",parameters:q.function.parameters,parse:q.$parseRaw,strict:!0}}}return q}),M={};for(const q of O)q.type==="function"&&(M[q.function.name||q.function.function.name]=q.function);const d="tools"in n?O.map(q=>q.type==="function"?{type:"function",function:{name:q.function.name||q.function.function.name,parameters:q.function.parameters,description:q.function.description,strict:q.function.strict}}:q):void 0;for(const q of n.messages)this._addMessage(q,!1);for(let q=0;q<R;++q){const dt=(await this._createChatCompletion(t,{...E,tool_choice:c,tools:d,messages:[...this.messages]},s)).choices[0]?.message;if(!dt)throw new Te("missing message in ChatCompletion response");if(!dt.tool_calls?.length)return;for(const _t of dt.tool_calls){if(_t.type!=="function")continue;const Ut=_t.id,{name:Tt,arguments:Ft}=_t.function,jt=M[Tt];if(jt){if(S&&S!==Tt){const P=`Invalid tool_call: ${JSON.stringify(Tt)}. ${JSON.stringify(S)} requested. Please try again`;this._addMessage({role:o,tool_call_id:Ut,content:P});continue}}else{const P=`Invalid tool_call: ${JSON.stringify(Tt)}. Available options are: ${Object.keys(M).map(H=>JSON.stringify(H)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:Ut,content:P});continue}let Qt;try{Qt=IN(jt)?await jt.parse(Ft):Ft}catch(P){const H=P instanceof Error?P.message:String(P);this._addMessage({role:o,tool_call_id:Ut,content:H});continue}const se=await jt.function(Qt,this),K=pt(this,Xi,"m",tA).call(this,se);if(this._addMessage({role:o,tool_call_id:Ut,content:K}),S)return}}}}Xi=new WeakSet,Ng=function(){return pt(this,Xi,"m",Ud).call(this).content??null},Ud=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(kd(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Te("stream ended without producing a ChatCompletionMessage with role=assistant")},Dg=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(kd(n)&&n?.tool_calls?.length)return n.tool_calls.filter(s=>s.type==="function").at(-1)?.function}},Og=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(W1(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>s.role==="assistant"&&s.tool_calls?.some(o=>o.type==="function"&&o.id===n.tool_call_id)))return n.content}},Mg=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},Z1=function(t){if(t.n!=null&&t.n>1)throw new Te("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},tA=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Ny extends eA{static runTools(t,n,s){const o=new Ny,c={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,n,c)),o}_addMessage(t,n=!0){super._addMessage(t,n),kd(t)&&t.content&&this._emit("content",t.content)}}const nA=1,rA=2,iA=4,sA=8,aA=16,oA=32,lA=64,uA=128,cA=256,fA=uA|cA,hA=aA|oA|fA|lA,dA=nA|rA|hA,pA=iA|sA,DN=dA|pA,Kr={STR:nA,NUM:rA,ARR:iA,OBJ:sA,NULL:aA,BOOL:oA,NAN:lA,INFINITY:uA,MINUS_INFINITY:cA,INF:fA,SPECIAL:hA,ATOM:dA,COLLECTION:pA,ALL:DN};class ON extends Error{}class MN extends Error{}function VN(i,t=Kr.ALL){if(typeof i!="string")throw new TypeError(`expecting str, got ${typeof i}`);if(!i.trim())throw new Error(`${i} is empty`);return kN(i.trim(),t)}const kN=(i,t)=>{const n=i.length;let s=0;const o=d=>{throw new ON(`${d} at position ${s}`)},c=d=>{throw new MN(`${d} at position ${s}`)},y=()=>(M(),s>=n&&o("Unexpected end of input"),i[s]==='"'?E():i[s]==="{"?S():i[s]==="["?R():i.substring(s,s+4)==="null"||Kr.NULL&t&&n-s<4&&"null".startsWith(i.substring(s))?(s+=4,null):i.substring(s,s+4)==="true"||Kr.BOOL&t&&n-s<4&&"true".startsWith(i.substring(s))?(s+=4,!0):i.substring(s,s+5)==="false"||Kr.BOOL&t&&n-s<5&&"false".startsWith(i.substring(s))?(s+=5,!1):i.substring(s,s+8)==="Infinity"||Kr.INFINITY&t&&n-s<8&&"Infinity".startsWith(i.substring(s))?(s+=8,1/0):i.substring(s,s+9)==="-Infinity"||Kr.MINUS_INFINITY&t&&1<n-s&&n-s<9&&"-Infinity".startsWith(i.substring(s))?(s+=9,-1/0):i.substring(s,s+3)==="NaN"||Kr.NAN&t&&n-s<3&&"NaN".startsWith(i.substring(s))?(s+=3,NaN):O()),E=()=>{const d=s;let q=!1;for(s++;s<n&&(i[s]!=='"'||q&&i[s-1]==="\\");)q=i[s]==="\\"?!q:!1,s++;if(i.charAt(s)=='"')try{return JSON.parse(i.substring(d,++s-Number(q)))}catch(nt){c(String(nt))}else if(Kr.STR&t)try{return JSON.parse(i.substring(d,s-Number(q))+'"')}catch{return JSON.parse(i.substring(d,i.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},S=()=>{s++,M();const d={};try{for(;i[s]!=="}";){if(M(),s>=n&&Kr.OBJ&t)return d;const q=E();M(),s++;try{const nt=y();Object.defineProperty(d,q,{value:nt,writable:!0,enumerable:!0,configurable:!0})}catch(nt){if(Kr.OBJ&t)return d;throw nt}M(),i[s]===","&&s++}}catch{if(Kr.OBJ&t)return d;o("Expected '}' at end of object")}return s++,d},R=()=>{s++;const d=[];try{for(;i[s]!=="]";)d.push(y()),M(),i[s]===","&&s++}catch{if(Kr.ARR&t)return d;o("Expected ']' at end of array")}return s++,d},O=()=>{if(s===0){i==="-"&&Kr.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(i)}catch(q){if(Kr.NUM&t)try{return i[i.length-1]==="."?JSON.parse(i.substring(0,i.lastIndexOf("."))):JSON.parse(i.substring(0,i.lastIndexOf("e")))}catch{}c(String(q))}}const d=s;for(i[s]==="-"&&s++;i[s]&&!",]}".includes(i[s]);)s++;s==n&&!(Kr.NUM&t)&&o("Unterminated number literal");try{return JSON.parse(i.substring(d,s))}catch{i.substring(d,s)==="-"&&Kr.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(i.substring(d,i.lastIndexOf("e")))}catch(nt){c(String(nt))}}},M=()=>{for(;s<n&&` 
\r	`.includes(i[s]);)s++};return y()},Kw=i=>VN(i,Kr.ALL^Kr.NUM);var kr,ko,tc,wl,Pm,Jh,Um,jm,Bm,Zh,qm,Ww;class Bf extends eA{constructor(t){super(),kr.add(this),ko.set(this,void 0),tc.set(this,void 0),wl.set(this,void 0),xe(this,ko,t),xe(this,tc,[])}get currentChatCompletionSnapshot(){return pt(this,wl,"f")}static fromReadableStream(t){const n=new Bf(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,s){const o=new Bf(n);return o._run(()=>o._runChatCompletion(t,{...n,stream:!0},{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(t,n,s){super._createChatCompletion;const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),pt(this,kr,"m",Pm).call(this);const c=await t.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const y of c)pt(this,kr,"m",Um).call(this,y);if(c.controller.signal?.aborted)throw new aa;return this._addChatCompletion(pt(this,kr,"m",Zh).call(this))}async _fromReadableStream(t,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),pt(this,kr,"m",Pm).call(this),this._connected();const o=ao.fromReadableStream(t,this.controller);let c;for await(const y of o)c&&c!==y.id&&this._addChatCompletion(pt(this,kr,"m",Zh).call(this)),pt(this,kr,"m",Um).call(this,y),c=y.id;if(o.controller.signal?.aborted)throw new aa;return this._addChatCompletion(pt(this,kr,"m",Zh).call(this))}[(ko=new WeakMap,tc=new WeakMap,wl=new WeakMap,kr=new WeakSet,Pm=function(){this.ended||xe(this,wl,void 0)},Jh=function(n){let s=pt(this,tc,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},pt(this,tc,"f")[n.index]=s,s)},Um=function(n){if(this.ended)return;const s=pt(this,kr,"m",Ww).call(this,n);this._emit("chunk",n,s);for(const o of n.choices){const c=s.choices[o.index];o.delta.content!=null&&c.message?.role==="assistant"&&c.message?.content&&(this._emit("content",o.delta.content,c.message.content),this._emit("content.delta",{delta:o.delta.content,snapshot:c.message.content,parsed:c.message.parsed})),o.delta.refusal!=null&&c.message?.role==="assistant"&&c.message?.refusal&&this._emit("refusal.delta",{delta:o.delta.refusal,snapshot:c.message.refusal}),o.logprobs?.content!=null&&c.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:o.logprobs?.content,snapshot:c.logprobs?.content??[]}),o.logprobs?.refusal!=null&&c.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:o.logprobs?.refusal,snapshot:c.logprobs?.refusal??[]});const y=pt(this,kr,"m",Jh).call(this,c);c.finish_reason&&(pt(this,kr,"m",Bm).call(this,c),y.current_tool_call_index!=null&&pt(this,kr,"m",jm).call(this,c,y.current_tool_call_index));for(const E of o.delta.tool_calls??[])y.current_tool_call_index!==E.index&&(pt(this,kr,"m",Bm).call(this,c),y.current_tool_call_index!=null&&pt(this,kr,"m",jm).call(this,c,y.current_tool_call_index)),y.current_tool_call_index=E.index;for(const E of o.delta.tool_calls??[]){const S=c.message.tool_calls?.[E.index];S?.type&&(S?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:S.function?.name,index:E.index,arguments:S.function.arguments,parsed_arguments:S.function.parsed_arguments,arguments_delta:E.function?.arguments??""}):(S?.type,void 0))}}},jm=function(n,s){if(pt(this,kr,"m",Jh).call(this,n).done_tool_calls.has(s))return;const c=n.message.tool_calls?.[s];if(!c)throw new Error("no tool call snapshot");if(!c.type)throw new Error("tool call snapshot missing `type`");if(c.type==="function"){const y=pt(this,ko,"f")?.tools?.find(E=>Vd(E)&&E.function.name===c.function.name);this._emit("tool_calls.function.arguments.done",{name:c.function.name,index:s,arguments:c.function.arguments,parsed_arguments:Xf(y)?y.$parseRaw(c.function.arguments):y?.function.strict?JSON.parse(c.function.arguments):null})}else c.type},Bm=function(n){const s=pt(this,kr,"m",Jh).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const o=pt(this,kr,"m",qm).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Zh=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");const n=pt(this,wl,"f");if(!n)throw new Te("request ended without sending any chunks");return xe(this,wl,void 0),xe(this,tc,[]),LN(n,pt(this,ko,"f"))},qm=function(){const n=pt(this,ko,"f")?.response_format;return xy(n)?n:null},Ww=function(n){var s,o,c,y;let E=pt(this,wl,"f");const{choices:S,...R}=n;E?Object.assign(E,R):E=xe(this,wl,{...R,choices:[]});for(const{delta:O,finish_reason:M,index:d,logprobs:q=null,...nt}of n.choices){let dt=E.choices[d];if(dt||(dt=E.choices[d]={finish_reason:M,index:d,message:{},logprobs:q,...nt}),q)if(!dt.logprobs)dt.logprobs=Object.assign({},q);else{const{content:se,refusal:K,...P}=q;Object.assign(dt.logprobs,P),se&&((s=dt.logprobs).content??(s.content=[]),dt.logprobs.content.push(...se)),K&&((o=dt.logprobs).refusal??(o.refusal=[]),dt.logprobs.refusal.push(...K))}if(M&&(dt.finish_reason=M,pt(this,ko,"f")&&Y1(pt(this,ko,"f")))){if(M==="length")throw new D1;if(M==="content_filter")throw new O1}if(Object.assign(dt,nt),!O)continue;const{content:_t,refusal:Ut,function_call:Tt,role:Ft,tool_calls:jt,...Qt}=O;if(Object.assign(dt.message,Qt),Ut&&(dt.message.refusal=(dt.message.refusal||"")+Ut),Ft&&(dt.message.role=Ft),Tt&&(dt.message.function_call?(Tt.name&&(dt.message.function_call.name=Tt.name),Tt.arguments&&((c=dt.message.function_call).arguments??(c.arguments=""),dt.message.function_call.arguments+=Tt.arguments)):dt.message.function_call=Tt),_t&&(dt.message.content=(dt.message.content||"")+_t,!dt.message.refusal&&pt(this,kr,"m",qm).call(this)&&(dt.message.parsed=Kw(dt.message.content))),jt){dt.message.tool_calls||(dt.message.tool_calls=[]);for(const{index:se,id:K,type:P,function:H,...Z}of jt){const W=(y=dt.message.tool_calls)[se]??(y[se]={});Object.assign(W,Z),K&&(W.id=K),P&&(W.type=P),H&&(W.function??(W.function={name:H.name??"",arguments:""})),H?.name&&(W.function.name=H.name),H?.arguments&&(W.function.arguments+=H.arguments,xN(pt(this,ko,"f"),W)&&(W.function.parsed_arguments=Kw(W.function.arguments)))}}}return E},Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("chunk",o=>{const c=n.shift();c?c.resolve(o):t.push(o)}),this.on("end",()=>{s=!0;for(const o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{s=!0;for(const c of n)c.reject(o);n.length=0}),this.on("error",o=>{s=!0;for(const c of n)c.reject(o);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,y)=>n.push({resolve:c,reject:y})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ao(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function LN(i,t){const{id:n,choices:s,created:o,model:c,system_fingerprint:y,...E}=i,S={...E,id:n,choices:s.map(({message:R,finish_reason:O,index:M,logprobs:d,...q})=>{if(!O)throw new Te(`missing finish_reason for choice ${M}`);const{content:nt=null,function_call:dt,tool_calls:_t,...Ut}=R,Tt=R.role;if(!Tt)throw new Te(`missing role for choice ${M}`);if(dt){const{arguments:Ft,name:jt}=dt;if(Ft==null)throw new Te(`missing function_call.arguments for choice ${M}`);if(!jt)throw new Te(`missing function_call.name for choice ${M}`);return{...q,message:{content:nt,function_call:{arguments:Ft,name:jt},role:Tt,refusal:R.refusal??null},finish_reason:O,index:M,logprobs:d}}return _t?{...q,index:M,finish_reason:O,logprobs:d,message:{...Ut,role:Tt,content:nt,refusal:R.refusal??null,tool_calls:_t.map((Ft,jt)=>{const{function:Qt,type:se,id:K,...P}=Ft,{arguments:H,name:Z,...W}=Qt||{};if(K==null)throw new Te(`missing choices[${M}].tool_calls[${jt}].id
${td(i)}`);if(se==null)throw new Te(`missing choices[${M}].tool_calls[${jt}].type
${td(i)}`);if(Z==null)throw new Te(`missing choices[${M}].tool_calls[${jt}].function.name
${td(i)}`);if(H==null)throw new Te(`missing choices[${M}].tool_calls[${jt}].function.arguments
${td(i)}`);return{...P,id:K,type:se,function:{...W,name:Z,arguments:H}}})}}:{...q,message:{...Ut,content:nt,role:Tt,refusal:R.refusal??null},finish_reason:O,index:M,logprobs:d}}),created:o,model:c,object:"chat.completion",...y?{system_fingerprint:y}:{}};return bN(S,t)}function td(i){return JSON.stringify(i)}class jd extends Bf{static fromReadableStream(t){const n=new jd(null);return n._run(()=>n._fromReadableStream(t)),n}static runTools(t,n,s){const o=new jd(n),c={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,n,c)),o}}let Dy=class extends Ce{constructor(){super(...arguments),this.messages=new X1(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(Gt`/chat/completions/${t}`,n)}update(t,n,s){return this._client.post(Gt`/chat/completions/${t}`,{body:n,...s})}list(t={},n){return this._client.getAPIList("/chat/completions",Sr,{query:t,...n})}delete(t,n){return this._client.delete(Gt`/chat/completions/${t}`,n)}parse(t,n){return CN(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(s=>Cy(s,t))}runTools(t,n){return t.stream?jd.runTools(this._client,t,n):Ny.runTools(this._client,t,n)}stream(t,n){return Bf.createChatCompletion(this._client,t,n)}};Dy.Messages=X1;class Oy extends Ce{constructor(){super(...arguments),this.completions=new Dy(this._client)}}Oy.Completions=Dy;const mA=Symbol("brand.privateNullableHeaders");function*PN(i){if(!i)return;if(mA in i){const{values:s,nulls:o}=i;yield*s.entries();for(const c of o)yield[c,null];return}let t=!1,n;i instanceof Headers?n=i.entries():Lw(i)?n=i:(t=!0,n=Object.entries(i??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const c=Lw(s[1])?s[1]:[s[1]];let y=!1;for(const E of c)E!==void 0&&(t&&!y&&(y=!0,yield[o,null]),yield[o,E])}}const de=i=>{const t=new Headers,n=new Set;for(const s of i){const o=new Set;for(const[c,y]of PN(s)){const E=c.toLowerCase();o.has(E)||(t.delete(c),o.add(E)),y===null?(t.delete(c),n.add(E)):(t.append(c,y),n.delete(E))}}return{[mA]:!0,values:t,nulls:n}};class gA extends Ce{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:de([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class yA extends Ce{create(t,n){return this._client.post("/audio/transcriptions",Eu({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class _A extends Ce{create(t,n){return this._client.post("/audio/translations",Eu({body:t,...n,__metadata:{model:t.model}},this._client))}}class Yf extends Ce{constructor(){super(...arguments),this.transcriptions=new yA(this._client),this.translations=new _A(this._client),this.speech=new gA(this._client)}}Yf.Transcriptions=yA;Yf.Translations=_A;Yf.Speech=gA;class vA extends Ce{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(Gt`/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/batches",Sr,{query:t,...n})}cancel(t,n){return this._client.post(Gt`/batches/${t}/cancel`,n)}}class wA extends Ce{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,n){return this._client.get(Gt`/assistants/${t}`,{...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,n,s){return this._client.post(Gt`/assistants/${t}`,{body:n,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t={},n){return this._client.getAPIList("/assistants",Sr,{query:t,...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,n){return this._client.delete(Gt`/assistants/${t}`,{...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class EA extends Ce{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class TA extends Ce{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class op extends Ce{constructor(){super(...arguments),this.sessions=new EA(this._client),this.transcriptionSessions=new TA(this._client)}}op.Sessions=EA;op.TranscriptionSessions=TA;class AA extends Ce{create(t,n,s){return this._client.post(Gt`/threads/${t}/messages`,{body:n,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(t,n,s){const{thread_id:o}=n;return this._client.get(Gt`/threads/${o}/messages/${t}`,{...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(t,n,s){const{thread_id:o,...c}=n;return this._client.post(Gt`/threads/${o}/messages/${t}`,{body:c,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,n={},s){return this._client.getAPIList(Gt`/threads/${t}/messages`,Sr,{query:n,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(t,n,s){const{thread_id:o}=n;return this._client.delete(Gt`/threads/${o}/messages/${t}`,{...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class bA extends Ce{retrieve(t,n,s){const{thread_id:o,run_id:c,...y}=n;return this._client.get(Gt`/threads/${o}/runs/${c}/steps/${t}`,{query:y,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,n,s){const{thread_id:o,...c}=n;return this._client.getAPIList(Gt`/threads/${o}/runs/${t}/steps`,Sr,{query:c,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}const UN=i=>{if(typeof Buffer<"u"){const t=Buffer.from(i,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(i),n=t.length,s=new Uint8Array(n);for(let o=0;o<n;o++)s[o]=t.charCodeAt(o);return Array.from(new Float32Array(s.buffer))}};var jN={};const ec=i=>{if(typeof globalThis.process<"u")return jN?.[i]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(i)?.trim()};var hi,pu,Vg,so,dd,Da,mu,cc,hu,Bd,ks,pd,md,If,vf,wf,Jw,Zw,tE,eE,nE,rE,iE;class Nf extends Iy{constructor(){super(...arguments),hi.add(this),Vg.set(this,[]),so.set(this,{}),dd.set(this,{}),Da.set(this,void 0),mu.set(this,void 0),cc.set(this,void 0),hu.set(this,void 0),Bd.set(this,void 0),ks.set(this,void 0),pd.set(this,void 0),md.set(this,void 0),If.set(this,void 0)}[(Vg=new WeakMap,so=new WeakMap,dd=new WeakMap,Da=new WeakMap,mu=new WeakMap,cc=new WeakMap,hu=new WeakMap,Bd=new WeakMap,ks=new WeakMap,pd=new WeakMap,md=new WeakMap,If=new WeakMap,hi=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("event",o=>{const c=n.shift();c?c.resolve(o):t.push(o)}),this.on("end",()=>{s=!0;for(const o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{s=!0;for(const c of n)c.reject(o);n.length=0}),this.on("error",o=>{s=!0;for(const c of n)c.reject(o);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,y)=>n.push({resolve:c,reject:y})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new pu;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const o=ao.fromReadableStream(t,this.controller);for await(const c of o)pt(this,hi,"m",vf).call(this,c);if(o.controller.signal?.aborted)throw new aa;return this._addRun(pt(this,hi,"m",wf).call(this))}toReadableStream(){return new ao(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,s,o){const c=new pu;return c._run(()=>c._runToolAssistantStream(t,n,s,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),c}async _createToolAssistantStream(t,n,s,o){const c=o?.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));const y={...s,stream:!0},E=await t.submitToolOutputs(n,y,{...o,signal:this.controller.signal});this._connected();for await(const S of E)pt(this,hi,"m",vf).call(this,S);if(E.controller.signal?.aborted)throw new aa;return this._addRun(pt(this,hi,"m",wf).call(this))}static createThreadAssistantStream(t,n,s){const o=new pu;return o._run(()=>o._threadAssistantStream(t,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(t,n,s,o){const c=new pu;return c._run(()=>c._runAssistantStream(t,n,s,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),c}currentEvent(){return pt(this,pd,"f")}currentRun(){return pt(this,md,"f")}currentMessageSnapshot(){return pt(this,Da,"f")}currentRunStepSnapshot(){return pt(this,If,"f")}async finalRunSteps(){return await this.done(),Object.values(pt(this,so,"f"))}async finalMessages(){return await this.done(),Object.values(pt(this,dd,"f"))}async finalRun(){if(await this.done(),!pt(this,mu,"f"))throw Error("Final run was not received.");return pt(this,mu,"f")}async _createThreadAssistantStream(t,n,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const c={...n,stream:!0},y=await t.createAndRun(c,{...s,signal:this.controller.signal});this._connected();for await(const E of y)pt(this,hi,"m",vf).call(this,E);if(y.controller.signal?.aborted)throw new aa;return this._addRun(pt(this,hi,"m",wf).call(this))}async _createAssistantStream(t,n,s,o){const c=o?.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));const y={...s,stream:!0},E=await t.create(n,y,{...o,signal:this.controller.signal});this._connected();for await(const S of E)pt(this,hi,"m",vf).call(this,S);if(E.controller.signal?.aborted)throw new aa;return this._addRun(pt(this,hi,"m",wf).call(this))}static accumulateDelta(t,n){for(const[s,o]of Object.entries(n)){if(!t.hasOwnProperty(s)){t[s]=o;continue}let c=t[s];if(c==null){t[s]=o;continue}if(s==="index"||s==="type"){t[s]=o;continue}if(typeof c=="string"&&typeof o=="string")c+=o;else if(typeof c=="number"&&typeof o=="number")c+=o;else if(Vm(c)&&Vm(o))c=this.accumulateDelta(c,o);else if(Array.isArray(c)&&Array.isArray(o)){if(c.every(y=>typeof y=="string"||typeof y=="number")){c.push(...o);continue}for(const y of o){if(!Vm(y))throw new Error(`Expected array delta entry to be an object but got: ${y}`);const E=y.index;if(E==null)throw console.error(y),new Error("Expected array delta entry to have an `index` property");if(typeof E!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${E}`);const S=c[E];S==null?c.push(y):c[E]=this.accumulateDelta(S,y)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${o}, accValue: ${c}`);t[s]=c}return t}_addRun(t){return t}async _threadAssistantStream(t,n,s){return await this._createThreadAssistantStream(n,t,s)}async _runAssistantStream(t,n,s,o){return await this._createAssistantStream(n,t,s,o)}async _runToolAssistantStream(t,n,s,o){return await this._createToolAssistantStream(n,t,s,o)}}pu=Nf,vf=function(t){if(!this.ended)switch(xe(this,pd,t),pt(this,hi,"m",tE).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":pt(this,hi,"m",iE).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":pt(this,hi,"m",Zw).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":pt(this,hi,"m",Jw).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},wf=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");if(!pt(this,mu,"f"))throw Error("Final run has not been received");return pt(this,mu,"f")},Jw=function(t){const[n,s]=pt(this,hi,"m",nE).call(this,t,pt(this,Da,"f"));xe(this,Da,n),pt(this,dd,"f")[n.id]=n;for(const o of s){const c=n.content[o.index];c?.type=="text"&&this._emit("textCreated",c.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const o of t.data.delta.content){if(o.type=="text"&&o.text){let c=o.text,y=n.content[o.index];if(y&&y.type=="text")this._emit("textDelta",c,y.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=pt(this,cc,"f")){if(pt(this,hu,"f"))switch(pt(this,hu,"f").type){case"text":this._emit("textDone",pt(this,hu,"f").text,pt(this,Da,"f"));break;case"image_file":this._emit("imageFileDone",pt(this,hu,"f").image_file,pt(this,Da,"f"));break}xe(this,cc,o.index)}xe(this,hu,n.content[o.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(pt(this,cc,"f")!==void 0){const o=t.data.content[pt(this,cc,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,pt(this,Da,"f"));break;case"text":this._emit("textDone",o.text,pt(this,Da,"f"));break}}pt(this,Da,"f")&&this._emit("messageDone",t.data),xe(this,Da,void 0)}},Zw=function(t){const n=pt(this,hi,"m",eE).call(this,t);switch(xe(this,If,n),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const s=t.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const c of s.step_details.tool_calls)c.index==pt(this,Bd,"f")?this._emit("toolCallDelta",c,n.step_details.tool_calls[c.index]):(pt(this,ks,"f")&&this._emit("toolCallDone",pt(this,ks,"f")),xe(this,Bd,c.index),xe(this,ks,n.step_details.tool_calls[c.index]),pt(this,ks,"f")&&this._emit("toolCallCreated",pt(this,ks,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":xe(this,If,void 0),t.data.step_details.type=="tool_calls"&&pt(this,ks,"f")&&(this._emit("toolCallDone",pt(this,ks,"f")),xe(this,ks,void 0)),this._emit("runStepDone",t.data,n);break}},tE=function(t){pt(this,Vg,"f").push(t),this._emit("event",t)},eE=function(t){switch(t.event){case"thread.run.step.created":return pt(this,so,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=pt(this,so,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=t.data;if(s.delta){const o=pu.accumulateDelta(n,s.delta);pt(this,so,"f")[t.data.id]=o}return pt(this,so,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":pt(this,so,"f")[t.data.id]=t.data;break}if(pt(this,so,"f")[t.data.id])return pt(this,so,"f")[t.data.id];throw new Error("No snapshot available")},nE=function(t,n){let s=[];switch(t.event){case"thread.message.created":return[t.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=t.data;if(o.delta.content)for(const c of o.delta.content)if(c.index in n.content){let y=n.content[c.index];n.content[c.index]=pt(this,hi,"m",rE).call(this,c,y)}else n.content[c.index]=c,s.push(c);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},rE=function(t,n){return pu.accumulateDelta(n,t)},iE=function(t){switch(xe(this,md,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":xe(this,mu,t.data),pt(this,ks,"f")&&(this._emit("toolCallDone",pt(this,ks,"f")),xe(this,ks,void 0));break}};let My=class extends Ce{constructor(){super(...arguments),this.steps=new bA(this._client)}create(t,n,s){const{include:o,...c}=n;return this._client.post(Gt`/threads/${t}/runs`,{query:{include:o},body:c,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:n.stream??!1})}retrieve(t,n,s){const{thread_id:o}=n;return this._client.get(Gt`/threads/${o}/runs/${t}`,{...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(t,n,s){const{thread_id:o,...c}=n;return this._client.post(Gt`/threads/${o}/runs/${t}`,{body:c,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,n={},s){return this._client.getAPIList(Gt`/threads/${t}/runs`,Sr,{query:n,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(t,n,s){const{thread_id:o}=n;return this._client.post(Gt`/threads/${o}/runs/${t}/cancel`,{...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(t,n,s){const o=await this.create(t,n,s);return await this.poll(o.id,{thread_id:t},s)}createAndStream(t,n,s){return Nf.createAssistantStream(t,this._client.beta.threads.runs,n,s)}async poll(t,n,s){const o=de([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:c,response:y}=await this.retrieve(t,n,{...s,headers:{...s?.headers,...o}}).withResponse();switch(c.status){case"queued":case"in_progress":case"cancelling":let E=5e3;if(s?.pollIntervalMs)E=s.pollIntervalMs;else{const S=y.headers.get("openai-poll-after-ms");if(S){const R=parseInt(S);isNaN(R)||(E=R)}}await Qf(E);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return c}}}stream(t,n,s){return Nf.createAssistantStream(t,this._client.beta.threads.runs,n,s)}submitToolOutputs(t,n,s){const{thread_id:o,...c}=n;return this._client.post(Gt`/threads/${o}/runs/${t}/submit_tool_outputs`,{body:c,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(t,n,s){const o=await this.submitToolOutputs(t,n,s);return await this.poll(o.id,n,s)}submitToolOutputsStream(t,n,s){return Nf.createToolAssistantStream(t,this._client.beta.threads.runs,n,s)}};My.Steps=bA;class lp extends Ce{constructor(){super(...arguments),this.runs=new My(this._client),this.messages=new AA(this._client)}create(t={},n){return this._client.post("/threads",{body:t,...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,n){return this._client.get(Gt`/threads/${t}`,{...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,n,s){return this._client.post(Gt`/threads/${t}`,{body:n,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(t,n){return this._client.delete(Gt`/threads/${t}`,{...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}async createAndRunPoll(t,n){const s=await this.createAndRun(t,n);return await this.runs.poll(s.id,{thread_id:s.thread_id},n)}createAndRunStream(t,n){return Nf.createThreadAssistantStream(t,this._client.beta.threads,n)}}lp.Runs=My;lp.Messages=AA;class Kf extends Ce{constructor(){super(...arguments),this.realtime=new op(this._client),this.assistants=new wA(this._client),this.threads=new lp(this._client)}}Kf.Realtime=op;Kf.Assistants=wA;Kf.Threads=lp;class SA extends Ce{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class RA extends Ce{retrieve(t,n,s){const{container_id:o}=n;return this._client.get(Gt`/containers/${o}/files/${t}/content`,{...s,headers:de([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}}let Vy=class extends Ce{constructor(){super(...arguments),this.content=new RA(this._client)}create(t,n,s){return this._client.post(Gt`/containers/${t}/files`,Eu({body:n,...s},this._client))}retrieve(t,n,s){const{container_id:o}=n;return this._client.get(Gt`/containers/${o}/files/${t}`,s)}list(t,n={},s){return this._client.getAPIList(Gt`/containers/${t}/files`,Sr,{query:n,...s})}delete(t,n,s){const{container_id:o}=n;return this._client.delete(Gt`/containers/${o}/files/${t}`,{...s,headers:de([{Accept:"*/*"},s?.headers])})}};Vy.Content=RA;class ky extends Ce{constructor(){super(...arguments),this.files=new Vy(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(Gt`/containers/${t}`,n)}list(t={},n){return this._client.getAPIList("/containers",Sr,{query:t,...n})}delete(t,n){return this._client.delete(Gt`/containers/${t}`,{...n,headers:de([{Accept:"*/*"},n?.headers])})}}ky.Files=Vy;class xA extends Ce{create(t,n){const s=!!t.encoding_format;let o=s?t.encoding_format:"base64";s&&fi(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const c=this._client.post("/embeddings",{body:{...t,encoding_format:o},...n});return s?c:(fi(this._client).debug("embeddings/decoding base64 embeddings from base64"),c._thenUnwrap(y=>(y&&y.data&&y.data.forEach(E=>{const S=E.embedding;E.embedding=UN(S)}),y)))}}class CA extends Ce{retrieve(t,n,s){const{eval_id:o,run_id:c}=n;return this._client.get(Gt`/evals/${o}/runs/${c}/output_items/${t}`,s)}list(t,n,s){const{eval_id:o,...c}=n;return this._client.getAPIList(Gt`/evals/${o}/runs/${t}/output_items`,Sr,{query:c,...s})}}class Ly extends Ce{constructor(){super(...arguments),this.outputItems=new CA(this._client)}create(t,n,s){return this._client.post(Gt`/evals/${t}/runs`,{body:n,...s})}retrieve(t,n,s){const{eval_id:o}=n;return this._client.get(Gt`/evals/${o}/runs/${t}`,s)}list(t,n={},s){return this._client.getAPIList(Gt`/evals/${t}/runs`,Sr,{query:n,...s})}delete(t,n,s){const{eval_id:o}=n;return this._client.delete(Gt`/evals/${o}/runs/${t}`,s)}cancel(t,n,s){const{eval_id:o}=n;return this._client.post(Gt`/evals/${o}/runs/${t}`,s)}}Ly.OutputItems=CA;class Py extends Ce{constructor(){super(...arguments),this.runs=new Ly(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(Gt`/evals/${t}`,n)}update(t,n,s){return this._client.post(Gt`/evals/${t}`,{body:n,...s})}list(t={},n){return this._client.getAPIList("/evals",Sr,{query:t,...n})}delete(t,n){return this._client.delete(Gt`/evals/${t}`,n)}}Py.Runs=Ly;let IA=class extends Ce{create(t,n){return this._client.post("/files",Eu({body:t,...n},this._client))}retrieve(t,n){return this._client.get(Gt`/files/${t}`,n)}list(t={},n){return this._client.getAPIList("/files",Sr,{query:t,...n})}delete(t,n){return this._client.delete(Gt`/files/${t}`,n)}content(t,n){return this._client.get(Gt`/files/${t}/content`,{...n,headers:de([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:s=1800*1e3}={}){const o=new Set(["processed","error","deleted"]),c=Date.now();let y=await this.retrieve(t);for(;!y.status||!o.has(y.status);)if(await Qf(n),y=await this.retrieve(t),Date.now()-c>s)throw new Sy({message:`Giving up on waiting for file ${t} to finish processing after ${s} milliseconds.`});return y}};class NA extends Ce{}let DA=class extends Ce{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class Uy extends Ce{constructor(){super(...arguments),this.graders=new DA(this._client)}}Uy.Graders=DA;class OA extends Ce{create(t,n,s){return this._client.getAPIList(Gt`/fine_tuning/checkpoints/${t}/permissions`,ap,{body:n,method:"post",...s})}retrieve(t,n={},s){return this._client.get(Gt`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...s})}delete(t,n,s){const{fine_tuned_model_checkpoint:o}=n;return this._client.delete(Gt`/fine_tuning/checkpoints/${o}/permissions/${t}`,s)}}let jy=class extends Ce{constructor(){super(...arguments),this.permissions=new OA(this._client)}};jy.Permissions=OA;class MA extends Ce{list(t,n={},s){return this._client.getAPIList(Gt`/fine_tuning/jobs/${t}/checkpoints`,Sr,{query:n,...s})}}class By extends Ce{constructor(){super(...arguments),this.checkpoints=new MA(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(Gt`/fine_tuning/jobs/${t}`,n)}list(t={},n){return this._client.getAPIList("/fine_tuning/jobs",Sr,{query:t,...n})}cancel(t,n){return this._client.post(Gt`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},s){return this._client.getAPIList(Gt`/fine_tuning/jobs/${t}/events`,Sr,{query:n,...s})}pause(t,n){return this._client.post(Gt`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(Gt`/fine_tuning/jobs/${t}/resume`,n)}}By.Checkpoints=MA;class Ac extends Ce{constructor(){super(...arguments),this.methods=new NA(this._client),this.jobs=new By(this._client),this.checkpoints=new jy(this._client),this.alpha=new Uy(this._client)}}Ac.Methods=NA;Ac.Jobs=By;Ac.Checkpoints=jy;Ac.Alpha=Uy;class VA extends Ce{}class qy extends Ce{constructor(){super(...arguments),this.graderModels=new VA(this._client)}}qy.GraderModels=VA;class kA extends Ce{createVariation(t,n){return this._client.post("/images/variations",Eu({body:t,...n},this._client))}edit(t,n){return this._client.post("/images/edits",Eu({body:t,...n,stream:t.stream??!1},this._client))}generate(t,n){return this._client.post("/images/generations",{body:t,...n,stream:t.stream??!1})}}class LA extends Ce{retrieve(t,n){return this._client.get(Gt`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",ap,t)}delete(t,n){return this._client.delete(Gt`/models/${t}`,n)}}class PA extends Ce{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function BN(i,t){return!t||!zN(t)?{...i,output_parsed:null,output:i.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(s=>({...s,parsed:null}))}:n)}:UA(i,t)}function UA(i,t){const n=i.output.map(o=>{if(o.type==="function_call")return{...o,parsed_arguments:$N(t,o)};if(o.type==="message"){const c=o.content.map(y=>y.type==="output_text"?{...y,parsed:qN(t,y.text)}:y);return{...o,content:c}}return o}),s=Object.assign({},i,{output:n});return Object.getOwnPropertyDescriptor(i,"output_text")||kg(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const o of s.output)if(o.type==="message"){for(const c of o.content)if(c.type==="output_text"&&c.parsed!==null)return c.parsed}return null}}),s}function qN(i,t){return i.text?.format?.type!=="json_schema"?null:"$parseRaw"in i.text?.format?(i.text?.format).$parseRaw(t):JSON.parse(t)}function zN(i){return!!xy(i.text?.format)}function HN(i){return i?.$brand==="auto-parseable-tool"}function FN(i,t){return i.find(n=>n.type==="function"&&n.name===t)}function $N(i,t){const n=FN(i.tools??[],t.name);return{...t,...t,parsed_arguments:HN(n)?n.$parseRaw(t.arguments):n?.strict?JSON.parse(t.arguments):null}}function kg(i){const t=[];for(const n of i.output)if(n.type==="message")for(const s of n.content)s.type==="output_text"&&t.push(s.text);i.output_text=t.join("")}var nc,ed,El,nd,sE,aE,oE,lE;class zy extends Iy{constructor(t){super(),nc.add(this),ed.set(this,void 0),El.set(this,void 0),nd.set(this,void 0),xe(this,ed,t)}static createResponse(t,n,s){const o=new zy(n);return o._run(()=>o._createOrRetrieveResponse(t,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createOrRetrieveResponse(t,n,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),pt(this,nc,"m",sE).call(this);let c,y=null;"response_id"in n?(c=await t.responses.retrieve(n.response_id,{stream:!0},{...s,signal:this.controller.signal,stream:!0}),y=n.starting_after??null):c=await t.responses.create({...n,stream:!0},{...s,signal:this.controller.signal}),this._connected();for await(const E of c)pt(this,nc,"m",aE).call(this,E,y);if(c.controller.signal?.aborted)throw new aa;return pt(this,nc,"m",oE).call(this)}[(ed=new WeakMap,El=new WeakMap,nd=new WeakMap,nc=new WeakSet,sE=function(){this.ended||xe(this,El,void 0)},aE=function(n,s){if(this.ended)return;const o=(y,E)=>{(s==null||E.sequence_number>s)&&this._emit(y,E)},c=pt(this,nc,"m",lE).call(this,n);switch(o("event",n),n.type){case"response.output_text.delta":{const y=c.output[n.output_index];if(!y)throw new Te(`missing output at index ${n.output_index}`);if(y.type==="message"){const E=y.content[n.content_index];if(!E)throw new Te(`missing content at index ${n.content_index}`);if(E.type!=="output_text")throw new Te(`expected content to be 'output_text', got ${E.type}`);o("response.output_text.delta",{...n,snapshot:E.text})}break}case"response.function_call_arguments.delta":{const y=c.output[n.output_index];if(!y)throw new Te(`missing output at index ${n.output_index}`);y.type==="function_call"&&o("response.function_call_arguments.delta",{...n,snapshot:y.arguments});break}default:o(n.type,n);break}},oE=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");const n=pt(this,El,"f");if(!n)throw new Te("request ended without sending any events");xe(this,El,void 0);const s=GN(n,pt(this,ed,"f"));return xe(this,nd,s),s},lE=function(n){let s=pt(this,El,"f");if(!s){if(n.type!=="response.created")throw new Te(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return s=xe(this,El,n.response),s}switch(n.type){case"response.output_item.added":{s.output.push(n.item);break}case"response.content_part.added":{const o=s.output[n.output_index];if(!o)throw new Te(`missing output at index ${n.output_index}`);o.type==="message"&&o.content.push(n.part);break}case"response.output_text.delta":{const o=s.output[n.output_index];if(!o)throw new Te(`missing output at index ${n.output_index}`);if(o.type==="message"){const c=o.content[n.content_index];if(!c)throw new Te(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Te(`expected content to be 'output_text', got ${c.type}`);c.text+=n.delta}break}case"response.function_call_arguments.delta":{const o=s.output[n.output_index];if(!o)throw new Te(`missing output at index ${n.output_index}`);o.type==="function_call"&&(o.arguments+=n.delta);break}case"response.completed":{xe(this,El,n.response);break}}return s},Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("event",o=>{const c=n.shift();c?c.resolve(o):t.push(o)}),this.on("end",()=>{s=!0;for(const o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{s=!0;for(const c of n)c.reject(o);n.length=0}),this.on("error",o=>{s=!0;for(const c of n)c.reject(o);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,y)=>n.push({resolve:c,reject:y})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=pt(this,nd,"f");if(!t)throw new Te("stream ended without producing a ChatCompletion");return t}}function GN(i,t){return BN(i,t)}class jA extends Ce{list(t,n={},s){return this._client.getAPIList(Gt`/responses/${t}/input_items`,Sr,{query:n,...s})}}class Hy extends Ce{constructor(){super(...arguments),this.inputItems=new jA(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&kg(s),s))}retrieve(t,n={},s){return this._client.get(Gt`/responses/${t}`,{query:n,...s,stream:n?.stream??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&kg(o),o))}delete(t,n){return this._client.delete(Gt`/responses/${t}`,{...n,headers:de([{Accept:"*/*"},n?.headers])})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(s=>UA(s,t))}stream(t,n){return zy.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(Gt`/responses/${t}/cancel`,n)}}Hy.InputItems=jA;class BA extends Ce{create(t,n,s){return this._client.post(Gt`/uploads/${t}/parts`,Eu({body:n,...s},this._client))}}class Fy extends Ce{constructor(){super(...arguments),this.parts=new BA(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(Gt`/uploads/${t}/cancel`,n)}complete(t,n,s){return this._client.post(Gt`/uploads/${t}/complete`,{body:n,...s})}}Fy.Parts=BA;const QN=async i=>{const t=await Promise.allSettled(i),n=t.filter(o=>o.status==="rejected");if(n.length){for(const o of n)console.error(o.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const o of t)o.status==="fulfilled"&&s.push(o.value);return s};class qA extends Ce{create(t,n,s){return this._client.post(Gt`/vector_stores/${t}/file_batches`,{body:n,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(t,n,s){const{vector_store_id:o}=n;return this._client.get(Gt`/vector_stores/${o}/file_batches/${t}`,{...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(t,n,s){const{vector_store_id:o}=n;return this._client.post(Gt`/vector_stores/${o}/file_batches/${t}/cancel`,{...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(t,n,s){const o=await this.create(t,n);return await this.poll(t,o.id,s)}listFiles(t,n,s){const{vector_store_id:o,...c}=n;return this._client.getAPIList(Gt`/vector_stores/${o}/file_batches/${t}/files`,Sr,{query:c,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async poll(t,n,s){const o=de([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:c,response:y}=await this.retrieve(n,{vector_store_id:t},{...s,headers:o}).withResponse();switch(c.status){case"in_progress":let E=5e3;if(s?.pollIntervalMs)E=s.pollIntervalMs;else{const S=y.headers.get("openai-poll-after-ms");if(S){const R=parseInt(S);isNaN(R)||(E=R)}}await Qf(E);break;case"failed":case"cancelled":case"completed":return c}}}async uploadAndPoll(t,{files:n,fileIds:s=[]},o){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const c=o?.maxConcurrency??5,y=Math.min(c,n.length),E=this._client,S=n.values(),R=[...s];async function O(d){for(let q of d){const nt=await E.files.create({file:q,purpose:"assistants"},o);R.push(nt.id)}}const M=Array(y).fill(S).map(O);return await QN(M),await this.createAndPoll(t,{file_ids:R})}}class zA extends Ce{create(t,n,s){return this._client.post(Gt`/vector_stores/${t}/files`,{body:n,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(t,n,s){const{vector_store_id:o}=n;return this._client.get(Gt`/vector_stores/${o}/files/${t}`,{...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(t,n,s){const{vector_store_id:o,...c}=n;return this._client.post(Gt`/vector_stores/${o}/files/${t}`,{body:c,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,n={},s){return this._client.getAPIList(Gt`/vector_stores/${t}/files`,Sr,{query:n,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(t,n,s){const{vector_store_id:o}=n;return this._client.delete(Gt`/vector_stores/${o}/files/${t}`,{...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(t,n,s){const o=await this.create(t,n,s);return await this.poll(t,o.id,s)}async poll(t,n,s){const o=de([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const c=await this.retrieve(n,{vector_store_id:t},{...s,headers:o}).withResponse(),y=c.data;switch(y.status){case"in_progress":let E=5e3;if(s?.pollIntervalMs)E=s.pollIntervalMs;else{const S=c.response.headers.get("openai-poll-after-ms");if(S){const R=parseInt(S);isNaN(R)||(E=R)}}await Qf(E);break;case"failed":case"completed":return y}}}async upload(t,n,s){const o=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(t,{file_id:o.id},s)}async uploadAndPoll(t,n,s){const o=await this.upload(t,n,s);return await this.poll(t,o.id,s)}content(t,n,s){const{vector_store_id:o}=n;return this._client.getAPIList(Gt`/vector_stores/${o}/files/${t}/content`,ap,{...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class up extends Ce{constructor(){super(...arguments),this.files=new zA(this._client),this.fileBatches=new qA(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,n){return this._client.get(Gt`/vector_stores/${t}`,{...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,n,s){return this._client.post(Gt`/vector_stores/${t}`,{body:n,...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t={},n){return this._client.getAPIList("/vector_stores",Sr,{query:t,...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,n){return this._client.delete(Gt`/vector_stores/${t}`,{...n,headers:de([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(t,n,s){return this._client.getAPIList(Gt`/vector_stores/${t}/search`,ap,{body:n,method:"post",...s,headers:de([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}up.Files=zA;up.FileBatches=qA;var uc,HA,gd;class FA extends Ce{constructor(){super(...arguments),uc.add(this)}async unwrap(t,n,s=this._client.webhookSecret,o=300){return await this.verifySignature(t,n,s,o),JSON.parse(t)}async verifySignature(t,n,s=this._client.webhookSecret,o=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");pt(this,uc,"m",HA).call(this,s);const c=de([n]).values,y=pt(this,uc,"m",gd).call(this,c,"webhook-signature"),E=pt(this,uc,"m",gd).call(this,c,"webhook-timestamp"),S=pt(this,uc,"m",gd).call(this,c,"webhook-id"),R=parseInt(E,10);if(isNaN(R))throw new hf("Invalid webhook timestamp format");const O=Math.floor(Date.now()/1e3);if(O-R>o)throw new hf("Webhook timestamp is too old");if(R>O+o)throw new hf("Webhook timestamp is too new");const M=y.split(" ").map(dt=>dt.startsWith("v1,")?dt.substring(3):dt),d=s.startsWith("whsec_")?Buffer.from(s.replace("whsec_",""),"base64"):Buffer.from(s,"utf-8"),q=S?`${S}.${E}.${t}`:`${E}.${t}`,nt=await crypto.subtle.importKey("raw",d,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const dt of M)try{const _t=Buffer.from(dt,"base64");if(await crypto.subtle.verify("HMAC",nt,_t,new TextEncoder().encode(q)))return}catch{continue}throw new hf("The given webhook signature does not match the expected signature")}}uc=new WeakSet,HA=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},gd=function(t,n){if(!t)throw new Error("Headers are required");const s=t.get(n);if(s==null)throw new Error(`Missing required header: ${n}`);return s};var Lg,$y,yd,$A;class Fe{constructor({baseURL:t=ec("OPENAI_BASE_URL"),apiKey:n=ec("OPENAI_API_KEY"),organization:s=ec("OPENAI_ORG_ID")??null,project:o=ec("OPENAI_PROJECT_ID")??null,webhookSecret:c=ec("OPENAI_WEBHOOK_SECRET")??null,...y}={}){if(Lg.add(this),yd.set(this,void 0),this.completions=new SA(this),this.chat=new Oy(this),this.embeddings=new xA(this),this.files=new IA(this),this.images=new kA(this),this.audio=new Yf(this),this.moderations=new PA(this),this.models=new LA(this),this.fineTuning=new Ac(this),this.graders=new qy(this),this.vectorStores=new up(this),this.webhooks=new FA(this),this.beta=new Kf(this),this.batches=new vA(this),this.uploads=new Fy(this),this.responses=new Hy(this),this.evals=new Py(this),this.containers=new ky(this),n===void 0)throw new Te("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const E={apiKey:n,organization:s,project:o,webhookSecret:c,...y,baseURL:t||"https://api.openai.com/v1"};if(!E.dangerouslyAllowBrowser&&QI())throw new Te(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=E.baseURL,this.timeout=E.timeout??$y.DEFAULT_TIMEOUT,this.logger=E.logger??console;const S="warn";this.logLevel=S,this.logLevel=Gw(E.logLevel,"ClientOptions.logLevel",this)??Gw(ec("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??S,this.fetchOptions=E.fetchOptions,this.maxRetries=E.maxRetries??2,this.fetch=E.fetch??JI(),xe(this,yd,tN),this._options=E,this.apiKey=n,this.organization=s,this.project=o,this.webhookSecret=c}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){}async authHeaders(t){return de([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return aN(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${oc}`}defaultIdempotencyKey(){return`stainless-node-retry-${T1()}`}makeStatusError(t,n,s,o){return gi.generate(t,n,s,o)}buildURL(t,n,s){const o=!pt(this,Lg,"m",$A).call(this)&&s||this.baseURL,c=qI(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),y=this.defaultQuery();return HI(y)||(n={...y,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(c.search=this.stringifyQuery(n)),c.toString()}async prepareOptions(t){}async prepareRequest(t,{url:n,options:s}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,s){return this.request(Promise.resolve(s).then(o=>({method:t,path:n,...o})))}request(t,n=null){return new sp(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,s){const o=await t,c=o.maxRetries??this.maxRetries;n==null&&(n=c),await this.prepareOptions(o);const{req:y,url:E,timeout:S}=await this.buildRequest(o,{retryCount:c-n});await this.prepareRequest(y,{url:E,options:o});const R="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),O=s===void 0?"":`, retryOf: ${s}`,M=Date.now();if(fi(this).debug(`[${R}] sending request`,fu({retryOfRequestLogID:s,method:o.method,url:E,options:o,headers:y.headers})),o.signal?.aborted)throw new aa;const d=new AbortController,q=await this.fetchWithTimeout(E,y,S,d).catch(Sg),nt=Date.now();if(q instanceof Error){const Ut=`retrying, ${n} attempts remaining`;if(o.signal?.aborted)throw new aa;const Tt=bg(q)||/timed? ?out/i.test(String(q)+("cause"in q?String(q.cause):""));if(n)return fi(this).info(`[${R}] connection ${Tt?"timed out":"failed"} - ${Ut}`),fi(this).debug(`[${R}] connection ${Tt?"timed out":"failed"} (${Ut})`,fu({retryOfRequestLogID:s,url:E,durationMs:nt-M,message:q.message})),this.retryRequest(o,n,s??R);throw fi(this).info(`[${R}] connection ${Tt?"timed out":"failed"} - error; no more retries left`),fi(this).debug(`[${R}] connection ${Tt?"timed out":"failed"} (error; no more retries left)`,fu({retryOfRequestLogID:s,url:E,durationMs:nt-M,message:q.message})),Tt?new Sy:new rp({cause:q})}const dt=[...q.headers.entries()].filter(([Ut])=>Ut==="x-request-id").map(([Ut,Tt])=>", "+Ut+": "+JSON.stringify(Tt)).join(""),_t=`[${R}${O}${dt}] ${y.method} ${E} ${q.ok?"succeeded":"failed"} with status ${q.status} in ${nt-M}ms`;if(!q.ok){const Ut=await this.shouldRetry(q);if(n&&Ut){const K=`retrying, ${n} attempts remaining`;return await ZI(q.body),fi(this).info(`${_t} - ${K}`),fi(this).debug(`[${R}] response error (${K})`,fu({retryOfRequestLogID:s,url:q.url,status:q.status,headers:q.headers,durationMs:nt-M})),this.retryRequest(o,n,s??R,q.headers)}const Tt=Ut?"error; no more retries left":"error; not retryable";fi(this).info(`${_t} - ${Tt}`);const Ft=await q.text().catch(K=>Sg(K).message),jt=GI(Ft),Qt=jt?void 0:Ft;throw fi(this).debug(`[${R}] response error (${Tt})`,fu({retryOfRequestLogID:s,url:q.url,status:q.status,headers:q.headers,message:Qt,durationMs:Date.now()-M})),this.makeStatusError(q.status,jt,Qt,q.headers)}return fi(this).info(_t),fi(this).debug(`[${R}] response start`,fu({retryOfRequestLogID:s,url:q.url,status:q.status,headers:q.headers,durationMs:nt-M})),{response:q,options:o,controller:d,requestLogID:R,retryOfRequestLogID:s,startTime:M}}getAPIList(t,n,s){return this.requestAPIList(n,{method:"get",path:t,...s})}requestAPIList(t,n){const s=this.makeRequest(n,null,void 0);return new mN(this,s,t)}async fetchWithTimeout(t,n,s,o){const{signal:c,method:y,...E}=n||{};c&&c.addEventListener("abort",()=>o.abort());const S=setTimeout(()=>o.abort(),s),R=globalThis.ReadableStream&&E.body instanceof globalThis.ReadableStream||typeof E.body=="object"&&E.body!==null&&Symbol.asyncIterator in E.body,O={signal:o.signal,...R?{duplex:"half"}:{},method:"GET",...E};y&&(O.method=y.toUpperCase());try{return await this.fetch.call(void 0,t,O)}finally{clearTimeout(S)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,s,o){let c;const y=o?.get("retry-after-ms");if(y){const S=parseFloat(y);Number.isNaN(S)||(c=S)}const E=o?.get("retry-after");if(E&&!c){const S=parseFloat(E);Number.isNaN(S)?c=Date.parse(E)-Date.now():c=S*1e3}if(!(c&&0<=c&&c<60*1e3)){const S=t.maxRetries??this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(n,S)}return await Qf(c),this.makeRequest(t,n-1,s)}calculateDefaultRetryTimeoutMillis(t,n){const c=n-t,y=Math.min(.5*Math.pow(2,c),8),E=1-Math.random()*.25;return y*E*1e3}async buildRequest(t,{retryCount:n=0}={}){const s={...t},{method:o,path:c,query:y,defaultBaseURL:E}=s,S=this.buildURL(c,y,E);"timeout"in s&&$I("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const{bodyHeaders:R,body:O}=this.buildBody({options:s}),M=await this.buildHeaders({options:t,method:o,bodyHeaders:R,retryCount:n});return{req:{method:o,headers:M,...s.signal&&{signal:s.signal},...globalThis.ReadableStream&&O instanceof globalThis.ReadableStream&&{duplex:"half"},...O&&{body:O},...this.fetchOptions??{},...s.fetchOptions??{}},url:S,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:s,retryCount:o}){let c={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const y=de([c,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...WI(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,s,t.headers]);return this.validateHeaders(y),y.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=de([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||t instanceof Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:V1(t)}:pt(this,yd,"f").call(this,{body:t,headers:s})}}$y=Fe,yd=new WeakMap,Lg=new WeakSet,$A=function(){return this.baseURL!=="https://api.openai.com/v1"};Fe.OpenAI=$y;Fe.DEFAULT_TIMEOUT=6e5;Fe.OpenAIError=Te;Fe.APIError=gi;Fe.APIConnectionError=rp;Fe.APIConnectionTimeoutError=Sy;Fe.APIUserAbortError=aa;Fe.NotFoundError=R1;Fe.ConflictError=x1;Fe.RateLimitError=I1;Fe.BadRequestError=A1;Fe.AuthenticationError=b1;Fe.InternalServerError=N1;Fe.PermissionDeniedError=S1;Fe.UnprocessableEntityError=C1;Fe.InvalidWebhookSignatureError=hf;Fe.toFile=EN;Fe.Completions=SA;Fe.Chat=Oy;Fe.Embeddings=xA;Fe.Files=IA;Fe.Images=kA;Fe.Audio=Yf;Fe.Moderations=PA;Fe.Models=LA;Fe.FineTuning=Ac;Fe.Graders=qy;Fe.VectorStores=up;Fe.Webhooks=FA;Fe.Beta=Kf;Fe.Batches=vA;Fe.Uploads=Fy;Fe.Responses=Hy;Fe.Evals=Py;Fe.Containers=ky;const XN="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",YN=new Fe({apiKey:XN,dangerouslyAllowBrowser:!0}),KN=async i=>{const t=await YN.responses.create({model:"gpt-5",instructions:"Please write a response using HTML tags. Do not use headers like h1, h2",input:i});return console.log(t.output_text),t.output_text},WN=()=>({prompt:KN}),JN=i=>{const{savePhantomMessage:t}=w1(),[n,s]=Di.useState({time:new Date,state:"idle"});console.log("current state. ",n);let o=null;const{prompt:c}=WN(),y=Di.useRef(null);function E(nt){var dt=n.state;const _t={time:new Date,state:nt};nt!==dt&&(console.log("prev state, new state",dt,nt),console.log("uusi...",nt),s(_t),t(_t.state,fc.loadUser()))}function S(){if(n.state==="typing"||n.state==="fixing"){var nt=new Date,dt=nt.getTime()-n.time.getTime();console.log("milli diff",dt),dt>2e3&&(s({time:new Date,state:"idle"}),t("idle",fc.loadUser()))}}function R(nt){nt.preventDefault(),nt.which===13?(nt.target.value.indexOf("tirc")===0?d(nt.target.value):M(nt.target.value),nt.target.blur(),y.current.focus(),q(nt.target)):nt.which===8||nt.which===46?E("fixing"):E("typing")}function O(nt){E("idle")}function M(nt){Ag.hasLink(nt)?Ag.embedlyText(nt,dt=>{}):Tg(fc.loadUser(),"comment",nt),E("idle")}function d(nt){c(nt).then(dt=>{console.log("response",dt),dt&&Tg("tirc-tekoäly","comment",dt)})}function q(nt){nt.value=""}return Di.useEffect(()=>(o=setInterval(S,500),y?.current.focus(),()=>{clearInterval(o)}),[]),Zt.jsx("input",{type:"text",name:"text",ref:y,defaultValue:"",onBlur:O,id:"textline",className:"input-lg form-control message_box",placeholder:"say something...",onKeyUp:R})},uE=i=>{var t="center-block spinner fadein";return(void 0).props.fadeout&&(void 0).props.fadeout===!0&&(t="center-block spinner fadeout"),Zt.jsxs("div",{className:t,children:[Zt.jsx("h2",{children:"Loading tIrc..."}),(void 0).props.phrases.length>0?Zt.jsx("small",{className:"text-center",children:(void 0).props.phrases[(void 0).props.index]}):""]})},GA="@firebase/installations",Gy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=1e4,XA=`w:${Gy}`,YA="FIS_v2",ZN="https://firebaseinstallations.googleapis.com/v1",tD=3600*1e3,eD="installations",nD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Tu=new zd(eD,nD,rD);function KA(i){return i instanceof Ul&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA({projectId:i}){return`${ZN}/projects/${i}/installations`}function JA(i){return{token:i.token,requestStatus:2,expiresIn:sD(i.expiresIn),creationTime:Date.now()}}async function ZA(i,t){const s=(await t.json()).error;return Tu.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function tb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function iD(i,{refreshToken:t}){const n=tb(i);return n.append("Authorization",aD(t)),n}async function eb(i){const t=await i();return t.status>=500&&t.status<600?i():t}function sD(i){return Number(i.replace("s","000"))}function aD(i){return`${YA} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD({appConfig:i,heartbeatServiceProvider:t},{fid:n}){const s=WA(i),o=tb(i),c=t.getImmediate({optional:!0});if(c){const R=await c.getHeartbeatsHeader();R&&o.append("x-firebase-client",R)}const y={fid:n,authVersion:YA,appId:i.appId,sdkVersion:XA},E={method:"POST",headers:o,body:JSON.stringify(y)},S=await eb(()=>fetch(s,E));if(S.ok){const R=await S.json();return{fid:R.fid||n,registrationStatus:2,refreshToken:R.refreshToken,authToken:JA(R.authToken)}}else throw await ZA("Create Installation",S)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^[cdef][\w-]{21}$/,Pg="";function cD(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=fD(i);return uD.test(n)?n:Pg}catch{return Pg}}function fD(i){return lD(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Map;function ib(i,t){const n=cp(i);sb(n,t),hD(n,t)}function sb(i,t){const n=rb.get(i);if(n)for(const s of n)s(t)}function hD(i,t){const n=dD();n&&n.postMessage({key:i,fid:t}),pD()}let gu=null;function dD(){return!gu&&"BroadcastChannel"in self&&(gu=new BroadcastChannel("[Firebase] FID Change"),gu.onmessage=i=>{sb(i.data.key,i.data.fid)}),gu}function pD(){rb.size===0&&gu&&(gu.close(),gu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="firebase-installations-database",gD=1,Au="firebase-installations-store";let zm=null;function Qy(){return zm||(zm=VE(mD,gD,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(Au)}}})),zm}async function qd(i,t){const n=cp(i),o=(await Qy()).transaction(Au,"readwrite"),c=o.objectStore(Au),y=await c.get(n);return await c.put(t,n),await o.done,(!y||y.fid!==t.fid)&&ib(i,t.fid),t}async function ab(i){const t=cp(i),s=(await Qy()).transaction(Au,"readwrite");await s.objectStore(Au).delete(t),await s.done}async function fp(i,t){const n=cp(i),o=(await Qy()).transaction(Au,"readwrite"),c=o.objectStore(Au),y=await c.get(n),E=t(y);return E===void 0?await c.delete(n):await c.put(E,n),await o.done,E&&(!y||y.fid!==E.fid)&&ib(i,E.fid),E}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xy(i){let t;const n=await fp(i.appConfig,s=>{const o=yD(s),c=_D(i,o);return t=c.registrationPromise,c.installationEntry});return n.fid===Pg?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function yD(i){const t=i||{fid:cD(),registrationStatus:0};return ob(t)}function _D(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Tu.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=vD(i,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:wD(i)}:{installationEntry:t}}async function vD(i,t){try{const n=await oD(i,t);return qd(i.appConfig,n)}catch(n){throw KA(n)&&n.customData.serverCode===409?await ab(i.appConfig):await qd(i.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function wD(i){let t=await cE(i.appConfig);for(;t.registrationStatus===1;)await nb(100),t=await cE(i.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Xy(i);return s||n}return t}function cE(i){return fp(i,t=>{if(!t)throw Tu.create("installation-not-found");return ob(t)})}function ob(i){return ED(i)?{fid:i.fid,registrationStatus:0}:i}function ED(i){return i.registrationStatus===1&&i.registrationTime+QA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD({appConfig:i,heartbeatServiceProvider:t},n){const s=AD(i,n),o=iD(i,n),c=t.getImmediate({optional:!0});if(c){const R=await c.getHeartbeatsHeader();R&&o.append("x-firebase-client",R)}const y={installation:{sdkVersion:XA,appId:i.appId}},E={method:"POST",headers:o,body:JSON.stringify(y)},S=await eb(()=>fetch(s,E));if(S.ok){const R=await S.json();return JA(R)}else throw await ZA("Generate Auth Token",S)}function AD(i,{fid:t}){return`${WA(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yy(i,t=!1){let n;const s=await fp(i.appConfig,c=>{if(!lb(c))throw Tu.create("not-registered");const y=c.authToken;if(!t&&RD(y))return c;if(y.requestStatus===1)return n=bD(i,t),c;{if(!navigator.onLine)throw Tu.create("app-offline");const E=CD(c);return n=SD(i,E),E}});return n?await n:s.authToken}async function bD(i,t){let n=await fE(i.appConfig);for(;n.authToken.requestStatus===1;)await nb(100),n=await fE(i.appConfig);const s=n.authToken;return s.requestStatus===0?Yy(i,t):s}function fE(i){return fp(i,t=>{if(!lb(t))throw Tu.create("not-registered");const n=t.authToken;return ID(n)?{...t,authToken:{requestStatus:0}}:t})}async function SD(i,t){try{const n=await TD(i,t),s={...t,authToken:n};return await qd(i.appConfig,s),n}catch(n){if(KA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ab(i.appConfig);else{const s={...t,authToken:{requestStatus:0}};await qd(i.appConfig,s)}throw n}}function lb(i){return i!==void 0&&i.registrationStatus===2}function RD(i){return i.requestStatus===2&&!xD(i)}function xD(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+tD}function CD(i){const t={requestStatus:1,requestTime:Date.now()};return{...i,authToken:t}}function ID(i){return i.requestStatus===1&&i.requestTime+QA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(i){const t=i,{installationEntry:n,registrationPromise:s}=await Xy(t);return s?s.catch(console.error):Yy(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(i,t=!1){const n=i;return await OD(n),(await Yy(n,t)).token}async function OD(i){const{registrationPromise:t}=await Xy(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(i){if(!i||!i.options)throw Hm("App Configuration");if(!i.name)throw Hm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!i.options[n])throw Hm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Hm(i){return Tu.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="installations",VD="installations-internal",kD=i=>{const t=i.getProvider("app").getImmediate(),n=MD(t),s=$g(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},LD=i=>{const t=i.getProvider("app").getImmediate(),n=$g(t,ub).getImmediate();return{getId:()=>ND(n),getToken:o=>DD(n,o)}};function PD(){Dl(new Uo(ub,kD,"PUBLIC")),Dl(new Uo(VD,LD,"PRIVATE"))}PD();oo(GA,Gy);oo(GA,Gy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="analytics",UD="firebase_id",jD="origin",BD=60*1e3,qD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ky="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Hg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},oa=new zd("analytics","Analytics",zD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(i){if(!i.startsWith(Ky)){const t=oa.create("invalid-gtag-resource",{gtagURL:i});return ds.warn(t.message),""}return i}function cb(i){return Promise.all(i.map(t=>t.catch(n=>n)))}function FD(i,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,t)),n}function $D(i,t){const n=FD("firebase-js-sdk-policy",{createScriptURL:HD}),s=document.createElement("script"),o=`${Ky}?l=${i}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function GD(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function QD(i,t,n,s,o,c){const y=s[o];try{if(y)await t[y];else{const S=(await cb(n)).find(R=>R.measurementId===o);S&&await t[S.appId]}}catch(E){ds.error(E)}i("config",o,c)}async function XD(i,t,n,s,o){try{let c=[];if(o&&o.send_to){let y=o.send_to;Array.isArray(y)||(y=[y]);const E=await cb(n);for(const S of y){const R=E.find(M=>M.measurementId===S),O=R&&t[R.appId];if(O)c.push(O);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),i("event",s,o||{})}catch(c){ds.error(c)}}function YD(i,t,n,s){async function o(c,...y){try{if(c==="event"){const[E,S]=y;await XD(i,t,n,E,S)}else if(c==="config"){const[E,S]=y;await QD(i,t,n,s,E,S)}else if(c==="consent"){const[E,S]=y;i("consent",E,S)}else if(c==="get"){const[E,S,R]=y;i("get",E,S,R)}else if(c==="set"){const[E]=y;i("set",E)}else i(c,...y)}catch(E){ds.error(E)}}return o}function KD(i,t,n,s,o){let c=function(...y){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=YD(c,i,t,n),{gtagCore:c,wrappedGtag:window[o]}}function WD(i){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ky)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=30,ZD=1e3;class tO{constructor(t={},n=ZD){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const fb=new tO;function eO(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function nO(i){const{appId:t,apiKey:n}=i,s={method:"GET",headers:eO(n)},o=qD.replace("{app-id}",t),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let y="";try{const E=await c.json();E.error?.message&&(y=E.error.message)}catch{}throw oa.create("config-fetch-failed",{httpStatus:c.status,responseMessage:y})}return c.json()}async function rO(i,t=fb,n){const{appId:s,apiKey:o,measurementId:c}=i.options;if(!s)throw oa.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw oa.create("no-api-key")}const y=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},E=new aO;return setTimeout(async()=>{E.abort()},BD),hb({appId:s,apiKey:o,measurementId:c},y,E,t)}async function hb(i,{throttleEndTimeMillis:t,backoffCount:n},s,o=fb){const{appId:c,measurementId:y}=i;try{await iO(s,t)}catch(E){if(y)return ds.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${E?.message}]`),{appId:c,measurementId:y};throw E}try{const E=await nO(i);return o.deleteThrottleMetadata(c),E}catch(E){const S=E;if(!sO(S)){if(o.deleteThrottleMetadata(c),y)return ds.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${S?.message}]`),{appId:c,measurementId:y};throw E}const R=Number(S?.customData?.httpStatus)===503?S0(n,o.intervalMillis,JD):S0(n,o.intervalMillis),O={throttleEndTimeMillis:Date.now()+R,backoffCount:n+1};return o.setThrottleMetadata(c,O),ds.debug(`Calling attemptFetch again in ${R} millis`),hb(i,O,s,o)}}function iO(i,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(c),s(oa.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function sO(i){if(!(i instanceof Ul)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class aO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function oO(i,t,n,s,o){if(o&&o.global){i("event",n,s);return}else{const c=await t,y={...s,send_to:c};i("event",n,y)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(){if(NE())try{await DE()}catch(i){return ds.warn(oa.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return ds.warn(oa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uO(i,t,n,s,o,c,y){const E=rO(i);E.then(d=>{n[d.measurementId]=d.appId,i.options.measurementId&&d.measurementId!==i.options.measurementId&&ds.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>ds.error(d)),t.push(E);const S=lO().then(d=>{if(d)return s.getId()}),[R,O]=await Promise.all([E,S]);WD(c)||$D(c,R.measurementId),o("js",new Date);const M=y?.config??{};return M[jD]="firebase",M.update=!0,O!=null&&(M[UD]=O),o("config",R.measurementId,M),R.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.app=t}_delete(){return delete Df[this.app.options.appId],Promise.resolve()}}let Df={},dE=[];const pE={};let Fm="dataLayer",fO="gtag",mE,db,gE=!1;function hO(){const i=[];if(YS()&&i.push("This is a browser extension environment."),WS()||i.push("Cookies are not available."),i.length>0){const t=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=oa.create("invalid-analytics-context",{errorInfo:t});ds.warn(n.message)}}function dO(i,t,n){hO();const s=i.options.appId;if(!s)throw oa.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)ds.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw oa.create("no-api-key");if(Df[s]!=null)throw oa.create("already-exists",{id:s});if(!gE){GD(Fm);const{wrappedGtag:c,gtagCore:y}=KD(Df,dE,pE,Fm,fO);db=c,mE=y,gE=!0}return Df[s]=uO(i,dE,pE,t,mE,Fm,n),new cO(i)}function pO(i,t,n,s){i=Nl(i),oO(db,Df[i.app.options.appId],t,n,s).catch(o=>ds.error(o))}const yE="@firebase/analytics",_E="0.10.18";function mO(){Dl(new Uo(hE,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return dO(s,o,n)},"PUBLIC")),Dl(new Uo("analytics-internal",i,"PRIVATE")),oo(yE,_E),oo(yE,_E,"esm2020");function i(t){try{const n=t.getProvider(hE).getImmediate();return{logEvent:(s,o,c)=>pO(n,s,o,c)}}catch(n){throw oa.create("interop-component-reg-failed",{reason:n})}}}mO();const gO=({users:i})=>{const[t,n]=Di.useState(fc.loadUser()),s=c=>{var y=c.target.value;SE(y),n(y)},o=[{name:"Aino"},{name:"Toni"},{name:"Hilma"},{name:"Taho Ohjelmistopalvelut Oy"},{name:"Hanna"}];return Zt.jsx("div",{id:"userselect",className:"text-right",children:Zt.jsx("select",{className:"form-control input-sm",name:"userlist",onChange:s,value:t,children:o.map(c=>Zt.jsx("option",{children:c.name},c.name))})})};class yO extends Bg.Component{constructor(){super(),this.statemap={typing:"kirjoittaa...",fixing:"korjaa...",connected:"yhdistänyt",idle:"idlaa"}}componentDidMount(){console.log("Nickpanel: mount")}render(){var t=this.fillIdletime(this.props.users),n=this.props.tircusers;t=t.map(function(s,o){return Zt.jsxs("li",{children:[Zt.jsx("h4",{className:"nick",children:s.nick}),Zt.jsx("div",{className:"idle small list-group-item-text",children:s.idle})]},o)}),this.statemap;var n=n.map(function(s,o){var c=RE();return c!==s.nick?Zt.jsx("li",{className:"tircuser guest",children:Zt.jsx("h4",{className:"nick",children:s.nick})}):Zt.jsx("li",{className:"tircuser  active",children:Zt.jsx("h4",{className:"nick",children:s.nick})})});return Zt.jsx("ul",{id:"tirc_nicks",className:"tirc_info_panel list-inline",children:n.concat(t)})}formatToMinutes(t){var n=~~(t/3600),s=~~(t%3600/60),o=t%60,c="";return n>0&&(c+=""+n+"h "+(s<10?"0":"")),c+=""+s+" min "+(o<10?"0":""),c+=""+o+" s",c}fillIdletime(t){var n=this,s=t.map(o=>{var c=n.formatToMinutes(o.idleTime);return o.idle=c,o});return s}componentWillUnmount(){console.log("unmount")}}const _O=({topic:i,users:t,receiveUsers:n,tircusers:s,userselect:o,changeUser:c})=>Zt.jsx("div",{className:"row panel-title",children:Zt.jsx("div",{className:"col-md-12 full-width",children:Zt.jsxs("div",{className:"row topic-panel",children:[Zt.jsx("div",{className:"col-md-4 col-sm-10 col-xs-9 topic",children:Zt.jsx("h3",{children:i})}),Zt.jsx("div",{className:"col-md-6 hidden-xs hidden-sm overflow-scroll",children:Zt.jsx(yO,{users:t,receiveUsers:n,tircusers:s})}),Zt.jsx("div",{className:"col-md-2 col-sm-2 col-xs-3",children:Zt.jsx(gO,{...o,changeUser:c})})]})})});class vO{constructor(){this.URL="http://"+location.hostname+":80/backend/"}connect(t,n){var s={nick:t};return n!=null&&(s.location=n),new Promise(o=>{$.ajax({url:this.URL+"connect",type:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify(s)}).done(function(c){o(c)}).error(function(c){console.log("bad data, but still ok",c.statusText),o("ok")})})}say(t,n,s,o){var c={nick:t,text:n,htmltext:s,target:o};return $.ajax({type:"POST",url:this.URL+"say",contentType:"application/json;charset=UTF-8",data:JSON.stringify(c)})}toggleEmotion(t,n,s){var o={user:t,like:s,id:n};return $.ajax({type:"POST",url:this.URL+"toggleemotion",contentType:"application/json;charset=UTF-8",data:JSON.stringify(o)})}changeState(t,n,s){var o={nick:t,state:n,text:s};return $.ajax({type:"POST",url:this.URL+"changestate",contentType:"application/json;charset=UTF-8",data:JSON.stringify(o)})}submitLocation(t,n){let s={nick:t,location:n};return console.log("message",s),$.ajax({type:"POST",url:this.URL+"submitlocation",contentType:"application/json;charset=UTF-8",data:JSON.stringify(s)})}updateLocation(t,n){var s={nick:t};n!=null&&(s.location=n),$.ajax({type:"POST",url:URL+"updatelocation",contentType:"application/json;charset=UTF-8",data:JSON.stringify(s)})}sayGoodbye(t){var n={nick:t};return $.ajax({type:"POST",url:this.URL+"saygoodbye",contentType:"application/json;charset=UTF-8",data:JSON.stringify(n)})}changeNick(t,n){var s={nickold:t,nick:n};$.ajax({type:"POST",url:this.URL+"changenick",contentType:"application/json;charset=UTF-8",data:JSON.stringify(s)})}listen(t,n){return $.ajax({url:this.URL+"listen/"+t+"/"+n,crossDomain:!0,type:"GET"})}}let wO=new vO;function EO(i){return{type:"RECEIVE_USERS",users:i}}function TO(i,t){return(n,s)=>{var o=s().topicpanel.userselect.chosen;return wO.toggleEmotion(o,i,t)}}function AO(i){return{type:"CHANGE_USER",user:i}}const bO=i=>{const{sendMessage:t}=E1();Di.useEffect(()=>{const O=()=>{console.log("blurred!"),t(fc.loadUser(),"quit","")};window.addEventListener("blur",O)},[]);const n={topic:"Testi",users:[],tircusers:[],userselect:{users:[],chosen:""}};let{tabs:s,userselect:o,loading:c,active:y,dispatch:E}=i;if(c&&c===!0)return Zt.jsx("div",{className:"col-md-12 col-xs-12 col-sm-12",children:Zt.jsx(uE,{index:i.phraseindex,phrases:i.phrases})});let S=!0;var R="action_panel_0";return Zt.jsxs("div",{className:"tirc_content",children:[c&&c===!0?Zt.jsx(uE,{fadeout:!0,index:i.phraseindex,phrases:i.phrases}):"",Zt.jsx(_O,{...n,changeUser:O=>E(AO(O)),receiveUsers:O=>E(EO(O))}),Zt.jsx(jI,{...s,users:[],tircusers:[],userselect:o,connectdata:[],currentdata:[],activedata:[],index:0,visible:S,toggleEmotion:(O,M)=>E(TO(O,M))}),Zt.jsx("div",{className:"tirc_action_panel row",id:R,children:Zt.jsx("div",{className:"col-md-12 col-sm-12 col-xs-12 full-width",children:Zt.jsx(JN,{})})})]})};var $m={exports:{}},of={},Gm={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function SO(){return vE||(vE=1,(function(i){function t(wt,zt){var oe=wt.length;wt.push(zt);t:for(;0<oe;){var Oe=oe-1>>>1,Y=wt[Oe];if(0<o(Y,zt))wt[Oe]=zt,wt[oe]=Y,oe=Oe;else break t}}function n(wt){return wt.length===0?null:wt[0]}function s(wt){if(wt.length===0)return null;var zt=wt[0],oe=wt.pop();if(oe!==zt){wt[0]=oe;t:for(var Oe=0,Y=wt.length,Mt=Y>>>1;Oe<Mt;){var qt=2*(Oe+1)-1,Lt=wt[qt],ie=qt+1,be=wt[ie];if(0>o(Lt,oe))ie<Y&&0>o(be,Lt)?(wt[Oe]=be,wt[ie]=oe,Oe=ie):(wt[Oe]=Lt,wt[qt]=oe,Oe=qt);else if(ie<Y&&0>o(be,oe))wt[Oe]=be,wt[ie]=oe,Oe=ie;else break t}}return zt}function o(wt,zt){var oe=wt.sortIndex-zt.sortIndex;return oe!==0?oe:wt.id-zt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var y=Date,E=y.now();i.unstable_now=function(){return y.now()-E}}var S=[],R=[],O=1,M=null,d=3,q=!1,nt=!1,dt=!1,_t=!1,Ut=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,Ft=typeof setImmediate<"u"?setImmediate:null;function jt(wt){for(var zt=n(R);zt!==null;){if(zt.callback===null)s(R);else if(zt.startTime<=wt)s(R),zt.sortIndex=zt.expirationTime,t(S,zt);else break;zt=n(R)}}function Qt(wt){if(dt=!1,jt(wt),!nt)if(n(S)!==null)nt=!0,se||(se=!0,rt());else{var zt=n(R);zt!==null&&un(Qt,zt.startTime-wt)}}var se=!1,K=-1,P=5,H=-1;function Z(){return _t?!0:!(i.unstable_now()-H<P)}function W(){if(_t=!1,se){var wt=i.unstable_now();H=wt;var zt=!0;try{t:{nt=!1,dt&&(dt=!1,Tt(K),K=-1),q=!0;var oe=d;try{e:{for(jt(wt),M=n(S);M!==null&&!(M.expirationTime>wt&&Z());){var Oe=M.callback;if(typeof Oe=="function"){M.callback=null,d=M.priorityLevel;var Y=Oe(M.expirationTime<=wt);if(wt=i.unstable_now(),typeof Y=="function"){M.callback=Y,jt(wt),zt=!0;break e}M===n(S)&&s(S),jt(wt)}else s(S);M=n(S)}if(M!==null)zt=!0;else{var Mt=n(R);Mt!==null&&un(Qt,Mt.startTime-wt),zt=!1}}break t}finally{M=null,d=oe,q=!1}zt=void 0}}finally{zt?rt():se=!1}}}var rt;if(typeof Ft=="function")rt=function(){Ft(W)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,rn=F.port2;F.port1.onmessage=W,rt=function(){rn.postMessage(null)}}else rt=function(){Ut(W,0)};function un(wt,zt){K=Ut(function(){wt(i.unstable_now())},zt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(wt){wt.callback=null},i.unstable_forceFrameRate=function(wt){0>wt||125<wt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<wt?Math.floor(1e3/wt):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_next=function(wt){switch(d){case 1:case 2:case 3:var zt=3;break;default:zt=d}var oe=d;d=zt;try{return wt()}finally{d=oe}},i.unstable_requestPaint=function(){_t=!0},i.unstable_runWithPriority=function(wt,zt){switch(wt){case 1:case 2:case 3:case 4:case 5:break;default:wt=3}var oe=d;d=wt;try{return zt()}finally{d=oe}},i.unstable_scheduleCallback=function(wt,zt,oe){var Oe=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Oe+oe:Oe):oe=Oe,wt){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=oe+Y,wt={id:O++,callback:zt,priorityLevel:wt,startTime:oe,expirationTime:Y,sortIndex:-1},oe>Oe?(wt.sortIndex=oe,t(R,wt),n(S)===null&&wt===n(R)&&(dt?(Tt(K),K=-1):dt=!0,un(Qt,oe-Oe))):(wt.sortIndex=Y,t(S,wt),nt||q||(nt=!0,se||(se=!0,rt()))),wt},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(wt){var zt=d;return function(){var oe=d;d=zt;try{return wt.apply(this,arguments)}finally{d=oe}}}})(Qm)),Qm}var wE;function RO(){return wE||(wE=1,Gm.exports=SO()),Gm.exports}var Xm={exports:{}},Ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function xO(){if(EE)return Ci;EE=1;var i=jg();function t(S){var R="https://react.dev/errors/"+S;if(1<arguments.length){R+="?args[]="+encodeURIComponent(arguments[1]);for(var O=2;O<arguments.length;O++)R+="&args[]="+encodeURIComponent(arguments[O])}return"Minified React error #"+S+"; visit "+R+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(S,R,O){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:M==null?null:""+M,children:S,containerInfo:R,implementation:O}}var y=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(S,R){if(S==="font")return"";if(typeof R=="string")return R==="use-credentials"?R:""}return Ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ci.createPortal=function(S,R){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R||R.nodeType!==1&&R.nodeType!==9&&R.nodeType!==11)throw Error(t(299));return c(S,R,null,O)},Ci.flushSync=function(S){var R=y.T,O=s.p;try{if(y.T=null,s.p=2,S)return S()}finally{y.T=R,s.p=O,s.d.f()}},Ci.preconnect=function(S,R){typeof S=="string"&&(R?(R=R.crossOrigin,R=typeof R=="string"?R==="use-credentials"?R:"":void 0):R=null,s.d.C(S,R))},Ci.prefetchDNS=function(S){typeof S=="string"&&s.d.D(S)},Ci.preinit=function(S,R){if(typeof S=="string"&&R&&typeof R.as=="string"){var O=R.as,M=E(O,R.crossOrigin),d=typeof R.integrity=="string"?R.integrity:void 0,q=typeof R.fetchPriority=="string"?R.fetchPriority:void 0;O==="style"?s.d.S(S,typeof R.precedence=="string"?R.precedence:void 0,{crossOrigin:M,integrity:d,fetchPriority:q}):O==="script"&&s.d.X(S,{crossOrigin:M,integrity:d,fetchPriority:q,nonce:typeof R.nonce=="string"?R.nonce:void 0})}},Ci.preinitModule=function(S,R){if(typeof S=="string")if(typeof R=="object"&&R!==null){if(R.as==null||R.as==="script"){var O=E(R.as,R.crossOrigin);s.d.M(S,{crossOrigin:O,integrity:typeof R.integrity=="string"?R.integrity:void 0,nonce:typeof R.nonce=="string"?R.nonce:void 0})}}else R==null&&s.d.M(S)},Ci.preload=function(S,R){if(typeof S=="string"&&typeof R=="object"&&R!==null&&typeof R.as=="string"){var O=R.as,M=E(O,R.crossOrigin);s.d.L(S,O,{crossOrigin:M,integrity:typeof R.integrity=="string"?R.integrity:void 0,nonce:typeof R.nonce=="string"?R.nonce:void 0,type:typeof R.type=="string"?R.type:void 0,fetchPriority:typeof R.fetchPriority=="string"?R.fetchPriority:void 0,referrerPolicy:typeof R.referrerPolicy=="string"?R.referrerPolicy:void 0,imageSrcSet:typeof R.imageSrcSet=="string"?R.imageSrcSet:void 0,imageSizes:typeof R.imageSizes=="string"?R.imageSizes:void 0,media:typeof R.media=="string"?R.media:void 0})}},Ci.preloadModule=function(S,R){if(typeof S=="string")if(R){var O=E(R.as,R.crossOrigin);s.d.m(S,{as:typeof R.as=="string"&&R.as!=="script"?R.as:void 0,crossOrigin:O,integrity:typeof R.integrity=="string"?R.integrity:void 0})}else s.d.m(S)},Ci.requestFormReset=function(S){s.d.r(S)},Ci.unstable_batchedUpdates=function(S,R){return S(R)},Ci.useFormState=function(S,R,O){return y.H.useFormState(S,R,O)},Ci.useFormStatus=function(){return y.H.useHostTransitionStatus()},Ci.version="19.1.0",Ci}var TE;function CO(){if(TE)return Xm.exports;TE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Xm.exports=xO(),Xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function IO(){if(AE)return of;AE=1;var i=RO(),t=jg(),n=CO();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function y(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function E(e){if(c(e)!==e)throw Error(s(188))}function S(e){var r=e.alternate;if(!r){if(r=c(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var m=a.return;if(m===null)break;var w=m.alternate;if(w===null){if(l=m.return,l!==null){a=l;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===a)return E(m),e;if(w===l)return E(m),r;w=w.sibling}throw Error(s(188))}if(a.return!==l.return)a=m,l=w;else{for(var N=!1,k=m.child;k;){if(k===a){N=!0,a=m,l=w;break}if(k===l){N=!0,l=m,a=w;break}k=k.sibling}if(!N){for(k=w.child;k;){if(k===a){N=!0,a=w,l=m;break}if(k===l){N=!0,l=w,a=m;break}k=k.sibling}if(!N)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function R(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=R(e),r!==null)return r;e=e.sibling}return null}var O=Object.assign,M=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),dt=Symbol.for("react.strict_mode"),_t=Symbol.for("react.profiler"),Ut=Symbol.for("react.provider"),Tt=Symbol.for("react.consumer"),Ft=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),Qt=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function rt(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var F=Symbol.for("react.client.reference");function rn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===F?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case _t:return"Profiler";case dt:return"StrictMode";case Qt:return"Suspense";case se:return"SuspenseList";case H:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case Ft:return(e.displayName||"Context")+".Provider";case Tt:return(e._context.displayName||"Context")+".Consumer";case jt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return r=e.displayName||null,r!==null?r:rn(e.type)||"Memo";case P:r=e._payload,e=e._init;try{return rn(e(r))}catch{}}return null}var un=Array.isArray,wt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Oe=[],Y=-1;function Mt(e){return{current:e}}function qt(e){0>Y||(e.current=Oe[Y],Oe[Y]=null,Y--)}function Lt(e,r){Y++,Oe[Y]=e.current,e.current=r}var ie=Mt(null),be=Mt(null),ue=Mt(null),bn=Mt(null);function $e(e,r){switch(Lt(ue,r),Lt(be,e),Lt(ie,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?Gv(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=Gv(r),e=Qv(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}qt(ie),Lt(ie,e)}function Nn(){qt(ie),qt(be),qt(ue)}function cr(e){e.memoizedState!==null&&Lt(bn,e);var r=ie.current,a=Qv(r,e.type);r!==a&&(Lt(be,e),Lt(ie,a))}function pn(e){be.current===e&&(qt(ie),qt(be)),bn.current===e&&(qt(bn),Zc._currentValue=oe)}var Jr=Object.prototype.hasOwnProperty,Zr=i.unstable_scheduleCallback,ps=i.unstable_cancelCallback,la=i.unstable_shouldYield,ua=i.unstable_requestPaint,Rr=i.unstable_now,Ls=i.unstable_getCurrentPriorityLevel,yi=i.unstable_ImmediatePriority,ms=i.unstable_UserBlockingPriority,Yi=i.unstable_NormalPriority,Va=i.unstable_LowPriority,Ps=i.unstable_IdlePriority,ka=i.log,La=i.unstable_setDisableYieldValue,Sn=null,Ke=null;function xr(e){if(typeof ka=="function"&&La(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Sn,e)}catch{}}var fr=Math.clz32?Math.clz32:Us,zo=Math.log,jl=Math.LN2;function Us(e){return e>>>=0,e===0?32:31-(zo(e)/jl|0)|0}var js=256,ca=4194304;function Dn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fa(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var m=0,w=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var k=l&134217727;return k!==0?(l=k&~w,l!==0?m=Dn(l):(N&=k,N!==0?m=Dn(N):a||(a=k&~e,a!==0&&(m=Dn(a))))):(k=l&~w,k!==0?m=Dn(k):N!==0?m=Dn(N):a||(a=l&~e,a!==0&&(m=Dn(a)))),m===0?0:r!==0&&r!==m&&(r&w)===0&&(w=m&-m,a=r&-r,w>=a||w===32&&(a&4194048)!==0)?r:m}function gs(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function qn(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var e=js;return js<<=1,(js&4194048)===0&&(js=256),e}function ys(){var e=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),e}function Oi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Ki(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ha(e,r,a,l,m,w){var N=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var k=e.entanglements,G=e.expirationTimes,ht=e.hiddenUpdates;for(a=N&~a;0<a;){var At=31-fr(a),It=1<<At;k[At]=0,G[At]=-1;var mt=ht[At];if(mt!==null)for(ht[At]=null,At=0;At<mt.length;At++){var yt=mt[At];yt!==null&&(yt.lane&=-536870913)}a&=~It}l!==0&&Mi(e,l,0),w!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=w&~(N&~r))}function Mi(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-fr(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function mo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-fr(a),m=1<<l;m&r|e[l]&r&&(e[l]|=r),a&=~m}}function _i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Je(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ge(){var e=zt.p;return e!==0?e:(e=window.event,e===void 0?32:h0(e.type))}function Wi(e,r){var a=zt.p;try{return zt.p=e,r()}finally{zt.p=a}}var mn=Math.random().toString(36).slice(2),On="__reactFiber$"+mn,cn="__reactProps$"+mn,Zn="__reactContainer$"+mn,_s="__reactEvents$"+mn,Bs="__reactListeners$"+mn,Ji="__reactHandles$"+mn,Zi="__reactResources$"+mn,da="__reactMarker$"+mn;function Cr(e){delete e[On],delete e[cn],delete e[_s],delete e[Bs],delete e[Ji]}function hr(e){var r=e[On];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Zn]||a[On]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Wv(e);e!==null;){if(a=e[On])return a;e=Wv(e)}return r}e=a,a=e.parentNode}return null}function Ct(e){if(e=e[On]||e[Zn]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function B(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function pe(e){var r=e[Zi];return r||(r=e[Zi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function we(e){e[da]=!0}var _e=new Set,Ur={};function ti(e,r){ei(e,r),ei(e+"Capture",r)}function ei(e,r){for(Ur[e]=r,e=0;e<r.length;e++)_e.add(r[e])}var We=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qn={},ts={};function go(e){return Jr.call(ts,e)?!0:Jr.call(Qn,e)?!1:We.test(e)?ts[e]=!0:(Qn[e]=!0,!1)}function vi(e,r,a){if(go(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Vi(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function zn(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}var ki,Pa;function dr(e){if(ki===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ki=r&&r[1]||"",Pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ki+e+Pa}var qs=!1;function vs(e,r){if(!e||qs)return"";qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var It=function(){throw Error()};if(Object.defineProperty(It.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(It,[])}catch(yt){var mt=yt}Reflect.construct(e,[],It)}else{try{It.call()}catch(yt){mt=yt}e.call(It.prototype)}}else{try{throw Error()}catch(yt){mt=yt}(It=e())&&typeof It.catch=="function"&&It.catch(function(){})}}catch(yt){if(yt&&mt&&typeof yt.stack=="string")return[yt.stack,mt.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=l.DetermineComponentFrameRoot(),N=w[0],k=w[1];if(N&&k){var G=N.split(`
`),ht=k.split(`
`);for(m=l=0;l<G.length&&!G[l].includes("DetermineComponentFrameRoot");)l++;for(;m<ht.length&&!ht[m].includes("DetermineComponentFrameRoot");)m++;if(l===G.length||m===ht.length)for(l=G.length-1,m=ht.length-1;1<=l&&0<=m&&G[l]!==ht[m];)m--;for(;1<=l&&0<=m;l--,m--)if(G[l]!==ht[m]){if(l!==1||m!==1)do if(l--,m--,0>m||G[l]!==ht[m]){var At=`
`+G[l].replace(" at new "," at ");return e.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",e.displayName)),At}while(1<=l&&0<=m);break}}}finally{qs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?dr(a):""}function es(e){switch(e.tag){case 26:case 27:case 5:return dr(e.type);case 16:return dr("Lazy");case 13:return dr("Suspense");case 19:return dr("SuspenseList");case 0:case 15:return vs(e.type,!1);case 11:return vs(e.type.render,!1);case 1:return vs(e.type,!0);case 31:return dr("Activity");default:return""}}function Li(e){try{var r="";do r+=es(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jr(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ho(e){var r=jr(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,w=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return m.call(this)},set:function(N){l=""+N,w.call(this,N)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Br(e){e._valueTracker||(e._valueTracker=Ho(e))}function zs(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=jr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function vn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pa=/[\n"\\]/g;function sn(e){return e.replace(pa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ir(e,r,a,l,m,w,N,k){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),r!=null?N==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+pr(r)):e.value!==""+pr(r)&&(e.value=""+pr(r)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),r!=null?ni(e,N,pr(r)):a!=null?ni(e,N,pr(a)):l!=null&&e.removeAttribute("value"),m==null&&w!=null&&(e.defaultChecked=!!w),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.name=""+pr(k):e.removeAttribute("name")}function Pi(e,r,a,l,m,w,N,k){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.type=w),r!=null||a!=null){if(!(w!=="submit"&&w!=="reset"||r!=null))return;a=a!=null?""+pr(a):"",r=r!=null?""+pr(r):a,k||r===e.value||(e.value=r),e.defaultValue=r}l=l??m,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=k?e.checked:!!l,e.defaultChecked=!!l,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N)}function ni(e,r,a){r==="number"&&vn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ui(e,r,a,l){if(e=e.options,r){r={};for(var m=0;m<a.length;m++)r["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=r.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&l&&(e[a].defaultSelected=!0)}else{for(a=""+pr(a),r=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,l&&(e[m].defaultSelected=!0);return}r!==null||e[m].disabled||(r=e[m])}r!==null&&(r.selected=!0)}}function an(e,r,a){if(r!=null&&(r=""+pr(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+pr(a):""}function ri(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(un(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=pr(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Rn(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ua(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Hs.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function ji(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var m in r)l=r[m],r.hasOwnProperty(m)&&a[m]!==l&&Ua(e,m,l)}else for(var w in r)r.hasOwnProperty(w)&&Ua(e,w,r[w])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return ns.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Bi=null;function Nr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rs=null,wi=null;function Fs(e){var r=Ct(e);if(r&&(e=r.stateNode)){var a=e[cn]||null;t:switch(e=r.stateNode,r.type){case"input":if(Ir(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var m=l[cn]||null;if(!m)throw Error(s(90));Ir(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&zs(l)}break t;case"textarea":an(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ui(e,!!a.multiple,r,!1)}}}var Dr=!1;function yo(e,r,a){if(Dr)return e(r,a);Dr=!0;try{var l=e(r);return l}finally{if(Dr=!1,(rs!==null||wi!==null)&&(bh(),rs&&(r=rs,e=wi,wi=rs=null,Fs(r),e)))for(r=0;r<e.length;r++)Fs(e[r])}}function ws(e,r){var a=e.stateNode;if(a===null)return null;var l=a[cn]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Ei)try{var is={};Object.defineProperty(is,"passive",{get:function(){xn=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{xn=!1}var qi=null,Es=null,qr=null;function ja(){if(qr)return qr;var e,r=Es,a=r.length,l,m="value"in qi?qi.value:qi.textContent,w=m.length;for(e=0;e<a&&r[e]===m[e];e++);var N=a-e;for(l=1;l<=N&&r[a-l]===m[w-l];l++);return qr=m.slice(e,1<l?1-l:void 0)}function zr(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Or(){return!0}function Ba(){return!1}function Pn(e){function r(a,l,m,w,N){this._reactName=a,this._targetInst=m,this.type=l,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(a=e[k],this[k]=a?a(w):w[k]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Or:Ba,this.isPropagationStopped=Ba,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),r}var Be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Pn(Be),As=O({},Be,{view:0,detail:0}),qa=Pn(As),$s,ya,zi,u=O({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fe,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?($s=e.screenX-zi.screenX,ya=e.screenY-zi.screenY):ya=$s=0,zi=e),$s)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),g=Pn(u),v=O({},u,{dataTransfer:0}),T=Pn(v),x=O({},As,{relatedTarget:0}),I=Pn(x),V=O({},Be,{animationName:0,elapsedTime:0,pseudoElement:0}),z=Pn(V),st=O({},Be,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),at=Pn(st),ut=O({},Be,{data:0}),Vt=Pn(ut),St={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},me={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $t(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=me[e])?!!r[e]:!1}function fe(){return $t}var mr=O({},As,{key:function(e){if(e.key){var r=St[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fe,charCode:function(e){return e.type==="keypress"?zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Un=Pn(mr),Hi=O({},u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yt=Pn(Hi),ae=O({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fe}),Ee=Pn(ae),Se=O({},Be,{propertyName:0,elapsedTime:0,pseudoElement:0}),ir=Pn(Se),Gs=O({},u,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gr=Pn(Gs),Mn=O({},Be,{newState:0,oldState:0}),yr=Pn(Mn),_r=[9,13,27,32],wn=Ei&&"CompositionEvent"in window,h=null;Ei&&"documentMode"in document&&(h=document.documentMode);var A=Ei&&"TextEvent"in window&&!h,C=Ei&&(!wn||h&&8<h&&11>=h),L=" ",ot=!1;function gt(e,r){switch(e){case"keyup":return _r.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var te=!1;function gn(e,r){switch(e){case"compositionend":return Bt(r);case"keypress":return r.which!==32?null:(ot=!0,L);case"textInput":return e=r.data,e===L&&ot?null:e;default:return null}}function Pe(e,r){if(te)return e==="compositionend"||!wn&&gt(e,r)?(e=ja(),qr=Es=qi=null,te=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return C&&r.locale!=="ko"?null:r.data;default:return null}}var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Hn[e.type]:r==="textarea"}function ii(e,r,a,l){rs?wi?wi.push(l):wi=[l]:rs=l,r=Nh(r,"onChange"),0<r.length&&(a=new Ts("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Xn=null,Ti=null;function _a(e){qv(e,0)}function za(e){var r=B(e);if(zs(r))return e}function ql(e,r){if(e==="change")return r}var Ha=!1;if(Ei){var Fo;if(Ei){var $o="oninput"in document;if(!$o){var Qs=document.createElement("div");Qs.setAttribute("oninput","return;"),$o=typeof Qs.oninput=="function"}Fo=$o}else Fo=!1;Ha=Fo&&(!document.documentMode||9<document.documentMode)}function Fn(){Xn&&(Xn.detachEvent("onpropertychange",Hr),Ti=Xn=null)}function Hr(e){if(e.propertyName==="value"&&za(Ti)){var r=[];ii(r,Ti,e,Nr(e)),yo(_a,r)}}function Iu(e,r,a){e==="focusin"?(Fn(),Xn=r,Ti=a,Xn.attachEvent("onpropertychange",Hr)):e==="focusout"&&Fn()}function ss(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return za(Ti)}function fn(e,r){if(e==="click")return za(r)}function Me(e,r){if(e==="input"||e==="change")return za(r)}function Go(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var En=typeof Object.is=="function"?Object.is:Go;function tr(e,r){if(En(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var m=a[l];if(!Jr.call(r,m)||!En(e[m],r[m]))return!1}return!0}function bs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qo(e,r){var a=bs(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=bs(a)}}function Xo(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Xo(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Ss(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=vn(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=vn(e.document)}return r}function Ai(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Yo=Ei&&"documentMode"in document&&11>=document.documentMode,Xs=null,va=null,Ys=null,Fa=!1;function zl(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fa||Xs==null||Xs!==vn(l)||(l=Xs,"selectionStart"in l&&Ai(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&tr(Ys,l)||(Ys=l,l=Nh(va,"onSelect"),0<l.length&&(r=new Ts("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Xs)))}function si(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var ai={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionrun:si("Transition","TransitionRun"),transitionstart:si("Transition","TransitionStart"),transitioncancel:si("Transition","TransitionCancel"),transitionend:si("Transition","TransitionEnd")},Fi={},Hl={};Ei&&(Hl=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function U(e){if(Fi[e])return Fi[e];if(!ai[e])return e;var r=ai[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Hl)return Fi[e]=r[a];return e}var X=U("animationend"),Q=U("animationiteration"),vt=U("animationstart"),ft=U("transitionrun"),xt=U("transitionstart"),bt=U("transitioncancel"),Ht=U("transitionend"),Kt=new Map,ge="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ge.push("scrollEnd");function ee(e,r){Kt.set(e,r),ti(r,[e])}var ne=new WeakMap;function Ve(e,r){if(typeof e=="object"&&e!==null){var a=ne.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Li(r)},ne.set(e,r),r)}return{value:e,source:r,stack:Li(r)}}var he=[],Qe=0,$n=0;function Yn(){for(var e=Qe,r=$n=Qe=0;r<e;){var a=he[r];he[r++]=null;var l=he[r];he[r++]=null;var m=he[r];he[r++]=null;var w=he[r];if(he[r++]=null,l!==null&&m!==null){var N=l.pending;N===null?m.next=m:(m.next=N.next,N.next=m),l.pending=m}w!==0&&Cn(a,m,w)}}function vr(e,r,a,l){he[Qe++]=e,he[Qe++]=r,he[Qe++]=a,he[Qe++]=l,$n|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ie(e,r,a,l){return vr(e,r,a,l),Nu(e)}function as(e,r){return vr(e,null,null,r),Nu(e)}function Cn(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var m=!1,w=e.return;w!==null;)w.childLanes|=a,l=w.alternate,l!==null&&(l.childLanes|=a),w.tag===22&&(e=w.stateNode,e===null||e._visibility&1||(m=!0)),e=w,w=w.return;return e.tag===3?(w=e.stateNode,m&&r!==null&&(m=31-fr(a),e=w.hiddenUpdates,l=e[m],l===null?e[m]=[r]:l.push(r),r.lane=a|536870912),w):null}function Nu(e){if(50<$c)throw $c=0,Qp=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ko={};function _o(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,r,a,l){return new _o(e,r,a,l)}function Wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,r){var a=e.alternate;return a===null?(a=Fr(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vo(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function wa(e,r,a,l,m,w){var N=0;if(l=e,typeof e=="function")Wo(e)&&(N=1);else if(typeof e=="string")N=lS(e,a,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case H:return e=Fr(31,a,r,m),e.elementType=H,e.lanes=w,e;case nt:return Ea(a.children,m,w,r);case dt:N=8,m|=24;break;case _t:return e=Fr(12,a,r,m|2),e.elementType=_t,e.lanes=w,e;case Qt:return e=Fr(13,a,r,m),e.elementType=Qt,e.lanes=w,e;case se:return e=Fr(19,a,r,m),e.elementType=se,e.lanes=w,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ut:case Ft:N=10;break t;case Tt:N=9;break t;case jt:N=11;break t;case K:N=14;break t;case P:N=16,l=null;break t}N=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=Fr(N,a,r,m),r.elementType=e,r.type=l,r.lanes=w,r}function Ea(e,r,a,l){return e=Fr(7,e,l,r),e.lanes=a,e}function bc(e,r,a){return e=Fr(6,e,null,r),e.lanes=a,e}function Jo(e,r,a){return r=Fr(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Ta=[],$a=0,Ks=null,wo=0,$r=[],Si=0,Ws=null,Ri=1,os="";function Kn(e,r){Ta[$a++]=wo,Ta[$a++]=Ks,Ks=e,wo=r}function $i(e,r,a){$r[Si++]=Ri,$r[Si++]=os,$r[Si++]=Ws,Ws=e;var l=Ri;e=os;var m=32-fr(l)-1;l&=~(1<<m),a+=1;var w=32-fr(r)+m;if(30<w){var N=m-m%5;w=(l&(1<<N)-1).toString(32),l>>=N,m-=N,Ri=1<<32-fr(r)+m|a<<m|l,os=w+e}else Ri=1<<w|a<<m|l,os=e}function Fl(e){e.return!==null&&(Kn(e,1),$i(e,1,0))}function $l(e){for(;e===Ks;)Ks=Ta[--$a],Ta[$a]=null,wo=Ta[--$a],Ta[$a]=null;for(;e===Ws;)Ws=$r[--Si],$r[Si]=null,os=$r[--Si],$r[Si]=null,Ri=$r[--Si],$r[Si]=null}var Mr=null,jn=null,Ze=!1,Aa=null,Gi=!1,Sc=Error(s(519));function Eo(e){var r=Error(s(418,""));throw ba(Ve(r,e)),Sc}function Rc(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[On]=e,r[cn]=l,a){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(a=0;a<Qc.length;a++)He(Qc[a],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Pi(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Br(r);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),ri(r,l.value,l.defaultValue,l.children),Br(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||$v(r.textContent,a)?(l.popover!=null&&(He("beforetoggle",r),He("toggle",r)),l.onScroll!=null&&He("scroll",r),l.onScrollEnd!=null&&He("scrollend",r),l.onClick!=null&&(r.onclick=Dh),r=!0):r=!1,r||Eo(e)}function xc(e){for(Mr=e.return;Mr;)switch(Mr.tag){case 5:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:Mr=Mr.return}}function Ga(e){if(e!==Mr)return!1;if(!Ze)return xc(e),Ze=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||um(e.type,e.memoizedProps)),a=!a),a&&jn&&Eo(e),xc(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){jn=Na(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}jn=null}}else r===27?(r=jn,pl(e.type)?(e=dm,dm=null,jn=e):jn=r):jn=Mr?Na(e.stateNode.nextSibling):null;return!0}function Qa(){jn=Mr=null,Ze=!1}function Js(){var e=Aa;return e!==null&&(cs===null?cs=e:cs.push.apply(cs,e),Aa=null),e}function ba(e){Aa===null?Aa=[e]:Aa.push(e)}var oi=Mt(null),Sa=null,Rs=null;function Ra(e,r,a){Lt(oi,r._currentValue),r._currentValue=a}function Zs(e){e._currentValue=oi.current,qt(oi)}function Gl(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Du(e,r,a,l){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var w=m.dependencies;if(w!==null){var N=m.child;w=w.firstContext;t:for(;w!==null;){var k=w;w=m;for(var G=0;G<r.length;G++)if(k.context===r[G]){w.lanes|=a,k=w.alternate,k!==null&&(k.lanes|=a),Gl(w.return,a,e),l||(N=null);break t}w=k.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(s(341));N.lanes|=a,w=N.alternate,w!==null&&(w.lanes|=a),Gl(N,a,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function Xa(e,r,a,l){e=null;for(var m=r,w=!1;m!==null;){if(!w){if((m.flags&524288)!==0)w=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var k=m.type;En(m.pendingProps.value,N.value)||(e!==null?e.push(k):e=[k])}}else if(m===bn.current){if(N=m.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Zc):e=[Zc])}m=m.return}e!==null&&Du(r,e,a,l),r.flags|=262144}function Ql(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function To(e){Sa=e,Rs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gr(e){return Wf(Sa,e)}function Ou(e,r){return Sa===null&&To(e),Wf(e,r)}function Wf(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Rs===null){if(e===null)throw Error(s(308));Rs=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Rs=Rs.next=r;return a}var hp=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},dp=i.unstable_scheduleCallback,pp=i.unstable_NormalPriority,sr={$$typeof:Ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new hp,data:new Map,refCount:0}}function Xl(e){e.refCount--,e.refCount===0&&dp(pp,function(){e.controller.abort()})}var Yl=null,Kl=0,Zo=0,Ao=null;function Jf(e,r){if(Yl===null){var a=Yl=[];Kl=0,Zo=tm(),Ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Kl++,r.then(Zf,Zf),r}function Zf(){if(--Kl===0&&Yl!==null){Ao!==null&&(Ao.status="fulfilled");var e=Yl;Yl=null,Zo=0,Ao=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function mp(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var m=0;m<a.length;m++)(0,a[m])(r)},function(m){for(l.status="rejected",l.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),l}var th=wt.S;wt.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Jf(e,r),th!==null&&th(e,r)};var bo=Mt(null);function Wl(){var e=bo.current;return e!==null?e:kn.pooledCache}function Jl(e,r){r===null?Lt(bo,bo.current):Lt(bo,r.pool)}function So(){var e=Wl();return e===null?null:{parent:sr._currentValue,pool:e}}var tl=Error(s(460)),eh=Error(s(474)),Zl=Error(s(542)),Ic={then:function(){}};function nh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mu(){}function rh(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(Mu,Mu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ih(e),e;default:if(typeof r.status=="string")r.then(Mu,Mu);else{if(e=kn,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=l}},function(l){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ih(e),e}throw tu=r,tl}}var tu=null;function Vu(){if(tu===null)throw Error(s(459));var e=tu;return tu=null,e}function ih(e){if(e===tl||e===Zl)throw Error(s(483))}var Ya=!1;function Nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ue(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(yn&2)!==0){var m=l.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),l.pending=r,r=Nu(e),Cn(e,null,a),r}return vr(e,l,r,a),Nu(e)}function Wa(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,mo(e,a)}}function eu(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var m=null,w=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};w===null?m=w=N:w=w.next=N,a=a.next}while(a!==null);w===null?m=w=r:w=w.next=r}else m=w=r;a={baseState:l.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Dc=!1;function nu(){if(Dc){var e=Ao;if(e!==null)throw e}}function ru(e,r,a,l){Dc=!1;var m=e.updateQueue;Ya=!1;var w=m.firstBaseUpdate,N=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var G=k,ht=G.next;G.next=null,N===null?w=ht:N.next=ht,N=G;var At=e.alternate;At!==null&&(At=At.updateQueue,k=At.lastBaseUpdate,k!==N&&(k===null?At.firstBaseUpdate=ht:k.next=ht,At.lastBaseUpdate=G))}if(w!==null){var It=m.baseState;N=0,At=ht=G=null,k=w;do{var mt=k.lane&-536870913,yt=mt!==k.lane;if(yt?(tn&mt)===mt:(l&mt)===mt){mt!==0&&mt===Zo&&(Dc=!0),At!==null&&(At=At.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Re=e,ye=k;mt=r;var An=a;switch(ye.tag){case 1:if(Re=ye.payload,typeof Re=="function"){It=Re.call(An,It,mt);break t}It=Re;break t;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=ye.payload,mt=typeof Re=="function"?Re.call(An,It,mt):Re,mt==null)break t;It=O({},It,mt);break t;case 2:Ya=!0}}mt=k.callback,mt!==null&&(e.flags|=64,yt&&(e.flags|=8192),yt=m.callbacks,yt===null?m.callbacks=[mt]:yt.push(mt))}else yt={lane:mt,tag:k.tag,payload:k.payload,callback:k.callback,next:null},At===null?(ht=At=yt,G=It):At=At.next=yt,N|=mt;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;yt=k,k=yt.next,yt.next=null,m.lastBaseUpdate=yt,m.shared.pending=null}}while(!0);At===null&&(G=It),m.baseState=G,m.firstBaseUpdate=ht,m.lastBaseUpdate=At,w===null&&(m.shared.lanes=0),cl|=N,e.lanes=N,e.memoizedState=It}}function sh(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function ah(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)sh(a[e],r)}var el=Mt(null),ku=Mt(0);function ar(e,r){e=Mo,Lt(ku,e),Lt(el,r),Mo=e|r.baseLanes}function Oc(){Lt(ku,Mo),Lt(el,el.current)}function Mc(){Mo=ku.current,qt(el),qt(ku)}var Ja=0,ke=null,hn=null,er=null,Lu=!1,nl=!1,Ro=!1,iu=0,su=0,rl=null,f=0;function p(){throw Error(s(321))}function _(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!En(e[a],r[a]))return!1;return!0}function b(e,r,a,l,m,w){return Ja=w,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,wt.H=e===null||e.memoizedState===null?S_:R_,Ro=!1,w=a(l,m),Ro=!1,nl&&(w=j(r,a,l,m)),D(e),w}function D(e){wt.H=fh;var r=hn!==null&&hn.next!==null;if(Ja=0,er=hn=ke=null,Lu=!1,su=0,rl=null,r)throw Error(s(300));e===null||Qr||(e=e.dependencies,e!==null&&Ql(e)&&(Qr=!0))}function j(e,r,a,l){ke=e;var m=0;do{if(nl&&(rl=null),su=0,nl=!1,25<=m)throw Error(s(301));if(m+=1,er=hn=null,e.updateQueue!=null){var w=e.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}wt.H=vb,w=r(a,l)}while(nl);return w}function tt(){var e=wt.H,r=e.useState()[0];return r=typeof r.then=="function"?je(r):r,e=e.useState()[0],(hn!==null?hn.memoizedState:null)!==e&&(ke.flags|=1024),r}function J(){var e=iu!==0;return iu=0,e}function lt(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Et(e){if(Lu){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Lu=!1}Ja=0,er=hn=ke=null,nl=!1,su=iu=0,rl=null}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?ke.memoizedState=er=e:er=er.next=e,er}function Dt(){if(hn===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=hn.next;var r=er===null?ke.memoizedState:er.next;if(r!==null)er=r,hn=e;else{if(e===null)throw ke.alternate===null?Error(s(467)):Error(s(310));hn=e,e={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},er===null?ke.memoizedState=er=e:er=er.next=e}return er}function Xt(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function je(e){var r=su;return su+=1,rl===null&&(rl=[]),e=rh(rl,e,r),r=ke,(er===null?r.memoizedState:er.next)===null&&(r=r.alternate,wt.H=r===null||r.memoizedState===null?S_:R_),e}function on(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return je(e);if(e.$$typeof===Ft)return Gr(e)}throw Error(s(438,String(e)))}function xs(e){var r=null,a=ke.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Xt(),ke.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=Z;return r.index++,a}function wr(e,r){return typeof r=="function"?r(e):r}function ls(e){var r=Dt();return xo(r,hn,e)}function xo(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var m=e.baseQueue,w=l.pending;if(w!==null){if(m!==null){var N=m.next;m.next=w.next,w.next=N}r.baseQueue=m=w,l.pending=null}if(w=e.baseState,m===null)e.memoizedState=w;else{r=m.next;var k=N=null,G=null,ht=r,At=!1;do{var It=ht.lane&-536870913;if(It!==ht.lane?(tn&It)===It:(Ja&It)===It){var mt=ht.revertLane;if(mt===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),It===Zo&&(At=!0);else if((Ja&mt)===mt){ht=ht.next,mt===Zo&&(At=!0);continue}else It={lane:0,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},G===null?(k=G=It,N=w):G=G.next=It,ke.lanes|=mt,cl|=mt;It=ht.action,Ro&&a(w,It),w=ht.hasEagerState?ht.eagerState:a(w,It)}else mt={lane:It,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},G===null?(k=G=mt,N=w):G=G.next=mt,ke.lanes|=It,cl|=It;ht=ht.next}while(ht!==null&&ht!==r);if(G===null?N=w:G.next=k,!En(w,e.memoizedState)&&(Qr=!0,At&&(a=Ao,a!==null)))throw a;e.memoizedState=w,e.baseState=N,e.baseQueue=G,l.lastRenderedState=w}return m===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function or(e){var r=Dt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,m=a.pending,w=r.memoizedState;if(m!==null){a.pending=null;var N=m=m.next;do w=e(w,N.action),N=N.next;while(N!==m);En(w,r.memoizedState)||(Qr=!0),r.memoizedState=w,r.baseQueue===null&&(r.baseState=w),a.lastRenderedState=w}return[w,l]}function ta(e,r,a){var l=ke,m=Dt(),w=Ze;if(w){if(a===void 0)throw Error(s(407));a=a()}else a=r();var N=!En((hn||m).memoizedState,a);N&&(m.memoizedState=a,Qr=!0),m=m.queue;var k=Ca.bind(null,l,m,e);if(Vc(2048,8,k,[e]),m.getSnapshot!==r||N||er!==null&&er.memoizedState.tag&1){if(l.flags|=2048,Uu(9,lh(),xa.bind(null,l,m,a,r),null),kn===null)throw Error(s(349));w||(Ja&124)!==0||nr(l,r,a)}return a}function nr(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=ke.updateQueue,r===null?(r=Xt(),ke.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function xa(e,r,a,l){r.value=a,r.getSnapshot=l,Pu(r)&&oh(e)}function Ca(e,r,a){return a(function(){Pu(r)&&oh(e)})}function Pu(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!En(e,a)}catch{return!0}}function oh(e){var r=as(e,2);r!==null&&Os(r,e,2)}function gp(e){var r=kt();if(typeof e=="function"){var a=e;if(e=a(),Ro){xr(!0);try{a()}finally{xr(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:e},r}function Wy(e,r,a,l){return e.baseState=a,xo(e,hn,typeof l=="function"?l:wr)}function pb(e,r,a,l,m){if(ch(e))throw Error(s(485));if(e=r.action,e!==null){var w={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};wt.T!==null?a(!0):w.isTransition=!1,l(w),a=r.pending,a===null?(w.next=r.pending=w,Jy(r,w)):(w.next=a.next,r.pending=a.next=w)}}function Jy(e,r){var a=r.action,l=r.payload,m=e.state;if(r.isTransition){var w=wt.T,N={};wt.T=N;try{var k=a(m,l),G=wt.S;G!==null&&G(N,k),Zy(e,r,k)}catch(ht){yp(e,r,ht)}finally{wt.T=w}}else try{w=a(m,l),Zy(e,r,w)}catch(ht){yp(e,r,ht)}}function Zy(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){t_(e,r,l)},function(l){return yp(e,r,l)}):t_(e,r,a)}function t_(e,r,a){r.status="fulfilled",r.value=a,e_(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,Jy(e,a)))}function yp(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,e_(r),r=r.next;while(r!==l)}e.action=null}function e_(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function n_(e,r){return r}function r_(e,r){if(Ze){var a=kn.formState;if(a!==null){t:{var l=ke;if(Ze){if(jn){e:{for(var m=jn,w=Gi;m.nodeType!==8;){if(!w){m=null;break e}if(m=Na(m.nextSibling),m===null){m=null;break e}}w=m.data,m=w==="F!"||w==="F"?m:null}if(m){jn=Na(m.nextSibling),l=m.data==="F!";break t}}Eo(l)}l=!1}l&&(r=a[0])}}return a=kt(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n_,lastRenderedState:r},a.queue=l,a=T_.bind(null,ke,l),l.dispatch=a,l=gp(!1),w=Tp.bind(null,ke,!1,l.queue),l=kt(),m={state:r,dispatch:null,action:e,pending:null},l.queue=m,a=pb.bind(null,ke,m,w,a),m.dispatch=a,l.memoizedState=e,[r,a,!1]}function i_(e){var r=Dt();return s_(r,hn,e)}function s_(e,r,a){if(r=xo(e,r,n_)[0],e=ls(wr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=je(r)}catch(N){throw N===tl?Zl:N}else l=r;r=Dt();var m=r.queue,w=m.dispatch;return a!==r.memoizedState&&(ke.flags|=2048,Uu(9,lh(),mb.bind(null,m,a),null)),[l,w,e]}function mb(e,r){e.action=r}function a_(e){var r=Dt(),a=hn;if(a!==null)return s_(r,a,e);Dt(),r=r.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Uu(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=ke.updateQueue,r===null&&(r=Xt(),ke.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function lh(){return{destroy:void 0,resource:void 0}}function o_(){return Dt().memoizedState}function uh(e,r,a,l){var m=kt();l=l===void 0?null:l,ke.flags|=e,m.memoizedState=Uu(1|r,lh(),a,l)}function Vc(e,r,a,l){var m=Dt();l=l===void 0?null:l;var w=m.memoizedState.inst;hn!==null&&l!==null&&_(l,hn.memoizedState.deps)?m.memoizedState=Uu(r,w,a,l):(ke.flags|=e,m.memoizedState=Uu(1|r,w,a,l))}function l_(e,r){uh(8390656,8,e,r)}function u_(e,r){Vc(2048,8,e,r)}function c_(e,r){return Vc(4,2,e,r)}function f_(e,r){return Vc(4,4,e,r)}function h_(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function d_(e,r,a){a=a!=null?a.concat([e]):null,Vc(4,4,h_.bind(null,r,e),a)}function _p(){}function p_(e,r){var a=Dt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&_(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function m_(e,r){var a=Dt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&_(r,l[1]))return l[0];if(l=e(),Ro){xr(!0);try{e()}finally{xr(!1)}}return a.memoizedState=[l,r],l}function vp(e,r,a){return a===void 0||(Ja&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=_v(),ke.lanes|=e,cl|=e,a)}function g_(e,r,a,l){return En(a,r)?a:el.current!==null?(e=vp(e,a,l),En(e,r)||(Qr=!0),e):(Ja&42)===0?(Qr=!0,e.memoizedState=a):(e=_v(),ke.lanes|=e,cl|=e,r)}function y_(e,r,a,l,m){var w=zt.p;zt.p=w!==0&&8>w?w:8;var N=wt.T,k={};wt.T=k,Tp(e,!1,r,a);try{var G=m(),ht=wt.S;if(ht!==null&&ht(k,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var At=mp(G,l);kc(e,r,At,Ds(e))}else kc(e,r,l,Ds(e))}catch(It){kc(e,r,{then:function(){},status:"rejected",reason:It},Ds())}finally{zt.p=w,wt.T=N}}function gb(){}function wp(e,r,a,l){if(e.tag!==5)throw Error(s(476));var m=__(e).queue;y_(e,m,r,oe,a===null?gb:function(){return v_(e),a(l)})}function __(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:oe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function v_(e){var r=__(e).next.queue;kc(e,r,{},Ds())}function Ep(){return Gr(Zc)}function w_(){return Dt().memoizedState}function E_(){return Dt().memoizedState}function yb(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Ds();e=Ka(a);var l=Qi(r,e,a);l!==null&&(Os(l,r,a),Wa(l,r,a)),r={cache:Cc()},e.payload=r;return}r=r.return}}function _b(e,r,a){var l=Ds();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ch(e)?A_(r,a):(a=Ie(e,r,a,l),a!==null&&(Os(a,e,l),b_(a,r,l)))}function T_(e,r,a){var l=Ds();kc(e,r,a,l)}function kc(e,r,a,l){var m={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ch(e))A_(r,m);else{var w=e.alternate;if(e.lanes===0&&(w===null||w.lanes===0)&&(w=r.lastRenderedReducer,w!==null))try{var N=r.lastRenderedState,k=w(N,a);if(m.hasEagerState=!0,m.eagerState=k,En(k,N))return vr(e,r,m,0),kn===null&&Yn(),!1}catch{}finally{}if(a=Ie(e,r,m,l),a!==null)return Os(a,e,l),b_(a,r,l),!0}return!1}function Tp(e,r,a,l){if(l={lane:2,revertLane:tm(),action:l,hasEagerState:!1,eagerState:null,next:null},ch(e)){if(r)throw Error(s(479))}else r=Ie(e,a,l,2),r!==null&&Os(r,e,2)}function ch(e){var r=e.alternate;return e===ke||r!==null&&r===ke}function A_(e,r){nl=Lu=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function b_(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,mo(e,a)}}var fh={readContext:Gr,use:on,useCallback:p,useContext:p,useEffect:p,useImperativeHandle:p,useLayoutEffect:p,useInsertionEffect:p,useMemo:p,useReducer:p,useRef:p,useState:p,useDebugValue:p,useDeferredValue:p,useTransition:p,useSyncExternalStore:p,useId:p,useHostTransitionStatus:p,useFormState:p,useActionState:p,useOptimistic:p,useMemoCache:p,useCacheRefresh:p},S_={readContext:Gr,use:on,useCallback:function(e,r){return kt().memoizedState=[e,r===void 0?null:r],e},useContext:Gr,useEffect:l_,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,uh(4194308,4,h_.bind(null,r,e),a)},useLayoutEffect:function(e,r){return uh(4194308,4,e,r)},useInsertionEffect:function(e,r){uh(4,2,e,r)},useMemo:function(e,r){var a=kt();r=r===void 0?null:r;var l=e();if(Ro){xr(!0);try{e()}finally{xr(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=kt();if(a!==void 0){var m=a(r);if(Ro){xr(!0);try{a(r)}finally{xr(!1)}}}else m=r;return l.memoizedState=l.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},l.queue=e,e=e.dispatch=_b.bind(null,ke,e),[l.memoizedState,e]},useRef:function(e){var r=kt();return e={current:e},r.memoizedState=e},useState:function(e){e=gp(e);var r=e.queue,a=T_.bind(null,ke,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:_p,useDeferredValue:function(e,r){var a=kt();return vp(a,e,r)},useTransition:function(){var e=gp(!1);return e=y_.bind(null,ke,e.queue,!0,!1),kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=ke,m=kt();if(Ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),kn===null)throw Error(s(349));(tn&124)!==0||nr(l,r,a)}m.memoizedState=a;var w={value:a,getSnapshot:r};return m.queue=w,l_(Ca.bind(null,l,w,e),[e]),l.flags|=2048,Uu(9,lh(),xa.bind(null,l,w,a,r),null),a},useId:function(){var e=kt(),r=kn.identifierPrefix;if(Ze){var a=os,l=Ri;a=(l&~(1<<32-fr(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=iu++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=f++,r="«"+r+"r"+a.toString(32)+"»";return e.memoizedState=r},useHostTransitionStatus:Ep,useFormState:r_,useActionState:r_,useOptimistic:function(e){var r=kt();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Tp.bind(null,ke,!0,a),a.dispatch=r,[e,r]},useMemoCache:xs,useCacheRefresh:function(){return kt().memoizedState=yb.bind(null,ke)}},R_={readContext:Gr,use:on,useCallback:p_,useContext:Gr,useEffect:u_,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:f_,useMemo:m_,useReducer:ls,useRef:o_,useState:function(){return ls(wr)},useDebugValue:_p,useDeferredValue:function(e,r){var a=Dt();return g_(a,hn.memoizedState,e,r)},useTransition:function(){var e=ls(wr)[0],r=Dt().memoizedState;return[typeof e=="boolean"?e:je(e),r]},useSyncExternalStore:ta,useId:w_,useHostTransitionStatus:Ep,useFormState:i_,useActionState:i_,useOptimistic:function(e,r){var a=Dt();return Wy(a,hn,e,r)},useMemoCache:xs,useCacheRefresh:E_},vb={readContext:Gr,use:on,useCallback:p_,useContext:Gr,useEffect:u_,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:f_,useMemo:m_,useReducer:or,useRef:o_,useState:function(){return or(wr)},useDebugValue:_p,useDeferredValue:function(e,r){var a=Dt();return hn===null?vp(a,e,r):g_(a,hn.memoizedState,e,r)},useTransition:function(){var e=or(wr)[0],r=Dt().memoizedState;return[typeof e=="boolean"?e:je(e),r]},useSyncExternalStore:ta,useId:w_,useHostTransitionStatus:Ep,useFormState:a_,useActionState:a_,useOptimistic:function(e,r){var a=Dt();return hn!==null?Wy(a,hn,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xs,useCacheRefresh:E_},ju=null,Lc=0;function hh(e){var r=Lc;return Lc+=1,ju===null&&(ju=[]),rh(ju,e,r)}function Pc(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function dh(e,r){throw r.$$typeof===M?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function x_(e){var r=e._init;return r(e._payload)}function C_(e){function r(it,et){if(e){var ct=it.deletions;ct===null?(it.deletions=[et],it.flags|=16):ct.push(et)}}function a(it,et){if(!e)return null;for(;et!==null;)r(it,et),et=et.sibling;return null}function l(it){for(var et=new Map;it!==null;)it.key!==null?et.set(it.key,it):et.set(it.index,it),it=it.sibling;return et}function m(it,et){return it=bi(it,et),it.index=0,it.sibling=null,it}function w(it,et,ct){return it.index=ct,e?(ct=it.alternate,ct!==null?(ct=ct.index,ct<et?(it.flags|=67108866,et):ct):(it.flags|=67108866,et)):(it.flags|=1048576,et)}function N(it){return e&&it.alternate===null&&(it.flags|=67108866),it}function k(it,et,ct,Rt){return et===null||et.tag!==6?(et=bc(ct,it.mode,Rt),et.return=it,et):(et=m(et,ct),et.return=it,et)}function G(it,et,ct,Rt){var re=ct.type;return re===nt?At(it,et,ct.props.children,Rt,ct.key):et!==null&&(et.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===P&&x_(re)===et.type)?(et=m(et,ct.props),Pc(et,ct),et.return=it,et):(et=wa(ct.type,ct.key,ct.props,null,it.mode,Rt),Pc(et,ct),et.return=it,et)}function ht(it,et,ct,Rt){return et===null||et.tag!==4||et.stateNode.containerInfo!==ct.containerInfo||et.stateNode.implementation!==ct.implementation?(et=Jo(ct,it.mode,Rt),et.return=it,et):(et=m(et,ct.children||[]),et.return=it,et)}function At(it,et,ct,Rt,re){return et===null||et.tag!==7?(et=Ea(ct,it.mode,Rt,re),et.return=it,et):(et=m(et,ct),et.return=it,et)}function It(it,et,ct){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=bc(""+et,it.mode,ct),et.return=it,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case d:return ct=wa(et.type,et.key,et.props,null,it.mode,ct),Pc(ct,et),ct.return=it,ct;case q:return et=Jo(et,it.mode,ct),et.return=it,et;case P:var Rt=et._init;return et=Rt(et._payload),It(it,et,ct)}if(un(et)||rt(et))return et=Ea(et,it.mode,ct,null),et.return=it,et;if(typeof et.then=="function")return It(it,hh(et),ct);if(et.$$typeof===Ft)return It(it,Ou(it,et),ct);dh(it,et)}return null}function mt(it,et,ct,Rt){var re=et!==null?et.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return re!==null?null:k(it,et,""+ct,Rt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case d:return ct.key===re?G(it,et,ct,Rt):null;case q:return ct.key===re?ht(it,et,ct,Rt):null;case P:return re=ct._init,ct=re(ct._payload),mt(it,et,ct,Rt)}if(un(ct)||rt(ct))return re!==null?null:At(it,et,ct,Rt,null);if(typeof ct.then=="function")return mt(it,et,hh(ct),Rt);if(ct.$$typeof===Ft)return mt(it,et,Ou(it,ct),Rt);dh(it,ct)}return null}function yt(it,et,ct,Rt,re){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return it=it.get(ct)||null,k(et,it,""+Rt,re);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case d:return it=it.get(Rt.key===null?ct:Rt.key)||null,G(et,it,Rt,re);case q:return it=it.get(Rt.key===null?ct:Rt.key)||null,ht(et,it,Rt,re);case P:var qe=Rt._init;return Rt=qe(Rt._payload),yt(it,et,ct,Rt,re)}if(un(Rt)||rt(Rt))return it=it.get(ct)||null,At(et,it,Rt,re,null);if(typeof Rt.then=="function")return yt(it,et,ct,hh(Rt),re);if(Rt.$$typeof===Ft)return yt(it,et,ct,Ou(et,Rt),re);dh(et,Rt)}return null}function Re(it,et,ct,Rt){for(var re=null,qe=null,le=et,ve=et=0,Yr=null;le!==null&&ve<ct.length;ve++){le.index>ve?(Yr=le,le=null):Yr=le.sibling;var ln=mt(it,le,ct[ve],Rt);if(ln===null){le===null&&(le=Yr);break}e&&le&&ln.alternate===null&&r(it,le),et=w(ln,et,ve),qe===null?re=ln:qe.sibling=ln,qe=ln,le=Yr}if(ve===ct.length)return a(it,le),Ze&&Kn(it,ve),re;if(le===null){for(;ve<ct.length;ve++)le=It(it,ct[ve],Rt),le!==null&&(et=w(le,et,ve),qe===null?re=le:qe.sibling=le,qe=le);return Ze&&Kn(it,ve),re}for(le=l(le);ve<ct.length;ve++)Yr=yt(le,it,ve,ct[ve],Rt),Yr!==null&&(e&&Yr.alternate!==null&&le.delete(Yr.key===null?ve:Yr.key),et=w(Yr,et,ve),qe===null?re=Yr:qe.sibling=Yr,qe=Yr);return e&&le.forEach(function(vl){return r(it,vl)}),Ze&&Kn(it,ve),re}function ye(it,et,ct,Rt){if(ct==null)throw Error(s(151));for(var re=null,qe=null,le=et,ve=et=0,Yr=null,ln=ct.next();le!==null&&!ln.done;ve++,ln=ct.next()){le.index>ve?(Yr=le,le=null):Yr=le.sibling;var vl=mt(it,le,ln.value,Rt);if(vl===null){le===null&&(le=Yr);break}e&&le&&vl.alternate===null&&r(it,le),et=w(vl,et,ve),qe===null?re=vl:qe.sibling=vl,qe=vl,le=Yr}if(ln.done)return a(it,le),Ze&&Kn(it,ve),re;if(le===null){for(;!ln.done;ve++,ln=ct.next())ln=It(it,ln.value,Rt),ln!==null&&(et=w(ln,et,ve),qe===null?re=ln:qe.sibling=ln,qe=ln);return Ze&&Kn(it,ve),re}for(le=l(le);!ln.done;ve++,ln=ct.next())ln=yt(le,it,ve,ln.value,Rt),ln!==null&&(e&&ln.alternate!==null&&le.delete(ln.key===null?ve:ln.key),et=w(ln,et,ve),qe===null?re=ln:qe.sibling=ln,qe=ln);return e&&le.forEach(function(wS){return r(it,wS)}),Ze&&Kn(it,ve),re}function An(it,et,ct,Rt){if(typeof ct=="object"&&ct!==null&&ct.type===nt&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case d:t:{for(var re=ct.key;et!==null;){if(et.key===re){if(re=ct.type,re===nt){if(et.tag===7){a(it,et.sibling),Rt=m(et,ct.props.children),Rt.return=it,it=Rt;break t}}else if(et.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===P&&x_(re)===et.type){a(it,et.sibling),Rt=m(et,ct.props),Pc(Rt,ct),Rt.return=it,it=Rt;break t}a(it,et);break}else r(it,et);et=et.sibling}ct.type===nt?(Rt=Ea(ct.props.children,it.mode,Rt,ct.key),Rt.return=it,it=Rt):(Rt=wa(ct.type,ct.key,ct.props,null,it.mode,Rt),Pc(Rt,ct),Rt.return=it,it=Rt)}return N(it);case q:t:{for(re=ct.key;et!==null;){if(et.key===re)if(et.tag===4&&et.stateNode.containerInfo===ct.containerInfo&&et.stateNode.implementation===ct.implementation){a(it,et.sibling),Rt=m(et,ct.children||[]),Rt.return=it,it=Rt;break t}else{a(it,et);break}else r(it,et);et=et.sibling}Rt=Jo(ct,it.mode,Rt),Rt.return=it,it=Rt}return N(it);case P:return re=ct._init,ct=re(ct._payload),An(it,et,ct,Rt)}if(un(ct))return Re(it,et,ct,Rt);if(rt(ct)){if(re=rt(ct),typeof re!="function")throw Error(s(150));return ct=re.call(ct),ye(it,et,ct,Rt)}if(typeof ct.then=="function")return An(it,et,hh(ct),Rt);if(ct.$$typeof===Ft)return An(it,et,Ou(it,ct),Rt);dh(it,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,et!==null&&et.tag===6?(a(it,et.sibling),Rt=m(et,ct),Rt.return=it,it=Rt):(a(it,et),Rt=bc(ct,it.mode,Rt),Rt.return=it,it=Rt),N(it)):a(it,et)}return function(it,et,ct,Rt){try{Lc=0;var re=An(it,et,ct,Rt);return ju=null,re}catch(le){if(le===tl||le===Zl)throw le;var qe=Fr(29,le,null,it.mode);return qe.lanes=Rt,qe.return=it,qe}finally{}}}var Bu=C_(!0),I_=C_(!1),ea=Mt(null),Za=null;function il(e){var r=e.alternate;Lt(Vr,Vr.current&1),Lt(ea,e),Za===null&&(r===null||el.current!==null||r.memoizedState!==null)&&(Za=e)}function N_(e){if(e.tag===22){if(Lt(Vr,Vr.current),Lt(ea,e),Za===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(Za=e)}}else sl()}function sl(){Lt(Vr,Vr.current),Lt(ea,ea.current)}function Co(e){qt(ea),Za===e&&(Za=null),qt(Vr)}var Vr=Mt(0);function ph(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ap(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:O({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bp={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=Ds(),m=Ka(l);m.payload=r,a!=null&&(m.callback=a),r=Qi(e,m,l),r!==null&&(Os(r,e,l),Wa(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=Ds(),m=Ka(l);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=Qi(e,m,l),r!==null&&(Os(r,e,l),Wa(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Ds(),l=Ka(a);l.tag=2,r!=null&&(l.callback=r),r=Qi(e,l,a),r!==null&&(Os(r,e,a),Wa(r,e,a))}};function D_(e,r,a,l,m,w,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,w,N):r.prototype&&r.prototype.isPureReactComponent?!tr(a,l)||!tr(m,w):!0}function O_(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&bp.enqueueReplaceState(r,r.state,null)}function au(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=O({},a));for(var m in e)a[m]===void 0&&(a[m]=e[m])}return a}var mh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function M_(e){mh(e)}function V_(e){console.error(e)}function k_(e){mh(e)}function gh(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function L_(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Sp(e,r,a){return a=Ka(a),a.tag=3,a.payload={element:null},a.callback=function(){gh(e,r)},a}function P_(e){return e=Ka(e),e.tag=3,e}function U_(e,r,a,l){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var w=l.value;e.payload=function(){return m(w)},e.callback=function(){L_(r,a,l)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){L_(r,a,l),typeof m!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})})}function wb(e,r,a,l,m){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Xa(r,a,m,!0),a=ea.current,a!==null){switch(a.tag){case 13:return Za===null?Yp():a.alternate===null&&rr===0&&(rr=3),a.flags&=-257,a.flags|=65536,a.lanes=m,l===Ic?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Wp(e,l,m)),!1;case 22:return a.flags|=65536,l===Ic?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Wp(e,l,m)),!1}throw Error(s(435,a.tag))}return Wp(e,l,m),Yp(),!1}if(Ze)return r=ea.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,l!==Sc&&(e=Error(s(422),{cause:l}),ba(Ve(e,a)))):(l!==Sc&&(r=Error(s(423),{cause:l}),ba(Ve(r,a))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,l=Ve(l,a),m=Sp(e.stateNode,l,m),eu(e,m),rr!==4&&(rr=2)),!1;var w=Error(s(520),{cause:l});if(w=Ve(w,a),Fc===null?Fc=[w]:Fc.push(w),rr!==4&&(rr=2),r===null)return!0;l=Ve(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=m&-m,a.lanes|=e,e=Sp(a.stateNode,l,e),eu(a,e),!1;case 1:if(r=a.type,w=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fl===null||!fl.has(w))))return a.flags|=65536,m&=-m,a.lanes|=m,m=P_(m),U_(m,e,a,l),eu(a,m),!1}a=a.return}while(a!==null);return!1}var j_=Error(s(461)),Qr=!1;function li(e,r,a,l){r.child=e===null?I_(r,null,a,l):Bu(r,e.child,a,l)}function B_(e,r,a,l,m){a=a.render;var w=r.ref;if("ref"in l){var N={};for(var k in l)k!=="ref"&&(N[k]=l[k])}else N=l;return To(r),l=b(e,r,a,N,w,m),k=J(),e!==null&&!Qr?(lt(e,r,m),Io(e,r,m)):(Ze&&k&&Fl(r),r.flags|=1,li(e,r,l,m),r.child)}function q_(e,r,a,l,m){if(e===null){var w=a.type;return typeof w=="function"&&!Wo(w)&&w.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=w,z_(e,r,w,l,m)):(e=wa(a.type,null,l,r,r.mode,m),e.ref=r.ref,e.return=r,r.child=e)}if(w=e.child,!Mp(e,m)){var N=w.memoizedProps;if(a=a.compare,a=a!==null?a:tr,a(N,l)&&e.ref===r.ref)return Io(e,r,m)}return r.flags|=1,e=bi(w,l),e.ref=r.ref,e.return=r,r.child=e}function z_(e,r,a,l,m){if(e!==null){var w=e.memoizedProps;if(tr(w,l)&&e.ref===r.ref)if(Qr=!1,r.pendingProps=l=w,Mp(e,m))(e.flags&131072)!==0&&(Qr=!0);else return r.lanes=e.lanes,Io(e,r,m)}return Rp(e,r,a,l,m)}function H_(e,r,a){var l=r.pendingProps,m=l.children,w=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=w!==null?w.baseLanes|a:a,e!==null){for(m=r.child=e.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;r.childLanes=w&~l}else r.childLanes=0,r.child=null;return F_(e,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jl(r,w!==null?w.cachePool:null),w!==null?ar(r,w):Oc(),N_(r);else return r.lanes=r.childLanes=536870912,F_(e,r,w!==null?w.baseLanes|a:a,a)}else w!==null?(Jl(r,w.cachePool),ar(r,w),sl(),r.memoizedState=null):(e!==null&&Jl(r,null),Oc(),sl());return li(e,r,m,a),r.child}function F_(e,r,a,l){var m=Wl();return m=m===null?null:{parent:sr._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},e!==null&&Jl(r,null),Oc(),N_(r),e!==null&&Xa(e,r,l,!0),null}function yh(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Rp(e,r,a,l,m){return To(r),a=b(e,r,a,l,void 0,m),l=J(),e!==null&&!Qr?(lt(e,r,m),Io(e,r,m)):(Ze&&l&&Fl(r),r.flags|=1,li(e,r,a,m),r.child)}function $_(e,r,a,l,m,w){return To(r),r.updateQueue=null,a=j(r,l,a,m),D(e),l=J(),e!==null&&!Qr?(lt(e,r,w),Io(e,r,w)):(Ze&&l&&Fl(r),r.flags|=1,li(e,r,a,w),r.child)}function G_(e,r,a,l,m){if(To(r),r.stateNode===null){var w=Ko,N=a.contextType;typeof N=="object"&&N!==null&&(w=Gr(N)),w=new a(l,w),r.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=bp,r.stateNode=w,w._reactInternals=r,w=r.stateNode,w.props=l,w.state=r.memoizedState,w.refs={},Nc(r),N=a.contextType,w.context=typeof N=="object"&&N!==null?Gr(N):Ko,w.state=r.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(Ap(r,a,N,l),w.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&bp.enqueueReplaceState(w,w.state,null),ru(r,l,w,m),nu(),w.state=r.memoizedState),typeof w.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){w=r.stateNode;var k=r.memoizedProps,G=au(a,k);w.props=G;var ht=w.context,At=a.contextType;N=Ko,typeof At=="object"&&At!==null&&(N=Gr(At));var It=a.getDerivedStateFromProps;At=typeof It=="function"||typeof w.getSnapshotBeforeUpdate=="function",k=r.pendingProps!==k,At||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k||ht!==N)&&O_(r,w,l,N),Ya=!1;var mt=r.memoizedState;w.state=mt,ru(r,l,w,m),nu(),ht=r.memoizedState,k||mt!==ht||Ya?(typeof It=="function"&&(Ap(r,a,It,l),ht=r.memoizedState),(G=Ya||D_(r,a,G,l,mt,ht,N))?(At||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=ht),w.props=l,w.state=ht,w.context=N,l=G):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{w=r.stateNode,Ue(e,r),N=r.memoizedProps,At=au(a,N),w.props=At,It=r.pendingProps,mt=w.context,ht=a.contextType,G=Ko,typeof ht=="object"&&ht!==null&&(G=Gr(ht)),k=a.getDerivedStateFromProps,(ht=typeof k=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==It||mt!==G)&&O_(r,w,l,G),Ya=!1,mt=r.memoizedState,w.state=mt,ru(r,l,w,m),nu();var yt=r.memoizedState;N!==It||mt!==yt||Ya||e!==null&&e.dependencies!==null&&Ql(e.dependencies)?(typeof k=="function"&&(Ap(r,a,k,l),yt=r.memoizedState),(At=Ya||D_(r,a,At,l,mt,yt,G)||e!==null&&e.dependencies!==null&&Ql(e.dependencies))?(ht||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,yt,G),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,yt,G)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===e.memoizedProps&&mt===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&mt===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=yt),w.props=l,w.state=yt,w.context=G,l=At):(typeof w.componentDidUpdate!="function"||N===e.memoizedProps&&mt===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&mt===e.memoizedState||(r.flags|=1024),l=!1)}return w=l,yh(e,r),l=(r.flags&128)!==0,w||l?(w=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:w.render(),r.flags|=1,e!==null&&l?(r.child=Bu(r,e.child,null,m),r.child=Bu(r,null,a,m)):li(e,r,a,m),r.memoizedState=w.state,e=r.child):e=Io(e,r,m),e}function Q_(e,r,a,l){return Qa(),r.flags|=256,li(e,r,a,l),r.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cp(e){return{baseLanes:e,cachePool:So()}}function Ip(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=na),e}function X_(e,r,a){var l=r.pendingProps,m=!1,w=(r.flags&128)!==0,N;if((N=w)||(N=e!==null&&e.memoizedState===null?!1:(Vr.current&2)!==0),N&&(m=!0,r.flags&=-129),N=(r.flags&32)!==0,r.flags&=-33,e===null){if(Ze){if(m?il(r):sl(),Ze){var k=jn,G;if(G=k){t:{for(G=k,k=Gi;G.nodeType!==8;){if(!k){k=null;break t}if(G=Na(G.nextSibling),G===null){k=null;break t}}k=G}k!==null?(r.memoizedState={dehydrated:k,treeContext:Ws!==null?{id:Ri,overflow:os}:null,retryLane:536870912,hydrationErrors:null},G=Fr(18,null,null,0),G.stateNode=k,G.return=r,r.child=G,Mr=r,jn=null,G=!0):G=!1}G||Eo(r)}if(k=r.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return hm(k)?r.lanes=32:r.lanes=536870912,null;Co(r)}return k=l.children,l=l.fallback,m?(sl(),m=r.mode,k=_h({mode:"hidden",children:k},m),l=Ea(l,m,a,null),k.return=r,l.return=r,k.sibling=l,r.child=k,m=r.child,m.memoizedState=Cp(a),m.childLanes=Ip(e,N,a),r.memoizedState=xp,l):(il(r),Np(r,k))}if(G=e.memoizedState,G!==null&&(k=G.dehydrated,k!==null)){if(w)r.flags&256?(il(r),r.flags&=-257,r=Dp(e,r,a)):r.memoizedState!==null?(sl(),r.child=e.child,r.flags|=128,r=null):(sl(),m=l.fallback,k=r.mode,l=_h({mode:"visible",children:l.children},k),m=Ea(m,k,a,null),m.flags|=2,l.return=r,m.return=r,l.sibling=m,r.child=l,Bu(r,e.child,null,a),l=r.child,l.memoizedState=Cp(a),l.childLanes=Ip(e,N,a),r.memoizedState=xp,r=m);else if(il(r),hm(k)){if(N=k.nextSibling&&k.nextSibling.dataset,N)var ht=N.dgst;N=ht,l=Error(s(419)),l.stack="",l.digest=N,ba({value:l,source:null,stack:null}),r=Dp(e,r,a)}else if(Qr||Xa(e,r,a,!1),N=(a&e.childLanes)!==0,Qr||N){if(N=kn,N!==null&&(l=a&-a,l=(l&42)!==0?1:_i(l),l=(l&(N.suspendedLanes|a))!==0?0:l,l!==0&&l!==G.retryLane))throw G.retryLane=l,as(e,l),Os(N,e,l),j_;k.data==="$?"||Yp(),r=Dp(e,r,a)}else k.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=G.treeContext,jn=Na(k.nextSibling),Mr=r,Ze=!0,Aa=null,Gi=!1,e!==null&&($r[Si++]=Ri,$r[Si++]=os,$r[Si++]=Ws,Ri=e.id,os=e.overflow,Ws=r),r=Np(r,l.children),r.flags|=4096);return r}return m?(sl(),m=l.fallback,k=r.mode,G=e.child,ht=G.sibling,l=bi(G,{mode:"hidden",children:l.children}),l.subtreeFlags=G.subtreeFlags&65011712,ht!==null?m=bi(ht,m):(m=Ea(m,k,a,null),m.flags|=2),m.return=r,l.return=r,l.sibling=m,r.child=l,l=m,m=r.child,k=e.child.memoizedState,k===null?k=Cp(a):(G=k.cachePool,G!==null?(ht=sr._currentValue,G=G.parent!==ht?{parent:ht,pool:ht}:G):G=So(),k={baseLanes:k.baseLanes|a,cachePool:G}),m.memoizedState=k,m.childLanes=Ip(e,N,a),r.memoizedState=xp,l):(il(r),a=e.child,e=a.sibling,a=bi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(N=r.deletions,N===null?(r.deletions=[e],r.flags|=16):N.push(e)),r.child=a,r.memoizedState=null,a)}function Np(e,r){return r=_h({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function _h(e,r){return e=Fr(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Dp(e,r,a){return Bu(r,e.child,null,a),e=Np(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Y_(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Gl(e.return,r,a)}function Op(e,r,a,l,m){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:m}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=a,w.tailMode=m)}function K_(e,r,a){var l=r.pendingProps,m=l.revealOrder,w=l.tail;if(li(e,r,l.children,a),l=Vr.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Y_(e,a,r);else if(e.tag===19)Y_(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Lt(Vr,l),m){case"forwards":for(a=r.child,m=null;a!==null;)e=a.alternate,e!==null&&ph(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=r.child,r.child=null):(m=a.sibling,a.sibling=null),Op(r,!1,m,a,w);break;case"backwards":for(a=null,m=r.child,r.child=null;m!==null;){if(e=m.alternate,e!==null&&ph(e)===null){r.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}Op(r,!0,a,null,w);break;case"together":Op(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Io(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),cl|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Xa(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=bi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=bi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Mp(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Ql(e)))}function Eb(e,r,a){switch(r.tag){case 3:$e(r,r.stateNode.containerInfo),Ra(r,sr,e.memoizedState.cache),Qa();break;case 27:case 5:cr(r);break;case 4:$e(r,r.stateNode.containerInfo);break;case 10:Ra(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(il(r),r.flags|=128,null):(a&r.child.childLanes)!==0?X_(e,r,a):(il(r),e=Io(e,r,a),e!==null?e.sibling:null);il(r);break;case 19:var m=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Xa(e,r,a,!1),l=(a&r.childLanes)!==0),m){if(l)return K_(e,r,a);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Lt(Vr,Vr.current),l)break;return null;case 22:case 23:return r.lanes=0,H_(e,r,a);case 24:Ra(r,sr,e.memoizedState.cache)}return Io(e,r,a)}function W_(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Qr=!0;else{if(!Mp(e,a)&&(r.flags&128)===0)return Qr=!1,Eb(e,r,a);Qr=(e.flags&131072)!==0}else Qr=!1,Ze&&(r.flags&1048576)!==0&&$i(r,wo,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,m=l._init;if(l=m(l._payload),r.type=l,typeof l=="function")Wo(l)?(e=au(l,e),r.tag=1,r=G_(null,r,l,e,a)):(r.tag=0,r=Rp(null,r,l,e,a));else{if(l!=null){if(m=l.$$typeof,m===jt){r.tag=11,r=B_(null,r,l,e,a);break t}else if(m===K){r.tag=14,r=q_(null,r,l,e,a);break t}}throw r=rn(l)||l,Error(s(306,r,""))}}return r;case 0:return Rp(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,m=au(l,r.pendingProps),G_(e,r,l,m,a);case 3:t:{if($e(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var w=r.memoizedState;m=w.element,Ue(e,r),ru(r,l,null,a);var N=r.memoizedState;if(l=N.cache,Ra(r,sr,l),l!==w.cache&&Du(r,[sr],a,!0),nu(),l=N.element,w.isDehydrated)if(w={element:l,isDehydrated:!1,cache:N.cache},r.updateQueue.baseState=w,r.memoizedState=w,r.flags&256){r=Q_(e,r,l,a);break t}else if(l!==m){m=Ve(Error(s(424)),r),ba(m),r=Q_(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(jn=Na(e.firstChild),Mr=r,Ze=!0,Aa=null,Gi=!0,a=I_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qa(),l===m){r=Io(e,r,a);break t}li(e,r,l,a)}r=r.child}return r;case 26:return yh(e,r),e===null?(a=e0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ze||(a=r.type,e=r.pendingProps,l=Oh(ue.current).createElement(a),l[On]=r,l[cn]=e,ci(l,a,e),we(l),r.stateNode=l):r.memoizedState=e0(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return cr(r),e===null&&Ze&&(l=r.stateNode=Jv(r.type,r.pendingProps,ue.current),Mr=r,Gi=!0,m=jn,pl(r.type)?(dm=m,jn=Na(l.firstChild)):jn=m),li(e,r,r.pendingProps.children,a),yh(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Ze&&((m=l=jn)&&(l=Yb(l,r.type,r.pendingProps,Gi),l!==null?(r.stateNode=l,Mr=r,jn=Na(l.firstChild),Gi=!1,m=!0):m=!1),m||Eo(r)),cr(r),m=r.type,w=r.pendingProps,N=e!==null?e.memoizedProps:null,l=w.children,um(m,w)?l=null:N!==null&&um(m,N)&&(r.flags|=32),r.memoizedState!==null&&(m=b(e,r,tt,null,null,a),Zc._currentValue=m),yh(e,r),li(e,r,l,a),r.child;case 6:return e===null&&Ze&&((e=a=jn)&&(a=Kb(a,r.pendingProps,Gi),a!==null?(r.stateNode=a,Mr=r,jn=null,e=!0):e=!1),e||Eo(r)),null;case 13:return X_(e,r,a);case 4:return $e(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Bu(r,null,l,a):li(e,r,l,a),r.child;case 11:return B_(e,r,r.type,r.pendingProps,a);case 7:return li(e,r,r.pendingProps,a),r.child;case 8:return li(e,r,r.pendingProps.children,a),r.child;case 12:return li(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ra(r,r.type,l.value),li(e,r,l.children,a),r.child;case 9:return m=r.type._context,l=r.pendingProps.children,To(r),m=Gr(m),l=l(m),r.flags|=1,li(e,r,l,a),r.child;case 14:return q_(e,r,r.type,r.pendingProps,a);case 15:return z_(e,r,r.type,r.pendingProps,a);case 19:return K_(e,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},e===null?(a=_h(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=bi(e.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return H_(e,r,a);case 24:return To(r),l=Gr(sr),e===null?(m=Wl(),m===null&&(m=kn,w=Cc(),m.pooledCache=w,w.refCount++,w!==null&&(m.pooledCacheLanes|=a),m=w),r.memoizedState={parent:l,cache:m},Nc(r),Ra(r,sr,m)):((e.lanes&a)!==0&&(Ue(e,r),ru(r,null,null,a),nu()),m=e.memoizedState,w=r.memoizedState,m.parent!==l?(m={parent:l,cache:l},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Ra(r,sr,l)):(l=w.cache,Ra(r,sr,l),l!==m.cache&&Du(r,[sr],a,!0))),li(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function No(e){e.flags|=4}function J_(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!a0(r)){if(r=ea.current,r!==null&&((tn&4194048)===tn?Za!==null:(tn&62914560)!==tn&&(tn&536870912)===0||r!==Za))throw tu=Ic,eh;e.flags|=8192}}function vh(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?ys():536870912,e.lanes|=r,Fu|=r)}function Uc(e,r){if(!Ze)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Wn(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,l|=m.subtreeFlags&65011712,l|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,l|=m.subtreeFlags,l|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function Tb(e,r,a){var l=r.pendingProps;switch($l(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(r),null;case 1:return Wn(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Zs(sr),Nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ga(r)?No(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Js())),Wn(r),null;case 26:return a=r.memoizedState,e===null?(No(r),a!==null?(Wn(r),J_(r,a)):(Wn(r),r.flags&=-16777217)):a?a!==e.memoizedState?(No(r),Wn(r),J_(r,a)):(Wn(r),r.flags&=-16777217):(e.memoizedProps!==l&&No(r),Wn(r),r.flags&=-16777217),null;case 27:pn(r),a=ue.current;var m=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&No(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Wn(r),null}e=ie.current,Ga(r)?Rc(r):(e=Jv(m,l,a),r.stateNode=e,No(r))}return Wn(r),null;case 5:if(pn(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&No(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Wn(r),null}if(e=ie.current,Ga(r))Rc(r);else{switch(m=Oh(ue.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?m.createElement(a,{is:l.is}):m.createElement(a)}}e[On]=r,e[cn]=l;t:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break t;for(;m.sibling===null;){if(m.return===null||m.return===r)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=e;t:switch(ci(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&No(r)}}return Wn(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&No(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=ue.current,Ga(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,m=Mr,m!==null)switch(m.tag){case 27:case 5:l=m.memoizedProps}e[On]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||$v(e.nodeValue,a)),e||Eo(r)}else e=Oh(e).createTextNode(l),e[On]=r,r.stateNode=e}return Wn(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Ga(r),l!==null&&l.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[On]=r}else Qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Wn(r),m=!1}else m=Js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Co(r),r):(Co(r),null)}if(Co(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=r.child,m=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(m=l.alternate.memoizedState.cachePool.pool);var w=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(w=l.memoizedState.cachePool.pool),w!==m&&(l.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),vh(r,r.updateQueue),Wn(r),null;case 4:return Nn(),e===null&&im(r.stateNode.containerInfo),Wn(r),null;case 10:return Zs(r.type),Wn(r),null;case 19:if(qt(Vr),m=r.memoizedState,m===null)return Wn(r),null;if(l=(r.flags&128)!==0,w=m.rendering,w===null)if(l)Uc(m,!1);else{if(rr!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(w=ph(e),w!==null){for(r.flags|=128,Uc(m,!1),e=w.updateQueue,r.updateQueue=e,vh(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)vo(a,e),a=a.sibling;return Lt(Vr,Vr.current&1|2),r.child}e=e.sibling}m.tail!==null&&Rr()>Th&&(r.flags|=128,l=!0,Uc(m,!1),r.lanes=4194304)}else{if(!l)if(e=ph(w),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,vh(r,e),Uc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Ze)return Wn(r),null}else 2*Rr()-m.renderingStartTime>Th&&a!==536870912&&(r.flags|=128,l=!0,Uc(m,!1),r.lanes=4194304);m.isBackwards?(w.sibling=r.child,r.child=w):(e=m.last,e!==null?e.sibling=w:r.child=w,m.last=w)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Rr(),r.sibling=null,e=Vr.current,Lt(Vr,l?e&1|2:e&1),r):(Wn(r),null);case 22:case 23:return Co(r),Mc(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Wn(r),r.subtreeFlags&6&&(r.flags|=8192)):Wn(r),a=r.updateQueue,a!==null&&vh(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&qt(bo),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Zs(sr),Wn(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Ab(e,r){switch($l(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Zs(sr),Nn(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return pn(r),null;case 13:if(Co(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qa()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return qt(Vr),null;case 4:return Nn(),null;case 10:return Zs(r.type),null;case 22:case 23:return Co(r),Mc(),e!==null&&qt(bo),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Zs(sr),null;case 25:return null;default:return null}}function Z_(e,r){switch($l(r),r.tag){case 3:Zs(sr),Nn();break;case 26:case 27:case 5:pn(r);break;case 4:Nn();break;case 13:Co(r);break;case 19:qt(Vr);break;case 10:Zs(r.type);break;case 22:case 23:Co(r),Mc(),e!==null&&qt(bo);break;case 24:Zs(sr)}}function jc(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var m=l.next;a=m;do{if((a.tag&e)===e){l=void 0;var w=a.create,N=a.inst;l=w(),N.destroy=l}a=a.next}while(a!==m)}}catch(k){In(r,r.return,k)}}function al(e,r,a){try{var l=r.updateQueue,m=l!==null?l.lastEffect:null;if(m!==null){var w=m.next;l=w;do{if((l.tag&e)===e){var N=l.inst,k=N.destroy;if(k!==void 0){N.destroy=void 0,m=r;var G=a,ht=k;try{ht()}catch(At){In(m,G,At)}}}l=l.next}while(l!==w)}}catch(At){In(r,r.return,At)}}function tv(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{ah(r,a)}catch(l){In(e,e.return,l)}}}function ev(e,r,a){a.props=au(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){In(e,r,l)}}function Bc(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(m){In(e,r,m)}}function to(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(m){In(e,r,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){In(e,r,m)}else a.current=null}function nv(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(m){In(e,e.return,m)}}function Vp(e,r,a){try{var l=e.stateNode;Fb(l,e.type,a,r),l[cn]=r}catch(m){In(e,e.return,m)}}function rv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pl(e.type)||e.tag===4}function kp(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||rv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pl(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lp(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Dh));else if(l!==4&&(l===27&&pl(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Lp(e,r,a),e=e.sibling;e!==null;)Lp(e,r,a),e=e.sibling}function wh(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&pl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(wh(e,r,a),e=e.sibling;e!==null;)wh(e,r,a),e=e.sibling}function iv(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);ci(r,l,a),r[On]=e,r[cn]=a}catch(w){In(e,e.return,w)}}var Do=!1,lr=!1,Pp=!1,sv=typeof WeakSet=="function"?WeakSet:Set,Xr=null;function bb(e,r){if(e=e.containerInfo,om=Uh,e=Ss(e),Ai(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var m=l.anchorOffset,w=l.focusNode;l=l.focusOffset;try{a.nodeType,w.nodeType}catch{a=null;break t}var N=0,k=-1,G=-1,ht=0,At=0,It=e,mt=null;e:for(;;){for(var yt;It!==a||m!==0&&It.nodeType!==3||(k=N+m),It!==w||l!==0&&It.nodeType!==3||(G=N+l),It.nodeType===3&&(N+=It.nodeValue.length),(yt=It.firstChild)!==null;)mt=It,It=yt;for(;;){if(It===e)break e;if(mt===a&&++ht===m&&(k=N),mt===w&&++At===l&&(G=N),(yt=It.nextSibling)!==null)break;It=mt,mt=It.parentNode}It=yt}a=k===-1||G===-1?null:{start:k,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:e,selectionRange:a},Uh=!1,Xr=r;Xr!==null;)if(r=Xr,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Xr=e;else for(;Xr!==null;){switch(r=Xr,w=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&w!==null){e=void 0,a=r,m=w.memoizedProps,w=w.memoizedState,l=a.stateNode;try{var Re=au(a.type,m,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Re,w),l.__reactInternalSnapshotBeforeUpdate=e}catch(ye){In(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)fm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Xr=e;break}Xr=r.return}}function av(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ol(e,a),l&4&&jc(5,a);break;case 1:if(ol(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(N){In(a,a.return,N)}else{var m=au(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(m,r,e.__reactInternalSnapshotBeforeUpdate)}catch(N){In(a,a.return,N)}}l&64&&tv(a),l&512&&Bc(a,a.return);break;case 3:if(ol(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ah(e,r)}catch(N){In(a,a.return,N)}}break;case 27:r===null&&l&4&&iv(a);case 26:case 5:ol(e,a),r===null&&l&4&&nv(a),l&512&&Bc(a,a.return);break;case 12:ol(e,a);break;case 13:ol(e,a),l&4&&uv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Mb.bind(null,a),Wb(e,a))));break;case 22:if(l=a.memoizedState!==null||Do,!l){r=r!==null&&r.memoizedState!==null||lr,m=Do;var w=lr;Do=l,(lr=r)&&!w?ll(e,a,(a.subtreeFlags&8772)!==0):ol(e,a),Do=m,lr=w}break;case 30:break;default:ol(e,a)}}function ov(e){var r=e.alternate;r!==null&&(e.alternate=null,ov(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Cr(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Gn=null,us=!1;function Oo(e,r,a){for(a=a.child;a!==null;)lv(e,r,a),a=a.sibling}function lv(e,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Sn,a)}catch{}switch(a.tag){case 26:lr||to(a,r),Oo(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lr||to(a,r);var l=Gn,m=us;pl(a.type)&&(Gn=a.stateNode,us=!1),Oo(e,r,a),Yc(a.stateNode),Gn=l,us=m;break;case 5:lr||to(a,r);case 6:if(l=Gn,m=us,Gn=null,Oo(e,r,a),Gn=l,us=m,Gn!==null)if(us)try{(Gn.nodeType===9?Gn.body:Gn.nodeName==="HTML"?Gn.ownerDocument.body:Gn).removeChild(a.stateNode)}catch(w){In(a,r,w)}else try{Gn.removeChild(a.stateNode)}catch(w){In(a,r,w)}break;case 18:Gn!==null&&(us?(e=Gn,Kv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),rf(e)):Kv(Gn,a.stateNode));break;case 4:l=Gn,m=us,Gn=a.stateNode.containerInfo,us=!0,Oo(e,r,a),Gn=l,us=m;break;case 0:case 11:case 14:case 15:lr||al(2,a,r),lr||al(4,a,r),Oo(e,r,a);break;case 1:lr||(to(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ev(a,r,l)),Oo(e,r,a);break;case 21:Oo(e,r,a);break;case 22:lr=(l=lr)||a.memoizedState!==null,Oo(e,r,a),lr=l;break;default:Oo(e,r,a)}}function uv(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rf(e)}catch(a){In(r,r.return,a)}}function Sb(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new sv),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new sv),r;default:throw Error(s(435,e.tag))}}function Up(e,r){var a=Sb(e);r.forEach(function(l){var m=Vb.bind(null,e,l);a.has(l)||(a.add(l),l.then(m,m))})}function Cs(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var m=a[l],w=e,N=r,k=N;t:for(;k!==null;){switch(k.tag){case 27:if(pl(k.type)){Gn=k.stateNode,us=!1;break t}break;case 5:Gn=k.stateNode,us=!1;break t;case 3:case 4:Gn=k.stateNode.containerInfo,us=!0;break t}k=k.return}if(Gn===null)throw Error(s(160));lv(w,N,m),Gn=null,us=!1,w=m.alternate,w!==null&&(w.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)cv(r,e),r=r.sibling}var Ia=null;function cv(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cs(r,e),Is(e),l&4&&(al(3,e,e.return),jc(3,e),al(5,e,e.return));break;case 1:Cs(r,e),Is(e),l&512&&(lr||a===null||to(a,a.return)),l&64&&Do&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var m=Ia;if(Cs(r,e),Is(e),l&512&&(lr||a===null||to(a,a.return)),l&4){var w=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,m=m.ownerDocument||m;e:switch(l){case"title":w=m.getElementsByTagName("title")[0],(!w||w[da]||w[On]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=m.createElement(l),m.head.insertBefore(w,m.querySelector("head > title"))),ci(w,l,a),w[On]=e,we(w),l=w;break t;case"link":var N=i0("link","href",m).get(l+(a.href||""));if(N){for(var k=0;k<N.length;k++)if(w=N[k],w.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&w.getAttribute("rel")===(a.rel==null?null:a.rel)&&w.getAttribute("title")===(a.title==null?null:a.title)&&w.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(k,1);break e}}w=m.createElement(l),ci(w,l,a),m.head.appendChild(w);break;case"meta":if(N=i0("meta","content",m).get(l+(a.content||""))){for(k=0;k<N.length;k++)if(w=N[k],w.getAttribute("content")===(a.content==null?null:""+a.content)&&w.getAttribute("name")===(a.name==null?null:a.name)&&w.getAttribute("property")===(a.property==null?null:a.property)&&w.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&w.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(k,1);break e}}w=m.createElement(l),ci(w,l,a),m.head.appendChild(w);break;default:throw Error(s(468,l))}w[On]=e,we(w),l=w}e.stateNode=l}else s0(m,e.type,e.stateNode);else e.stateNode=r0(m,l,e.memoizedProps);else w!==l?(w===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):w.count--,l===null?s0(m,e.type,e.stateNode):r0(m,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Vp(e,e.memoizedProps,a.memoizedProps)}break;case 27:Cs(r,e),Is(e),l&512&&(lr||a===null||to(a,a.return)),a!==null&&l&4&&Vp(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Cs(r,e),Is(e),l&512&&(lr||a===null||to(a,a.return)),e.flags&32){m=e.stateNode;try{Rn(m,"")}catch(yt){In(e,e.return,yt)}}l&4&&e.stateNode!=null&&(m=e.memoizedProps,Vp(e,m,a!==null?a.memoizedProps:m)),l&1024&&(Pp=!0);break;case 6:if(Cs(r,e),Is(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(yt){In(e,e.return,yt)}}break;case 3:if(kh=null,m=Ia,Ia=Mh(r.containerInfo),Cs(r,e),Ia=m,Is(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{rf(r.containerInfo)}catch(yt){In(e,e.return,yt)}Pp&&(Pp=!1,fv(e));break;case 4:l=Ia,Ia=Mh(e.stateNode.containerInfo),Cs(r,e),Is(e),Ia=l;break;case 12:Cs(r,e),Is(e);break;case 13:Cs(r,e),Is(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fp=Rr()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Up(e,l)));break;case 22:m=e.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,ht=Do,At=lr;if(Do=ht||m,lr=At||G,Cs(r,e),lr=At,Do=ht,Is(e),l&8192)t:for(r=e.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(a===null||G||Do||lr||ou(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){G=a=r;try{if(w=G.stateNode,m)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{k=G.stateNode;var It=G.memoizedProps.style,mt=It!=null&&It.hasOwnProperty("display")?It.display:null;k.style.display=mt==null||typeof mt=="boolean"?"":(""+mt).trim()}}catch(yt){In(G,G.return,yt)}}}else if(r.tag===6){if(a===null){G=r;try{G.stateNode.nodeValue=m?"":G.memoizedProps}catch(yt){In(G,G.return,yt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Up(e,a))));break;case 19:Cs(r,e),Is(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Up(e,l)));break;case 30:break;case 21:break;default:Cs(r,e),Is(e)}}function Is(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(rv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,w=kp(e);wh(e,w,m);break;case 5:var N=a.stateNode;a.flags&32&&(Rn(N,""),a.flags&=-33);var k=kp(e);wh(e,k,N);break;case 3:case 4:var G=a.stateNode.containerInfo,ht=kp(e);Lp(e,ht,G);break;default:throw Error(s(161))}}catch(At){In(e,e.return,At)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function fv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;fv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function ol(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)av(e,r.alternate,r),r=r.sibling}function ou(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:al(4,r,r.return),ou(r);break;case 1:to(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&ev(r,r.return,a),ou(r);break;case 27:Yc(r.stateNode);case 26:case 5:to(r,r.return),ou(r);break;case 22:r.memoizedState===null&&ou(r);break;case 30:ou(r);break;default:ou(r)}e=e.sibling}}function ll(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,m=e,w=r,N=w.flags;switch(w.tag){case 0:case 11:case 15:ll(m,w,a),jc(4,w);break;case 1:if(ll(m,w,a),l=w,m=l.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ht){In(l,l.return,ht)}if(l=w,m=l.updateQueue,m!==null){var k=l.stateNode;try{var G=m.shared.hiddenCallbacks;if(G!==null)for(m.shared.hiddenCallbacks=null,m=0;m<G.length;m++)sh(G[m],k)}catch(ht){In(l,l.return,ht)}}a&&N&64&&tv(w),Bc(w,w.return);break;case 27:iv(w);case 26:case 5:ll(m,w,a),a&&l===null&&N&4&&nv(w),Bc(w,w.return);break;case 12:ll(m,w,a);break;case 13:ll(m,w,a),a&&N&4&&uv(m,w);break;case 22:w.memoizedState===null&&ll(m,w,a),Bc(w,w.return);break;case 30:break;default:ll(m,w,a)}r=r.sibling}}function jp(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xl(a))}function Bp(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Xl(e))}function eo(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hv(e,r,a,l),r=r.sibling}function hv(e,r,a,l){var m=r.flags;switch(r.tag){case 0:case 11:case 15:eo(e,r,a,l),m&2048&&jc(9,r);break;case 1:eo(e,r,a,l);break;case 3:eo(e,r,a,l),m&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Xl(e)));break;case 12:if(m&2048){eo(e,r,a,l),e=r.stateNode;try{var w=r.memoizedProps,N=w.id,k=w.onPostCommit;typeof k=="function"&&k(N,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(G){In(r,r.return,G)}}else eo(e,r,a,l);break;case 13:eo(e,r,a,l);break;case 23:break;case 22:w=r.stateNode,N=r.alternate,r.memoizedState!==null?w._visibility&2?eo(e,r,a,l):qc(e,r):w._visibility&2?eo(e,r,a,l):(w._visibility|=2,qu(e,r,a,l,(r.subtreeFlags&10256)!==0)),m&2048&&jp(N,r);break;case 24:eo(e,r,a,l),m&2048&&Bp(r.alternate,r);break;default:eo(e,r,a,l)}}function qu(e,r,a,l,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var w=e,N=r,k=a,G=l,ht=N.flags;switch(N.tag){case 0:case 11:case 15:qu(w,N,k,G,m),jc(8,N);break;case 23:break;case 22:var At=N.stateNode;N.memoizedState!==null?At._visibility&2?qu(w,N,k,G,m):qc(w,N):(At._visibility|=2,qu(w,N,k,G,m)),m&&ht&2048&&jp(N.alternate,N);break;case 24:qu(w,N,k,G,m),m&&ht&2048&&Bp(N.alternate,N);break;default:qu(w,N,k,G,m)}r=r.sibling}}function qc(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,m=l.flags;switch(l.tag){case 22:qc(a,l),m&2048&&jp(l.alternate,l);break;case 24:qc(a,l),m&2048&&Bp(l.alternate,l);break;default:qc(a,l)}r=r.sibling}}var zc=8192;function zu(e){if(e.subtreeFlags&zc)for(e=e.child;e!==null;)dv(e),e=e.sibling}function dv(e){switch(e.tag){case 26:zu(e),e.flags&zc&&e.memoizedState!==null&&cS(Ia,e.memoizedState,e.memoizedProps);break;case 5:zu(e);break;case 3:case 4:var r=Ia;Ia=Mh(e.stateNode.containerInfo),zu(e),Ia=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=zc,zc=16777216,zu(e),zc=r):zu(e));break;default:zu(e)}}function pv(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Hc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xr=l,gv(l,e)}pv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mv(e),e=e.sibling}function mv(e){switch(e.tag){case 0:case 11:case 15:Hc(e),e.flags&2048&&al(9,e,e.return);break;case 3:Hc(e);break;case 12:Hc(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Eh(e)):Hc(e);break;default:Hc(e)}}function Eh(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xr=l,gv(l,e)}pv(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:al(8,r,r.return),Eh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Eh(r));break;default:Eh(r)}e=e.sibling}}function gv(e,r){for(;Xr!==null;){var a=Xr;switch(a.tag){case 0:case 11:case 15:al(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xr=l;else t:for(a=e;Xr!==null;){l=Xr;var m=l.sibling,w=l.return;if(ov(l),l===a){Xr=null;break t}if(m!==null){m.return=w,Xr=m;break t}Xr=w}}}var Rb={getCacheForType:function(e){var r=Gr(sr),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},xb=typeof WeakMap=="function"?WeakMap:Map,yn=0,kn=null,ze=null,tn=0,_n=0,Ns=null,ul=!1,Hu=!1,qp=!1,Mo=0,rr=0,cl=0,lu=0,zp=0,na=0,Fu=0,Fc=null,cs=null,Hp=!1,Fp=0,Th=1/0,Ah=null,fl=null,ui=0,hl=null,$u=null,Gu=0,$p=0,Gp=null,yv=null,$c=0,Qp=null;function Ds(){if((yn&2)!==0&&tn!==0)return tn&-tn;if(wt.T!==null){var e=Zo;return e!==0?e:tm()}return Ge()}function _v(){na===0&&(na=(tn&536870912)===0||Ze?po():536870912);var e=ea.current;return e!==null&&(e.flags|=32),na}function Os(e,r,a){(e===kn&&(_n===2||_n===9)||e.cancelPendingCommit!==null)&&(Qu(e,0),dl(e,tn,na,!1)),Ki(e,a),((yn&2)===0||e!==kn)&&(e===kn&&((yn&2)===0&&(lu|=a),rr===4&&dl(e,tn,na,!1)),no(e))}function vv(e,r,a){if((yn&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&e.expiredLanes)===0||gs(e,r),m=l?Nb(e,r):Kp(e,r,!0),w=l;do{if(m===0){Hu&&!l&&dl(e,r,0,!1);break}else{if(a=e.current.alternate,w&&!Cb(a)){m=Kp(e,r,!1),w=!1;continue}if(m===2){if(w=r,e.errorRecoveryDisabledLanes&w)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){r=N;t:{var k=e;m=Fc;var G=k.current.memoizedState.isDehydrated;if(G&&(Qu(k,N).flags|=256),N=Kp(k,N,!1),N!==2){if(qp&&!G){k.errorRecoveryDisabledLanes|=w,lu|=w,m=4;break t}w=cs,cs=m,w!==null&&(cs===null?cs=w:cs.push.apply(cs,w))}m=N}if(w=!1,m!==2)continue}}if(m===1){Qu(e,0),dl(e,r,0,!0);break}t:{switch(l=e,w=m,w){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:dl(l,r,na,!ul);break t;case 2:cs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Fp+300-Rr(),10<m)){if(dl(l,r,na,!ul),fa(l,0,!0)!==0)break t;l.timeoutHandle=Xv(wv.bind(null,l,a,cs,Ah,Hp,r,na,lu,Fu,ul,w,2,-0,0),m);break t}wv(l,a,cs,Ah,Hp,r,na,lu,Fu,ul,w,0,-0,0)}}break}while(!0);no(e)}function wv(e,r,a,l,m,w,N,k,G,ht,At,It,mt,yt){if(e.timeoutHandle=-1,It=r.subtreeFlags,(It&8192||(It&16785408)===16785408)&&(Jc={stylesheets:null,count:0,unsuspend:uS},dv(r),It=fS(),It!==null)){e.cancelPendingCommit=It(xv.bind(null,e,r,w,a,l,m,N,k,G,At,1,mt,yt)),dl(e,w,N,!ht);return}xv(e,r,w,a,l,m,N,k,G)}function Cb(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var m=a[l],w=m.getSnapshot;m=m.value;try{if(!En(w(),m))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function dl(e,r,a,l){r&=~zp,r&=~lu,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var m=r;0<m;){var w=31-fr(m),N=1<<w;l[w]=-1,m&=~N}a!==0&&Mi(e,a,r)}function bh(){return(yn&6)===0?(Gc(0),!1):!0}function Xp(){if(ze!==null){if(_n===0)var e=ze.return;else e=ze,Rs=Sa=null,Et(e),ju=null,Lc=0,e=ze;for(;e!==null;)Z_(e.alternate,e),e=e.return;ze=null}}function Qu(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Gb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xp(),kn=e,ze=a=bi(e.current,null),tn=r,_n=0,Ns=null,ul=!1,Hu=gs(e,r),qp=!1,Fu=na=zp=lu=cl=rr=0,cs=Fc=null,Hp=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var m=31-fr(l),w=1<<m;r|=e[m],l&=~w}return Mo=r,Yn(),a}function Ev(e,r){ke=null,wt.H=fh,r===tl||r===Zl?(r=Vu(),_n=3):r===eh?(r=Vu(),_n=4):_n=r===j_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ns=r,ze===null&&(rr=1,gh(e,Ve(r,e.current)))}function Tv(){var e=wt.H;return wt.H=fh,e===null?fh:e}function Av(){var e=wt.A;return wt.A=Rb,e}function Yp(){rr=4,ul||(tn&4194048)!==tn&&ea.current!==null||(Hu=!0),(cl&134217727)===0&&(lu&134217727)===0||kn===null||dl(kn,tn,na,!1)}function Kp(e,r,a){var l=yn;yn|=2;var m=Tv(),w=Av();(kn!==e||tn!==r)&&(Ah=null,Qu(e,r)),r=!1;var N=rr;t:do try{if(_n!==0&&ze!==null){var k=ze,G=Ns;switch(_n){case 8:Xp(),N=6;break t;case 3:case 2:case 9:case 6:ea.current===null&&(r=!0);var ht=_n;if(_n=0,Ns=null,Xu(e,k,G,ht),a&&Hu){N=0;break t}break;default:ht=_n,_n=0,Ns=null,Xu(e,k,G,ht)}}Ib(),N=rr;break}catch(At){Ev(e,At)}while(!0);return r&&e.shellSuspendCounter++,Rs=Sa=null,yn=l,wt.H=m,wt.A=w,ze===null&&(kn=null,tn=0,Yn()),N}function Ib(){for(;ze!==null;)bv(ze)}function Nb(e,r){var a=yn;yn|=2;var l=Tv(),m=Av();kn!==e||tn!==r?(Ah=null,Th=Rr()+500,Qu(e,r)):Hu=gs(e,r);t:do try{if(_n!==0&&ze!==null){r=ze;var w=Ns;e:switch(_n){case 1:_n=0,Ns=null,Xu(e,r,w,1);break;case 2:case 9:if(nh(w)){_n=0,Ns=null,Sv(r);break}r=function(){_n!==2&&_n!==9||kn!==e||(_n=7),no(e)},w.then(r,r);break t;case 3:_n=7;break t;case 4:_n=5;break t;case 7:nh(w)?(_n=0,Ns=null,Sv(r)):(_n=0,Ns=null,Xu(e,r,w,7));break;case 5:var N=null;switch(ze.tag){case 26:N=ze.memoizedState;case 5:case 27:var k=ze;if(!N||a0(N)){_n=0,Ns=null;var G=k.sibling;if(G!==null)ze=G;else{var ht=k.return;ht!==null?(ze=ht,Sh(ht)):ze=null}break e}}_n=0,Ns=null,Xu(e,r,w,5);break;case 6:_n=0,Ns=null,Xu(e,r,w,6);break;case 8:Xp(),rr=6;break t;default:throw Error(s(462))}}Db();break}catch(At){Ev(e,At)}while(!0);return Rs=Sa=null,wt.H=l,wt.A=m,yn=a,ze!==null?0:(kn=null,tn=0,Yn(),rr)}function Db(){for(;ze!==null&&!la();)bv(ze)}function bv(e){var r=W_(e.alternate,e,Mo);e.memoizedProps=e.pendingProps,r===null?Sh(e):ze=r}function Sv(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=$_(a,r,r.pendingProps,r.type,void 0,tn);break;case 11:r=$_(a,r,r.pendingProps,r.type.render,r.ref,tn);break;case 5:Et(r);default:Z_(a,r),r=ze=vo(r,Mo),r=W_(a,r,Mo)}e.memoizedProps=e.pendingProps,r===null?Sh(e):ze=r}function Xu(e,r,a,l){Rs=Sa=null,Et(r),ju=null,Lc=0;var m=r.return;try{if(wb(e,m,r,a,tn)){rr=1,gh(e,Ve(a,e.current)),ze=null;return}}catch(w){if(m!==null)throw ze=m,w;rr=1,gh(e,Ve(a,e.current)),ze=null;return}r.flags&32768?(Ze||l===1?e=!0:Hu||(tn&536870912)!==0?e=!1:(ul=e=!0,(l===2||l===9||l===3||l===6)&&(l=ea.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rv(r,e)):Sh(r)}function Sh(e){var r=e;do{if((r.flags&32768)!==0){Rv(r,ul);return}e=r.return;var a=Tb(r.alternate,r,Mo);if(a!==null){ze=a;return}if(r=r.sibling,r!==null){ze=r;return}ze=r=e}while(r!==null);rr===0&&(rr=5)}function Rv(e,r){do{var a=Ab(e.alternate,e);if(a!==null){a.flags&=32767,ze=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){ze=e;return}ze=e=a}while(e!==null);rr=6,ze=null}function xv(e,r,a,l,m,w,N,k,G){e.cancelPendingCommit=null;do Rh();while(ui!==0);if((yn&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(w=r.lanes|r.childLanes,w|=$n,ha(e,a,w,N,k,G),e===kn&&(ze=kn=null,tn=0),$u=r,hl=e,Gu=a,$p=w,Gp=m,yv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kb(Yi,function(){return Ov(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=wt.T,wt.T=null,m=zt.p,zt.p=2,N=yn,yn|=4;try{bb(e,r,a)}finally{yn=N,zt.p=m,wt.T=l}}ui=1,Cv(),Iv(),Nv()}}function Cv(){if(ui===1){ui=0;var e=hl,r=$u,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=wt.T,wt.T=null;var l=zt.p;zt.p=2;var m=yn;yn|=4;try{cv(r,e);var w=lm,N=Ss(e.containerInfo),k=w.focusedElem,G=w.selectionRange;if(N!==k&&k&&k.ownerDocument&&Xo(k.ownerDocument.documentElement,k)){if(G!==null&&Ai(k)){var ht=G.start,At=G.end;if(At===void 0&&(At=ht),"selectionStart"in k)k.selectionStart=ht,k.selectionEnd=Math.min(At,k.value.length);else{var It=k.ownerDocument||document,mt=It&&It.defaultView||window;if(mt.getSelection){var yt=mt.getSelection(),Re=k.textContent.length,ye=Math.min(G.start,Re),An=G.end===void 0?ye:Math.min(G.end,Re);!yt.extend&&ye>An&&(N=An,An=ye,ye=N);var it=Qo(k,ye),et=Qo(k,An);if(it&&et&&(yt.rangeCount!==1||yt.anchorNode!==it.node||yt.anchorOffset!==it.offset||yt.focusNode!==et.node||yt.focusOffset!==et.offset)){var ct=It.createRange();ct.setStart(it.node,it.offset),yt.removeAllRanges(),ye>An?(yt.addRange(ct),yt.extend(et.node,et.offset)):(ct.setEnd(et.node,et.offset),yt.addRange(ct))}}}}for(It=[],yt=k;yt=yt.parentNode;)yt.nodeType===1&&It.push({element:yt,left:yt.scrollLeft,top:yt.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<It.length;k++){var Rt=It[k];Rt.element.scrollLeft=Rt.left,Rt.element.scrollTop=Rt.top}}Uh=!!om,lm=om=null}finally{yn=m,zt.p=l,wt.T=a}}e.current=r,ui=2}}function Iv(){if(ui===2){ui=0;var e=hl,r=$u,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=wt.T,wt.T=null;var l=zt.p;zt.p=2;var m=yn;yn|=4;try{av(e,r.alternate,r)}finally{yn=m,zt.p=l,wt.T=a}}ui=3}}function Nv(){if(ui===4||ui===3){ui=0,ua();var e=hl,r=$u,a=Gu,l=yv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ui=5:(ui=0,$u=hl=null,Dv(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(fl=null),Je(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Sn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=wt.T,m=zt.p,zt.p=2,wt.T=null;try{for(var w=e.onRecoverableError,N=0;N<l.length;N++){var k=l[N];w(k.value,{componentStack:k.stack})}}finally{wt.T=r,zt.p=m}}(Gu&3)!==0&&Rh(),no(e),m=e.pendingLanes,(a&4194090)!==0&&(m&42)!==0?e===Qp?$c++:($c=0,Qp=e):$c=0,Gc(0)}}function Dv(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Xl(r)))}function Rh(e){return Cv(),Iv(),Nv(),Ov()}function Ov(){if(ui!==5)return!1;var e=hl,r=$p;$p=0;var a=Je(Gu),l=wt.T,m=zt.p;try{zt.p=32>a?32:a,wt.T=null,a=Gp,Gp=null;var w=hl,N=Gu;if(ui=0,$u=hl=null,Gu=0,(yn&6)!==0)throw Error(s(331));var k=yn;if(yn|=4,mv(w.current),hv(w,w.current,N,a),yn=k,Gc(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Sn,w)}catch{}return!0}finally{zt.p=m,wt.T=l,Dv(e,r)}}function Mv(e,r,a){r=Ve(a,r),r=Sp(e.stateNode,r,2),e=Qi(e,r,2),e!==null&&(Ki(e,2),no(e))}function In(e,r,a){if(e.tag===3)Mv(e,e,a);else for(;r!==null;){if(r.tag===3){Mv(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fl===null||!fl.has(l))){e=Ve(a,e),a=P_(2),l=Qi(r,a,2),l!==null&&(U_(a,l,r,e),Ki(l,2),no(l));break}}r=r.return}}function Wp(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new xb;var m=new Set;l.set(r,m)}else m=l.get(r),m===void 0&&(m=new Set,l.set(r,m));m.has(a)||(qp=!0,m.add(a),e=Ob.bind(null,e,r,a),r.then(e,e))}function Ob(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,kn===e&&(tn&a)===a&&(rr===4||rr===3&&(tn&62914560)===tn&&300>Rr()-Fp?(yn&2)===0&&Qu(e,0):zp|=a,Fu===tn&&(Fu=0)),no(e)}function Vv(e,r){r===0&&(r=ys()),e=as(e,r),e!==null&&(Ki(e,r),no(e))}function Mb(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Vv(e,a)}function Vb(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Vv(e,a)}function kb(e,r){return Zr(e,r)}var xh=null,Yu=null,Jp=!1,Ch=!1,Zp=!1,uu=0;function no(e){e!==Yu&&e.next===null&&(Yu===null?xh=Yu=e:Yu=Yu.next=e),Ch=!0,Jp||(Jp=!0,Pb())}function Gc(e,r){if(!Zp&&Ch){Zp=!0;do for(var a=!1,l=xh;l!==null;){if(e!==0){var m=l.pendingLanes;if(m===0)var w=0;else{var N=l.suspendedLanes,k=l.pingedLanes;w=(1<<31-fr(42|e)+1)-1,w&=m&~(N&~k),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(a=!0,Uv(l,w))}else w=tn,w=fa(l,l===kn?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(w&3)===0||gs(l,w)||(a=!0,Uv(l,w));l=l.next}while(a);Zp=!1}}function Lb(){kv()}function kv(){Ch=Jp=!1;var e=0;uu!==0&&($b()&&(e=uu),uu=0);for(var r=Rr(),a=null,l=xh;l!==null;){var m=l.next,w=Lv(l,r);w===0?(l.next=null,a===null?xh=m:a.next=m,m===null&&(Yu=a)):(a=l,(e!==0||(w&3)!==0)&&(Ch=!0)),l=m}Gc(e)}function Lv(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,m=e.expirationTimes,w=e.pendingLanes&-62914561;0<w;){var N=31-fr(w),k=1<<N,G=m[N];G===-1?((k&a)===0||(k&l)!==0)&&(m[N]=qn(k,r)):G<=r&&(e.expiredLanes|=k),w&=~k}if(r=kn,a=tn,a=fa(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(_n===2||_n===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ps(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||gs(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&ps(l),Je(a)){case 2:case 8:a=ms;break;case 32:a=Yi;break;case 268435456:a=Ps;break;default:a=Yi}return l=Pv.bind(null,e),a=Zr(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&ps(l),e.callbackPriority=2,e.callbackNode=null,2}function Pv(e,r){if(ui!==0&&ui!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Rh()&&e.callbackNode!==a)return null;var l=tn;return l=fa(e,e===kn?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(vv(e,l,r),Lv(e,Rr()),e.callbackNode!=null&&e.callbackNode===a?Pv.bind(null,e):null)}function Uv(e,r){if(Rh())return null;vv(e,r,!0)}function Pb(){Qb(function(){(yn&6)!==0?Zr(yi,Lb):kv()})}function tm(){return uu===0&&(uu=po()),uu}function jv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function Bv(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function Ub(e,r,a,l,m){if(r==="submit"&&a&&a.stateNode===m){var w=jv((m[cn]||null).action),N=l.submitter;N&&(r=(r=N[cn]||null)?jv(r.formAction):N.getAttribute("formAction"),r!==null&&(w=r,N=null));var k=new Ts("action","action",null,l,m);e.push({event:k,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(uu!==0){var G=N?Bv(m,N):new FormData(m);wp(a,{pending:!0,data:G,method:m.method,action:w},null,G)}}else typeof w=="function"&&(k.preventDefault(),G=N?Bv(m,N):new FormData(m),wp(a,{pending:!0,data:G,method:m.method,action:w},w,G))},currentTarget:m}]})}}for(var em=0;em<ge.length;em++){var nm=ge[em],jb=nm.toLowerCase(),Bb=nm[0].toUpperCase()+nm.slice(1);ee(jb,"on"+Bb)}ee(X,"onAnimationEnd"),ee(Q,"onAnimationIteration"),ee(vt,"onAnimationStart"),ee("dblclick","onDoubleClick"),ee("focusin","onFocus"),ee("focusout","onBlur"),ee(ft,"onTransitionRun"),ee(xt,"onTransitionStart"),ee(bt,"onTransitionCancel"),ee(Ht,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qc));function qv(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],m=l.event;l=l.listeners;t:{var w=void 0;if(r)for(var N=l.length-1;0<=N;N--){var k=l[N],G=k.instance,ht=k.currentTarget;if(k=k.listener,G!==w&&m.isPropagationStopped())break t;w=k,m.currentTarget=ht;try{w(m)}catch(At){mh(At)}m.currentTarget=null,w=G}else for(N=0;N<l.length;N++){if(k=l[N],G=k.instance,ht=k.currentTarget,k=k.listener,G!==w&&m.isPropagationStopped())break t;w=k,m.currentTarget=ht;try{w(m)}catch(At){mh(At)}m.currentTarget=null,w=G}}}}function He(e,r){var a=r[_s];a===void 0&&(a=r[_s]=new Set);var l=e+"__bubble";a.has(l)||(zv(r,e,2,!1),a.add(l))}function rm(e,r,a){var l=0;r&&(l|=4),zv(a,e,l,r)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function im(e){if(!e[Ih]){e[Ih]=!0,_e.forEach(function(a){a!=="selectionchange"&&(qb.has(a)||rm(a,!1,e),rm(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ih]||(r[Ih]=!0,rm("selectionchange",!1,r))}}function zv(e,r,a,l){switch(h0(r)){case 2:var m=pS;break;case 8:m=mS;break;default:m=_m}a=m.bind(null,r,a,e),m=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),l?m!==void 0?e.addEventListener(r,a,{capture:!0,passive:m}):e.addEventListener(r,a,!0):m!==void 0?e.addEventListener(r,a,{passive:m}):e.addEventListener(r,a,!1)}function sm(e,r,a,l,m){var w=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var N=l.tag;if(N===3||N===4){var k=l.stateNode.containerInfo;if(k===m)break;if(N===4)for(N=l.return;N!==null;){var G=N.tag;if((G===3||G===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;k!==null;){if(N=hr(k),N===null)return;if(G=N.tag,G===5||G===6||G===26||G===27){l=w=N;continue t}k=k.parentNode}}l=l.return}yo(function(){var ht=w,At=Nr(a),It=[];t:{var mt=Kt.get(e);if(mt!==void 0){var yt=Ts,Re=e;switch(e){case"keypress":if(zr(a)===0)break t;case"keydown":case"keyup":yt=Un;break;case"focusin":Re="focus",yt=I;break;case"focusout":Re="blur",yt=I;break;case"beforeblur":case"afterblur":yt=I;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=T;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=Ee;break;case X:case Q:case vt:yt=z;break;case Ht:yt=ir;break;case"scroll":case"scrollend":yt=qa;break;case"wheel":yt=gr;break;case"copy":case"cut":case"paste":yt=at;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Yt;break;case"toggle":case"beforetoggle":yt=yr}var ye=(r&4)!==0,An=!ye&&(e==="scroll"||e==="scrollend"),it=ye?mt!==null?mt+"Capture":null:mt;ye=[];for(var et=ht,ct;et!==null;){var Rt=et;if(ct=Rt.stateNode,Rt=Rt.tag,Rt!==5&&Rt!==26&&Rt!==27||ct===null||it===null||(Rt=ws(et,it),Rt!=null&&ye.push(Xc(et,Rt,ct))),An)break;et=et.return}0<ye.length&&(mt=new yt(mt,Re,null,a,At),It.push({event:mt,listeners:ye}))}}if((r&7)===0){t:{if(mt=e==="mouseover"||e==="pointerover",yt=e==="mouseout"||e==="pointerout",mt&&a!==Bi&&(Re=a.relatedTarget||a.fromElement)&&(hr(Re)||Re[Zn]))break t;if((yt||mt)&&(mt=At.window===At?At:(mt=At.ownerDocument)?mt.defaultView||mt.parentWindow:window,yt?(Re=a.relatedTarget||a.toElement,yt=ht,Re=Re?hr(Re):null,Re!==null&&(An=c(Re),ye=Re.tag,Re!==An||ye!==5&&ye!==27&&ye!==6)&&(Re=null)):(yt=null,Re=ht),yt!==Re)){if(ye=g,Rt="onMouseLeave",it="onMouseEnter",et="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Yt,Rt="onPointerLeave",it="onPointerEnter",et="pointer"),An=yt==null?mt:B(yt),ct=Re==null?mt:B(Re),mt=new ye(Rt,et+"leave",yt,a,At),mt.target=An,mt.relatedTarget=ct,Rt=null,hr(At)===ht&&(ye=new ye(it,et+"enter",Re,a,At),ye.target=ct,ye.relatedTarget=An,Rt=ye),An=Rt,yt&&Re)e:{for(ye=yt,it=Re,et=0,ct=ye;ct;ct=Ku(ct))et++;for(ct=0,Rt=it;Rt;Rt=Ku(Rt))ct++;for(;0<et-ct;)ye=Ku(ye),et--;for(;0<ct-et;)it=Ku(it),ct--;for(;et--;){if(ye===it||it!==null&&ye===it.alternate)break e;ye=Ku(ye),it=Ku(it)}ye=null}else ye=null;yt!==null&&Hv(It,mt,yt,ye,!1),Re!==null&&An!==null&&Hv(It,An,Re,ye,!0)}}t:{if(mt=ht?B(ht):window,yt=mt.nodeName&&mt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&mt.type==="file")var re=ql;else if(Vn(mt))if(Ha)re=Me;else{re=ss;var qe=Iu}else yt=mt.nodeName,!yt||yt.toLowerCase()!=="input"||mt.type!=="checkbox"&&mt.type!=="radio"?ht&&ma(ht.elementType)&&(re=ql):re=fn;if(re&&(re=re(e,ht))){ii(It,re,a,At);break t}qe&&qe(e,mt,ht),e==="focusout"&&ht&&mt.type==="number"&&ht.memoizedProps.value!=null&&ni(mt,"number",mt.value)}switch(qe=ht?B(ht):window,e){case"focusin":(Vn(qe)||qe.contentEditable==="true")&&(Xs=qe,va=ht,Ys=null);break;case"focusout":Ys=va=Xs=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":case"dragend":Fa=!1,zl(It,a,At);break;case"selectionchange":if(Yo)break;case"keydown":case"keyup":zl(It,a,At)}var le;if(wn)t:{switch(e){case"compositionstart":var ve="onCompositionStart";break t;case"compositionend":ve="onCompositionEnd";break t;case"compositionupdate":ve="onCompositionUpdate";break t}ve=void 0}else te?gt(e,a)&&(ve="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(C&&a.locale!=="ko"&&(te||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&te&&(le=ja()):(qi=At,Es="value"in qi?qi.value:qi.textContent,te=!0)),qe=Nh(ht,ve),0<qe.length&&(ve=new Vt(ve,e,null,a,At),It.push({event:ve,listeners:qe}),le?ve.data=le:(le=Bt(a),le!==null&&(ve.data=le)))),(le=A?gn(e,a):Pe(e,a))&&(ve=Nh(ht,"onBeforeInput"),0<ve.length&&(qe=new Vt("onBeforeInput","beforeinput",null,a,At),It.push({event:qe,listeners:ve}),qe.data=le)),Ub(It,e,ht,a,At)}qv(It,r)})}function Xc(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Nh(e,r){for(var a=r+"Capture",l=[];e!==null;){var m=e,w=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||w===null||(m=ws(e,a),m!=null&&l.unshift(Xc(e,m,w)),m=ws(e,r),m!=null&&l.push(Xc(e,m,w))),e.tag===3)return l;e=e.return}return[]}function Ku(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hv(e,r,a,l,m){for(var w=r._reactName,N=[];a!==null&&a!==l;){var k=a,G=k.alternate,ht=k.stateNode;if(k=k.tag,G!==null&&G===l)break;k!==5&&k!==26&&k!==27||ht===null||(G=ht,m?(ht=ws(a,w),ht!=null&&N.unshift(Xc(a,ht,G))):m||(ht=ws(a,w),ht!=null&&N.push(Xc(a,ht,G)))),a=a.return}N.length!==0&&e.push({event:r,listeners:N})}var zb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function Fv(e){return(typeof e=="string"?e:""+e).replace(zb,`
`).replace(Hb,"")}function $v(e,r){return r=Fv(r),Fv(e)===r}function Dh(){}function Tn(e,r,a,l,m,w){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(e,""+l);break;case"className":Vi(e,"class",l);break;case"tabIndex":Vi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(e,a,l);break;case"style":ji(e,l,w);break;case"data":if(r!=="object"){Vi(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ga(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(a==="formAction"?(r!=="input"&&Tn(e,r,"name",m.name,m,null),Tn(e,r,"formEncType",m.formEncType,m,null),Tn(e,r,"formMethod",m.formMethod,m,null),Tn(e,r,"formTarget",m.formTarget,m,null)):(Tn(e,r,"encType",m.encType,m,null),Tn(e,r,"method",m.method,m,null),Tn(e,r,"target",m.target,m,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ga(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Dh);break;case"onScroll":l!=null&&He("scroll",e);break;case"onScrollEnd":l!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ga(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":He("beforetoggle",e),He("toggle",e),vi(e,"popover",l);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bl.get(a)||a,vi(e,a,l))}}function am(e,r,a,l,m,w){switch(a){case"style":ji(e,l,w);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&Rn(e,""+l);break;case"onScroll":l!=null&&He("scroll",e);break;case"onScrollEnd":l!=null&&He("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ur.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),r=a.slice(2,m?a.length-7:void 0),w=e[cn]||null,w=w!=null?w[a]:null,typeof w=="function"&&e.removeEventListener(r,w,m),typeof l=="function")){typeof w!="function"&&w!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,m);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):vi(e,a,l)}}}function ci(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var l=!1,m=!1,w;for(w in a)if(a.hasOwnProperty(w)){var N=a[w];if(N!=null)switch(w){case"src":l=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Tn(e,r,w,N,a,null)}}m&&Tn(e,r,"srcSet",a.srcSet,a,null),l&&Tn(e,r,"src",a.src,a,null);return;case"input":He("invalid",e);var k=w=N=m=null,G=null,ht=null;for(l in a)if(a.hasOwnProperty(l)){var At=a[l];if(At!=null)switch(l){case"name":m=At;break;case"type":N=At;break;case"checked":G=At;break;case"defaultChecked":ht=At;break;case"value":w=At;break;case"defaultValue":k=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(s(137,r));break;default:Tn(e,r,l,At,a,null)}}Pi(e,w,k,G,ht,N,m,!1),Br(e);return;case"select":He("invalid",e),l=N=w=null;for(m in a)if(a.hasOwnProperty(m)&&(k=a[m],k!=null))switch(m){case"value":w=k;break;case"defaultValue":N=k;break;case"multiple":l=k;default:Tn(e,r,m,k,a,null)}r=w,a=N,e.multiple=!!l,r!=null?Ui(e,!!l,r,!1):a!=null&&Ui(e,!!l,a,!0);return;case"textarea":He("invalid",e),w=m=l=null;for(N in a)if(a.hasOwnProperty(N)&&(k=a[N],k!=null))switch(N){case"value":l=k;break;case"defaultValue":m=k;break;case"children":w=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(91));break;default:Tn(e,r,N,k,a,null)}ri(e,l,m,w),Br(e);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Tn(e,r,G,l,a,null)}return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(l=0;l<Qc.length;l++)He(Qc[l],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ht in a)if(a.hasOwnProperty(ht)&&(l=a[ht],l!=null))switch(ht){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Tn(e,r,ht,l,a,null)}return;default:if(ma(r)){for(At in a)a.hasOwnProperty(At)&&(l=a[At],l!==void 0&&am(e,r,At,l,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!=null&&Tn(e,r,k,l,a,null))}function Fb(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,w=null,N=null,k=null,G=null,ht=null,At=null;for(yt in a){var It=a[yt];if(a.hasOwnProperty(yt)&&It!=null)switch(yt){case"checked":break;case"value":break;case"defaultValue":G=It;default:l.hasOwnProperty(yt)||Tn(e,r,yt,null,l,It)}}for(var mt in l){var yt=l[mt];if(It=a[mt],l.hasOwnProperty(mt)&&(yt!=null||It!=null))switch(mt){case"type":w=yt;break;case"name":m=yt;break;case"checked":ht=yt;break;case"defaultChecked":At=yt;break;case"value":N=yt;break;case"defaultValue":k=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(s(137,r));break;default:yt!==It&&Tn(e,r,mt,yt,l,It)}}Ir(e,N,k,G,ht,At,w,m);return;case"select":yt=N=k=mt=null;for(w in a)if(G=a[w],a.hasOwnProperty(w)&&G!=null)switch(w){case"value":break;case"multiple":yt=G;default:l.hasOwnProperty(w)||Tn(e,r,w,null,l,G)}for(m in l)if(w=l[m],G=a[m],l.hasOwnProperty(m)&&(w!=null||G!=null))switch(m){case"value":mt=w;break;case"defaultValue":k=w;break;case"multiple":N=w;default:w!==G&&Tn(e,r,m,w,l,G)}r=k,a=N,l=yt,mt!=null?Ui(e,!!a,mt,!1):!!l!=!!a&&(r!=null?Ui(e,!!a,r,!0):Ui(e,!!a,a?[]:"",!1));return;case"textarea":yt=mt=null;for(k in a)if(m=a[k],a.hasOwnProperty(k)&&m!=null&&!l.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Tn(e,r,k,null,l,m)}for(N in l)if(m=l[N],w=a[N],l.hasOwnProperty(N)&&(m!=null||w!=null))switch(N){case"value":mt=m;break;case"defaultValue":yt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==w&&Tn(e,r,N,m,l,w)}an(e,mt,yt);return;case"option":for(var Re in a)if(mt=a[Re],a.hasOwnProperty(Re)&&mt!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":e.selected=!1;break;default:Tn(e,r,Re,null,l,mt)}for(G in l)if(mt=l[G],yt=a[G],l.hasOwnProperty(G)&&mt!==yt&&(mt!=null||yt!=null))switch(G){case"selected":e.selected=mt&&typeof mt!="function"&&typeof mt!="symbol";break;default:Tn(e,r,G,mt,l,yt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)mt=a[ye],a.hasOwnProperty(ye)&&mt!=null&&!l.hasOwnProperty(ye)&&Tn(e,r,ye,null,l,mt);for(ht in l)if(mt=l[ht],yt=a[ht],l.hasOwnProperty(ht)&&mt!==yt&&(mt!=null||yt!=null))switch(ht){case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(s(137,r));break;default:Tn(e,r,ht,mt,l,yt)}return;default:if(ma(r)){for(var An in a)mt=a[An],a.hasOwnProperty(An)&&mt!==void 0&&!l.hasOwnProperty(An)&&am(e,r,An,void 0,l,mt);for(At in l)mt=l[At],yt=a[At],!l.hasOwnProperty(At)||mt===yt||mt===void 0&&yt===void 0||am(e,r,At,mt,l,yt);return}}for(var it in a)mt=a[it],a.hasOwnProperty(it)&&mt!=null&&!l.hasOwnProperty(it)&&Tn(e,r,it,null,l,mt);for(It in l)mt=l[It],yt=a[It],!l.hasOwnProperty(It)||mt===yt||mt==null&&yt==null||Tn(e,r,It,mt,l,yt)}var om=null,lm=null;function Oh(e){return e.nodeType===9?e:e.ownerDocument}function Gv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function um(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cm=null;function $b(){var e=window.event;return e&&e.type==="popstate"?e===cm?!1:(cm=e,!0):(cm=null,!1)}var Xv=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,Qb=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(e){return Yv.resolve(null).then(e).catch(Xb)}:Xv;function Xb(e){setTimeout(function(){throw e})}function pl(e){return e==="head"}function Kv(e,r){var a=r,l=0,m=0;do{var w=a.nextSibling;if(e.removeChild(a),w&&w.nodeType===8)if(a=w.data,a==="/$"){if(0<l&&8>l){a=l;var N=e.ownerDocument;if(a&1&&Yc(N.documentElement),a&2&&Yc(N.body),a&4)for(a=N.head,Yc(a),N=a.firstChild;N;){var k=N.nextSibling,G=N.nodeName;N[da]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||a.removeChild(N),N=k}}if(m===0){e.removeChild(w),rf(r);return}m--}else a==="$"||a==="$?"||a==="$!"?m++:l=a.charCodeAt(0)-48;else l=0;a=w}while(a);rf(r)}function fm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fm(a),Cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Yb(e,r,a,l){for(;e.nodeType===1;){var m=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[da])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(w=e.getAttribute("rel"),w==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(w!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(w=e.getAttribute("src"),(w!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&w&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var w=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===w)return e}else return e;if(e=Na(e.nextSibling),e===null)break}return null}function Kb(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Na(e.nextSibling),e===null))return null;return e}function hm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Wb(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Na(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var dm=null;function Wv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function Jv(e,r,a){switch(r=Oh(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Yc(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Cr(e)}var ra=new Map,Zv=new Set;function Mh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vo=zt.d;zt.d={f:Jb,r:Zb,D:tS,C:eS,L:nS,m:rS,X:sS,S:iS,M:aS};function Jb(){var e=Vo.f(),r=bh();return e||r}function Zb(e){var r=Ct(e);r!==null&&r.tag===5&&r.type==="form"?v_(r):Vo.r(e)}var Wu=typeof document>"u"?null:document;function t0(e,r,a){var l=Wu;if(l&&typeof r=="string"&&r){var m=sn(r);m='link[rel="'+e+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),Zv.has(m)||(Zv.add(m),e={rel:e,crossOrigin:a,href:r},l.querySelector(m)===null&&(r=l.createElement("link"),ci(r,"link",e),we(r),l.head.appendChild(r)))}}function tS(e){Vo.D(e),t0("dns-prefetch",e,null)}function eS(e,r){Vo.C(e,r),t0("preconnect",e,r)}function nS(e,r,a){Vo.L(e,r,a);var l=Wu;if(l&&e&&r){var m='link[rel="preload"][as="'+sn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+sn(a.imageSizes)+'"]')):m+='[href="'+sn(e)+'"]';var w=m;switch(r){case"style":w=Ju(e);break;case"script":w=Zu(e)}ra.has(w)||(e=O({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),ra.set(w,e),l.querySelector(m)!==null||r==="style"&&l.querySelector(Kc(w))||r==="script"&&l.querySelector(Wc(w))||(r=l.createElement("link"),ci(r,"link",e),we(r),l.head.appendChild(r)))}}function rS(e,r){Vo.m(e,r);var a=Wu;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',w=m;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Zu(e)}if(!ra.has(w)&&(e=O({rel:"modulepreload",href:e},r),ra.set(w,e),a.querySelector(m)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wc(w)))return}l=a.createElement("link"),ci(l,"link",e),we(l),a.head.appendChild(l)}}}function iS(e,r,a){Vo.S(e,r,a);var l=Wu;if(l&&e){var m=pe(l).hoistableStyles,w=Ju(e);r=r||"default";var N=m.get(w);if(!N){var k={loading:0,preload:null};if(N=l.querySelector(Kc(w)))k.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":r},a),(a=ra.get(w))&&pm(e,a);var G=N=l.createElement("link");we(G),ci(G,"link",e),G._p=new Promise(function(ht,At){G.onload=ht,G.onerror=At}),G.addEventListener("load",function(){k.loading|=1}),G.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Vh(N,r,l)}N={type:"stylesheet",instance:N,count:1,state:k},m.set(w,N)}}}function sS(e,r){Vo.X(e,r);var a=Wu;if(a&&e){var l=pe(a).hoistableScripts,m=Zu(e),w=l.get(m);w||(w=a.querySelector(Wc(m)),w||(e=O({src:e,async:!0},r),(r=ra.get(m))&&mm(e,r),w=a.createElement("script"),we(w),ci(w,"link",e),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},l.set(m,w))}}function aS(e,r){Vo.M(e,r);var a=Wu;if(a&&e){var l=pe(a).hoistableScripts,m=Zu(e),w=l.get(m);w||(w=a.querySelector(Wc(m)),w||(e=O({src:e,async:!0,type:"module"},r),(r=ra.get(m))&&mm(e,r),w=a.createElement("script"),we(w),ci(w,"link",e),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},l.set(m,w))}}function e0(e,r,a,l){var m=(m=ue.current)?Mh(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ju(a.href),a=pe(m).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ju(a.href);var w=pe(m).hoistableStyles,N=w.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(e,N),(w=m.querySelector(Kc(e)))&&!w._p&&(N.instance=w,N.state.loading=5),ra.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ra.set(e,a),w||oS(m,e,a,N.state))),r&&l===null)throw Error(s(528,""));return N}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Zu(a),a=pe(m).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ju(e){return'href="'+sn(e)+'"'}function Kc(e){return'link[rel="stylesheet"]['+e+"]"}function n0(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function oS(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),ci(r,"link",a),we(r),e.head.appendChild(r))}function Zu(e){return'[src="'+sn(e)+'"]'}function Wc(e){return"script[async]"+e}function r0(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return r.instance=l,we(l),l;var m=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),we(l),ci(l,"style",m),Vh(l,a.precedence,e),r.instance=l;case"stylesheet":m=Ju(a.href);var w=e.querySelector(Kc(m));if(w)return r.state.loading|=4,r.instance=w,we(w),w;l=n0(a),(m=ra.get(m))&&pm(l,m),w=(e.ownerDocument||e).createElement("link"),we(w);var N=w;return N._p=new Promise(function(k,G){N.onload=k,N.onerror=G}),ci(w,"link",l),r.state.loading|=4,Vh(w,a.precedence,e),r.instance=w;case"script":return w=Zu(a.src),(m=e.querySelector(Wc(w)))?(r.instance=m,we(m),m):(l=a,(m=ra.get(w))&&(l=O({},a),mm(l,m)),e=e.ownerDocument||e,m=e.createElement("script"),we(m),ci(m,"link",l),e.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Vh(l,a.precedence,e));return r.instance}function Vh(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=l.length?l[l.length-1]:null,w=m,N=0;N<l.length;N++){var k=l[N];if(k.dataset.precedence===r)w=k;else if(w!==m)break}w?w.parentNode.insertBefore(e,w.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function pm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function mm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var kh=null;function i0(e,r,a){if(kh===null){var l=new Map,m=kh=new Map;m.set(a,l)}else m=kh,l=m.get(a),l||(l=new Map,m.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),m=0;m<a.length;m++){var w=a[m];if(!(w[da]||w[On]||e==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(r)||"";N=e+N;var k=l.get(N);k?k.push(w):l.set(N,[w])}}return l}function s0(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function lS(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function a0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Jc=null;function uS(){}function cS(e,r,a){if(Jc===null)throw Error(s(475));var l=Jc;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Ju(a.href),w=e.querySelector(Kc(m));if(w){e=w._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Lh.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=w,we(w);return}w=e.ownerDocument||e,a=n0(a),(m=ra.get(m))&&pm(a,m),w=w.createElement("link"),we(w);var N=w;N._p=new Promise(function(k,G){N.onload=k,N.onerror=G}),ci(w,"link",a),r.instance=w}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Lh.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function fS(){if(Jc===null)throw Error(s(475));var e=Jc;return e.stylesheets&&e.count===0&&gm(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&gm(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Lh(){if(this.count--,this.count===0){if(this.stylesheets)gm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ph=null;function gm(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ph=new Map,r.forEach(hS,e),Ph=null,Lh.call(e))}function hS(e,r){if(!(r.state.loading&4)){var a=Ph.get(e);if(a)var l=a.get(null);else{a=new Map,Ph.set(e,a);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<m.length;w++){var N=m[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),l=N)}l&&a.set(null,l)}m=r.instance,N=m.getAttribute("data-precedence"),w=a.get(N)||l,w===l&&a.set(null,m),a.set(N,m),this.count++,l=Lh.bind(this),m.addEventListener("load",l),m.addEventListener("error",l),w?w.parentNode.insertBefore(m,w.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),r.state.loading|=4}}var Zc={$$typeof:Ft,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function dS(e,r,a,l,m,w,N,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=m,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function o0(e,r,a,l,m,w,N,k,G,ht,At,It){return e=new dS(e,r,a,N,k,G,ht,It),r=1,w===!0&&(r|=24),w=Fr(3,null,null,r),e.current=w,w.stateNode=e,r=Cc(),r.refCount++,e.pooledCache=r,r.refCount++,w.memoizedState={element:l,isDehydrated:a,cache:r},Nc(w),e}function l0(e){return e?(e=Ko,e):Ko}function u0(e,r,a,l,m,w){m=l0(m),l.context===null?l.context=m:l.pendingContext=m,l=Ka(r),l.payload={element:a},w=w===void 0?null:w,w!==null&&(l.callback=w),a=Qi(e,l,r),a!==null&&(Os(a,e,r),Wa(a,e,r))}function c0(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function ym(e,r){c0(e,r),(e=e.alternate)&&c0(e,r)}function f0(e){if(e.tag===13){var r=as(e,67108864);r!==null&&Os(r,e,67108864),ym(e,67108864)}}var Uh=!0;function pS(e,r,a,l){var m=wt.T;wt.T=null;var w=zt.p;try{zt.p=2,_m(e,r,a,l)}finally{zt.p=w,wt.T=m}}function mS(e,r,a,l){var m=wt.T;wt.T=null;var w=zt.p;try{zt.p=8,_m(e,r,a,l)}finally{zt.p=w,wt.T=m}}function _m(e,r,a,l){if(Uh){var m=vm(l);if(m===null)sm(e,r,l,jh,a),d0(e,l);else if(yS(m,e,r,a,l))l.stopPropagation();else if(d0(e,l),r&4&&-1<gS.indexOf(e)){for(;m!==null;){var w=Ct(m);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=Dn(w.pendingLanes);if(N!==0){var k=w;for(k.pendingLanes|=2,k.entangledLanes|=2;N;){var G=1<<31-fr(N);k.entanglements[1]|=G,N&=~G}no(w),(yn&6)===0&&(Th=Rr()+500,Gc(0))}}break;case 13:k=as(w,2),k!==null&&Os(k,w,2),bh(),ym(w,2)}if(w=vm(l),w===null&&sm(e,r,l,jh,a),w===m)break;m=w}m!==null&&l.stopPropagation()}else sm(e,r,l,null,a)}}function vm(e){return e=Nr(e),wm(e)}var jh=null;function wm(e){if(jh=null,e=hr(e),e!==null){var r=c(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=y(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return jh=e,null}function h0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ls()){case yi:return 2;case ms:return 8;case Yi:case Va:return 32;case Ps:return 268435456;default:return 32}default:return 32}}var Em=!1,ml=null,gl=null,yl=null,tf=new Map,ef=new Map,_l=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d0(e,r){switch(e){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":tf.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ef.delete(r.pointerId)}}function nf(e,r,a,l,m,w){return e===null||e.nativeEvent!==w?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:w,targetContainers:[m]},r!==null&&(r=Ct(r),r!==null&&f0(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),e)}function yS(e,r,a,l,m){switch(r){case"focusin":return ml=nf(ml,e,r,a,l,m),!0;case"dragenter":return gl=nf(gl,e,r,a,l,m),!0;case"mouseover":return yl=nf(yl,e,r,a,l,m),!0;case"pointerover":var w=m.pointerId;return tf.set(w,nf(tf.get(w)||null,e,r,a,l,m)),!0;case"gotpointercapture":return w=m.pointerId,ef.set(w,nf(ef.get(w)||null,e,r,a,l,m)),!0}return!1}function p0(e){var r=hr(e.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=y(a),r!==null){e.blockedOn=r,Wi(e.priority,function(){if(a.tag===13){var l=Ds();l=_i(l);var m=as(a,l);m!==null&&Os(m,a,l),ym(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bh(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=vm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Bi=l,a.target.dispatchEvent(l),Bi=null}else return r=Ct(a),r!==null&&f0(r),e.blockedOn=a,!1;r.shift()}return!0}function m0(e,r,a){Bh(e)&&a.delete(r)}function _S(){Em=!1,ml!==null&&Bh(ml)&&(ml=null),gl!==null&&Bh(gl)&&(gl=null),yl!==null&&Bh(yl)&&(yl=null),tf.forEach(m0),ef.forEach(m0)}function qh(e,r){e.blockedOn===r&&(e.blockedOn=null,Em||(Em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_S)))}var zh=null;function g0(e){zh!==e&&(zh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zh===e&&(zh=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],m=e[r+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var w=Ct(a);w!==null&&(e.splice(r,3),r-=3,wp(w,{pending:!0,data:m,method:a.method,action:l},l,m))}}))}function rf(e){function r(G){return qh(G,e)}ml!==null&&qh(ml,e),gl!==null&&qh(gl,e),yl!==null&&qh(yl,e),tf.forEach(r),ef.forEach(r);for(var a=0;a<_l.length;a++){var l=_l[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<_l.length&&(a=_l[0],a.blockedOn===null);)p0(a),a.blockedOn===null&&_l.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var m=a[l],w=a[l+1],N=m[cn]||null;if(typeof w=="function")N||g0(a);else if(N){var k=null;if(w&&w.hasAttribute("formAction")){if(m=w,N=w[cn]||null)k=N.formAction;else if(wm(m)!==null)continue}else k=N.action;typeof k=="function"?a[l+1]=k:(a.splice(l,3),l-=3),g0(a)}}}function Tm(e){this._internalRoot=e}Hh.prototype.render=Tm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Ds();u0(a,l,e,r,null,null)},Hh.prototype.unmount=Tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;u0(e.current,2,null,e,null,null),bh(),r[Zn]=null}};function Hh(e){this._internalRoot=e}Hh.prototype.unstable_scheduleHydration=function(e){if(e){var r=Ge();e={blockedOn:null,target:e,priority:r};for(var a=0;a<_l.length&&r!==0&&r<_l[a].priority;a++);_l.splice(a,0,e),a===0&&p0(e)}};var y0=t.version;if(y0!=="19.1.0")throw Error(s(527,y0,"19.1.0"));zt.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=S(r),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var vS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:wt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Sn=Fh.inject(vS),Ke=Fh}catch{}}return of.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",m=M_,w=V_,N=k_,k=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(k=r.unstable_transitionCallbacks)),r=o0(e,1,!1,null,null,a,l,m,w,N,k,null),e[Zn]=r.current,im(e),new Tm(r)},of.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,m="",w=M_,N=V_,k=k_,G=null,ht=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(w=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(G=a.unstable_transitionCallbacks),a.formState!==void 0&&(ht=a.formState)),r=o0(e,1,!0,r,a??null,l,m,w,N,k,G,ht),r.context=l0(null),a=r.current,l=Ds(),l=_i(l),m=Ka(l),m.callback=null,Qi(a,m,l),a=l,r.current.lanes=a,Ki(r,a),no(r),e[Zn]=r.current,im(e),new Hh(r)},of.version="19.1.0",of}var bE;function NO(){if(bE)return $m.exports;bE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),$m.exports=IO(),$m.exports}var DO=NO();let OO=document.getElementById("tirc_content"),MO=["Inex antoinette"],VO=0;DO.createRoot(OO).render(Zt.jsx(bO,{phraseindex:VO,phrases:MO}))});export default kO();
